{"ast":null,"code":"import { useContext } from '@rc-component/context';\nimport * as React from 'react';\nimport { clsx } from 'clsx';\nimport PerfContext from \"../context/PerfContext\";\nimport TableContext, { responseImmutable } from \"../context/TableContext\";\nimport useFlattenRecords from \"../hooks/useFlattenRecords\";\nimport devRenderTimes from \"../hooks/useRenderTimes\";\nimport { getColumnsKey } from \"../utils/valueUtil\";\nimport BodyRow from \"./BodyRow\";\nimport ExpandedRow from \"./ExpandedRow\";\nimport MeasureRow from \"./MeasureRow\";\nconst Body = props => {\n  if (process.env.NODE_ENV !== 'production') {\n    devRenderTimes(props);\n  }\n  const {\n    data,\n    measureColumnWidth\n  } = props;\n  const {\n    prefixCls,\n    getComponent,\n    onColumnResize,\n    flattenColumns,\n    getRowKey,\n    expandedKeys,\n    childrenColumnName,\n    emptyNode,\n    classNames,\n    styles,\n    expandedRowOffset = 0,\n    colWidths\n  } = useContext(TableContext, ['prefixCls', 'getComponent', 'onColumnResize', 'flattenColumns', 'getRowKey', 'expandedKeys', 'childrenColumnName', 'emptyNode', 'classNames', 'styles', 'expandedRowOffset', 'fixedInfoList', 'colWidths']);\n  const {\n    body: bodyCls = {}\n  } = classNames || {};\n  const {\n    body: bodyStyles = {}\n  } = styles || {};\n  const flattenData = useFlattenRecords(data, childrenColumnName, expandedKeys, getRowKey);\n  const rowKeys = React.useMemo(() => flattenData.map(item => item.rowKey), [flattenData]);\n\n  // =================== Performance ====================\n  const perfRef = React.useRef({\n    renderWithProps: false\n  });\n\n  // ===================== Expanded =====================\n  // `expandedRowOffset` data is same for all the rows.\n  // Let's calc on Body side to save performance.\n  const expandedRowInfo = React.useMemo(() => {\n    const expandedColSpan = flattenColumns.length - expandedRowOffset;\n    let expandedStickyStart = 0;\n    for (let i = 0; i < expandedRowOffset; i += 1) {\n      expandedStickyStart += colWidths[i] || 0;\n    }\n    return {\n      offset: expandedRowOffset,\n      colSpan: expandedColSpan,\n      sticky: expandedStickyStart\n    };\n  }, [flattenColumns.length, expandedRowOffset, colWidths]);\n\n  // ====================== Render ======================\n  const WrapperComponent = getComponent(['body', 'wrapper'], 'tbody');\n  const trComponent = getComponent(['body', 'row'], 'tr');\n  const tdComponent = getComponent(['body', 'cell'], 'td');\n  const thComponent = getComponent(['body', 'cell'], 'th');\n  let rows;\n  if (data.length) {\n    rows = flattenData.map((item, idx) => {\n      const {\n        record,\n        indent,\n        index: renderIndex,\n        rowKey\n      } = item;\n      return /*#__PURE__*/React.createElement(BodyRow, {\n        classNames: bodyCls,\n        styles: bodyStyles,\n        key: rowKey,\n        rowKey: rowKey,\n        rowKeys: rowKeys,\n        record: record,\n        index: idx,\n        renderIndex: renderIndex,\n        rowComponent: trComponent,\n        cellComponent: tdComponent,\n        scopeCellComponent: thComponent,\n        indent: indent\n        // Expanded row info\n        ,\n\n        expandedRowInfo: expandedRowInfo\n      });\n    });\n  } else {\n    rows = /*#__PURE__*/React.createElement(ExpandedRow, {\n      expanded: true,\n      className: \"\".concat(prefixCls, \"-placeholder\"),\n      prefixCls: prefixCls,\n      component: trComponent,\n      cellComponent: tdComponent,\n      colSpan: flattenColumns.length,\n      isEmpty: true\n    }, emptyNode);\n  }\n  const columnsKey = getColumnsKey(flattenColumns);\n  return /*#__PURE__*/React.createElement(PerfContext.Provider, {\n    value: perfRef.current\n  }, /*#__PURE__*/React.createElement(WrapperComponent, {\n    style: bodyStyles.wrapper,\n    className: clsx(\"\".concat(prefixCls, \"-tbody\"), bodyCls.wrapper)\n  }, measureColumnWidth && /*#__PURE__*/React.createElement(MeasureRow, {\n    prefixCls: prefixCls,\n    columnsKey: columnsKey,\n    onColumnResize: onColumnResize,\n    columns: flattenColumns\n  }), rows));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Body.displayName = 'Body';\n}\nexport default responseImmutable(Body);","map":{"version":3,"names":["useContext","React","clsx","PerfContext","TableContext","responseImmutable","useFlattenRecords","devRenderTimes","getColumnsKey","BodyRow","ExpandedRow","MeasureRow","Body","props","process","env","NODE_ENV","data","measureColumnWidth","prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","classNames","styles","expandedRowOffset","colWidths","body","bodyCls","bodyStyles","flattenData","rowKeys","useMemo","map","item","rowKey","perfRef","useRef","renderWithProps","expandedRowInfo","expandedColSpan","length","expandedStickyStart","i","offset","colSpan","sticky","WrapperComponent","trComponent","tdComponent","thComponent","rows","idx","record","indent","index","renderIndex","createElement","key","rowComponent","cellComponent","scopeCellComponent","expanded","className","concat","component","isEmpty","columnsKey","Provider","value","current","style","wrapper","columns","displayName"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/table/es/Body/index.js"],"sourcesContent":["import { useContext } from '@rc-component/context';\nimport * as React from 'react';\nimport { clsx } from 'clsx';\nimport PerfContext from \"../context/PerfContext\";\nimport TableContext, { responseImmutable } from \"../context/TableContext\";\nimport useFlattenRecords from \"../hooks/useFlattenRecords\";\nimport devRenderTimes from \"../hooks/useRenderTimes\";\nimport { getColumnsKey } from \"../utils/valueUtil\";\nimport BodyRow from \"./BodyRow\";\nimport ExpandedRow from \"./ExpandedRow\";\nimport MeasureRow from \"./MeasureRow\";\nconst Body = props => {\n  if (process.env.NODE_ENV !== 'production') {\n    devRenderTimes(props);\n  }\n  const {\n    data,\n    measureColumnWidth\n  } = props;\n  const {\n    prefixCls,\n    getComponent,\n    onColumnResize,\n    flattenColumns,\n    getRowKey,\n    expandedKeys,\n    childrenColumnName,\n    emptyNode,\n    classNames,\n    styles,\n    expandedRowOffset = 0,\n    colWidths\n  } = useContext(TableContext, ['prefixCls', 'getComponent', 'onColumnResize', 'flattenColumns', 'getRowKey', 'expandedKeys', 'childrenColumnName', 'emptyNode', 'classNames', 'styles', 'expandedRowOffset', 'fixedInfoList', 'colWidths']);\n  const {\n    body: bodyCls = {}\n  } = classNames || {};\n  const {\n    body: bodyStyles = {}\n  } = styles || {};\n  const flattenData = useFlattenRecords(data, childrenColumnName, expandedKeys, getRowKey);\n  const rowKeys = React.useMemo(() => flattenData.map(item => item.rowKey), [flattenData]);\n\n  // =================== Performance ====================\n  const perfRef = React.useRef({\n    renderWithProps: false\n  });\n\n  // ===================== Expanded =====================\n  // `expandedRowOffset` data is same for all the rows.\n  // Let's calc on Body side to save performance.\n  const expandedRowInfo = React.useMemo(() => {\n    const expandedColSpan = flattenColumns.length - expandedRowOffset;\n    let expandedStickyStart = 0;\n    for (let i = 0; i < expandedRowOffset; i += 1) {\n      expandedStickyStart += colWidths[i] || 0;\n    }\n    return {\n      offset: expandedRowOffset,\n      colSpan: expandedColSpan,\n      sticky: expandedStickyStart\n    };\n  }, [flattenColumns.length, expandedRowOffset, colWidths]);\n\n  // ====================== Render ======================\n  const WrapperComponent = getComponent(['body', 'wrapper'], 'tbody');\n  const trComponent = getComponent(['body', 'row'], 'tr');\n  const tdComponent = getComponent(['body', 'cell'], 'td');\n  const thComponent = getComponent(['body', 'cell'], 'th');\n  let rows;\n  if (data.length) {\n    rows = flattenData.map((item, idx) => {\n      const {\n        record,\n        indent,\n        index: renderIndex,\n        rowKey\n      } = item;\n      return /*#__PURE__*/React.createElement(BodyRow, {\n        classNames: bodyCls,\n        styles: bodyStyles,\n        key: rowKey,\n        rowKey: rowKey,\n        rowKeys: rowKeys,\n        record: record,\n        index: idx,\n        renderIndex: renderIndex,\n        rowComponent: trComponent,\n        cellComponent: tdComponent,\n        scopeCellComponent: thComponent,\n        indent: indent\n        // Expanded row info\n        ,\n        expandedRowInfo: expandedRowInfo\n      });\n    });\n  } else {\n    rows = /*#__PURE__*/React.createElement(ExpandedRow, {\n      expanded: true,\n      className: `${prefixCls}-placeholder`,\n      prefixCls: prefixCls,\n      component: trComponent,\n      cellComponent: tdComponent,\n      colSpan: flattenColumns.length,\n      isEmpty: true\n    }, emptyNode);\n  }\n  const columnsKey = getColumnsKey(flattenColumns);\n  return /*#__PURE__*/React.createElement(PerfContext.Provider, {\n    value: perfRef.current\n  }, /*#__PURE__*/React.createElement(WrapperComponent, {\n    style: bodyStyles.wrapper,\n    className: clsx(`${prefixCls}-tbody`, bodyCls.wrapper)\n  }, measureColumnWidth && /*#__PURE__*/React.createElement(MeasureRow, {\n    prefixCls: prefixCls,\n    columnsKey: columnsKey,\n    onColumnResize: onColumnResize,\n    columns: flattenColumns\n  }), rows));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Body.displayName = 'Body';\n}\nexport default responseImmutable(Body);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}