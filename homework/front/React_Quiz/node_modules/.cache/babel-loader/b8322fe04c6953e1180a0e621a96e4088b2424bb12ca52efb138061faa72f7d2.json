{"ast":null,"code":"import Menu, { MenuItem } from '@rc-component/menu';\nimport React, { useEffect, useRef } from 'react';\nimport MentionsContext from \"./MentionsContext\";\n/**\n * We only use Menu to display the candidate.\n * The focus is controlled by textarea to make accessibility easy.\n */\nfunction DropdownMenu(props) {\n  const {\n    notFoundContent,\n    activeIndex,\n    setActiveIndex,\n    selectOption,\n    onFocus,\n    onBlur,\n    onScroll\n  } = React.useContext(MentionsContext);\n  const {\n    prefixCls,\n    options,\n    opened\n  } = props;\n  const activeOption = options[activeIndex] || {};\n  const menuRef = useRef(null);\n\n  // Monitor the changes in ActiveIndex and scroll to the visible area if there are any changes\n  useEffect(() => {\n    var _menuRef$current, _menuRef$current$find;\n    if (activeIndex === -1 || !menuRef.current || !opened) {\n      return;\n    }\n    const activeItem = (_menuRef$current = menuRef.current) === null || _menuRef$current === void 0 || (_menuRef$current$find = _menuRef$current.findItem) === null || _menuRef$current$find === void 0 ? void 0 : _menuRef$current$find.call(_menuRef$current, {\n      key: activeOption.key\n    });\n    if (activeItem) {\n      activeItem.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }, [activeIndex, activeOption.key, opened]);\n  return /*#__PURE__*/React.createElement(Menu, {\n    ref: menuRef,\n    prefixCls: \"\".concat(prefixCls, \"-menu\"),\n    activeKey: activeOption.key,\n    onSelect: _ref => {\n      let {\n        key\n      } = _ref;\n      const option = options.find(_ref2 => {\n        let {\n          key: optionKey\n        } = _ref2;\n        return optionKey === key;\n      });\n      selectOption(option);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onScroll: onScroll\n  }, options.map((option, index) => {\n    const {\n      key,\n      disabled,\n      className,\n      style,\n      label\n    } = option;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: key,\n      disabled: disabled,\n      className: className,\n      style: style,\n      onMouseEnter: () => {\n        setActiveIndex(index);\n      }\n    }, label);\n  }), !options.length && /*#__PURE__*/React.createElement(MenuItem, {\n    disabled: true\n  }, notFoundContent));\n}\nexport default DropdownMenu;","map":{"version":3,"names":["Menu","MenuItem","React","useEffect","useRef","MentionsContext","DropdownMenu","props","notFoundContent","activeIndex","setActiveIndex","selectOption","onFocus","onBlur","onScroll","useContext","prefixCls","options","opened","activeOption","menuRef","_menuRef$current","_menuRef$current$find","current","activeItem","findItem","call","key","scrollIntoView","block","inline","createElement","ref","concat","activeKey","onSelect","_ref","option","find","_ref2","optionKey","map","index","disabled","className","style","label","onMouseEnter","length"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/mentions/es/DropdownMenu.js"],"sourcesContent":["import Menu, { MenuItem } from '@rc-component/menu';\nimport React, { useEffect, useRef } from 'react';\nimport MentionsContext from \"./MentionsContext\";\n/**\n * We only use Menu to display the candidate.\n * The focus is controlled by textarea to make accessibility easy.\n */\nfunction DropdownMenu(props) {\n  const {\n    notFoundContent,\n    activeIndex,\n    setActiveIndex,\n    selectOption,\n    onFocus,\n    onBlur,\n    onScroll\n  } = React.useContext(MentionsContext);\n  const {\n    prefixCls,\n    options,\n    opened\n  } = props;\n  const activeOption = options[activeIndex] || {};\n  const menuRef = useRef(null);\n\n  // Monitor the changes in ActiveIndex and scroll to the visible area if there are any changes\n  useEffect(() => {\n    if (activeIndex === -1 || !menuRef.current || !opened) {\n      return;\n    }\n    const activeItem = menuRef.current?.findItem?.({\n      key: activeOption.key\n    });\n    if (activeItem) {\n      activeItem.scrollIntoView({\n        block: 'nearest',\n        inline: 'nearest'\n      });\n    }\n  }, [activeIndex, activeOption.key, opened]);\n  return /*#__PURE__*/React.createElement(Menu, {\n    ref: menuRef,\n    prefixCls: `${prefixCls}-menu`,\n    activeKey: activeOption.key,\n    onSelect: ({\n      key\n    }) => {\n      const option = options.find(({\n        key: optionKey\n      }) => optionKey === key);\n      selectOption(option);\n    },\n    onFocus: onFocus,\n    onBlur: onBlur,\n    onScroll: onScroll\n  }, options.map((option, index) => {\n    const {\n      key,\n      disabled,\n      className,\n      style,\n      label\n    } = option;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: key,\n      disabled: disabled,\n      className: className,\n      style: style,\n      onMouseEnter: () => {\n        setActiveIndex(index);\n      }\n    }, label);\n  }), !options.length && /*#__PURE__*/React.createElement(MenuItem, {\n    disabled: true\n  }, notFoundContent));\n}\nexport default DropdownMenu;"],"mappings":"AAAA,OAAOA,IAAI,IAAIC,QAAQ,QAAQ,oBAAoB;AACnD,OAAOC,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,eAAe,MAAM,mBAAmB;AAC/C;AACA;AACA;AACA;AACA,SAASC,YAAYA,CAACC,KAAK,EAAE;EAC3B,MAAM;IACJC,eAAe;IACfC,WAAW;IACXC,cAAc;IACdC,YAAY;IACZC,OAAO;IACPC,MAAM;IACNC;EACF,CAAC,GAAGZ,KAAK,CAACa,UAAU,CAACV,eAAe,CAAC;EACrC,MAAM;IACJW,SAAS;IACTC,OAAO;IACPC;EACF,CAAC,GAAGX,KAAK;EACT,MAAMY,YAAY,GAAGF,OAAO,CAACR,WAAW,CAAC,IAAI,CAAC,CAAC;EAC/C,MAAMW,OAAO,GAAGhB,MAAM,CAAC,IAAI,CAAC;;EAE5B;EACAD,SAAS,CAAC,MAAM;IAAA,IAAAkB,gBAAA,EAAAC,qBAAA;IACd,IAAIb,WAAW,KAAK,CAAC,CAAC,IAAI,CAACW,OAAO,CAACG,OAAO,IAAI,CAACL,MAAM,EAAE;MACrD;IACF;IACA,MAAMM,UAAU,IAAAH,gBAAA,GAAGD,OAAO,CAACG,OAAO,cAAAF,gBAAA,gBAAAC,qBAAA,GAAfD,gBAAA,CAAiBI,QAAQ,cAAAH,qBAAA,uBAAzBA,qBAAA,CAAAI,IAAA,CAAAL,gBAAA,EAA4B;MAC7CM,GAAG,EAAER,YAAY,CAACQ;IACpB,CAAC,CAAC;IACF,IAAIH,UAAU,EAAE;MACdA,UAAU,CAACI,cAAc,CAAC;QACxBC,KAAK,EAAE,SAAS;QAChBC,MAAM,EAAE;MACV,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACrB,WAAW,EAAEU,YAAY,CAACQ,GAAG,EAAET,MAAM,CAAC,CAAC;EAC3C,OAAO,aAAahB,KAAK,CAAC6B,aAAa,CAAC/B,IAAI,EAAE;IAC5CgC,GAAG,EAAEZ,OAAO;IACZJ,SAAS,KAAAiB,MAAA,CAAKjB,SAAS,UAAO;IAC9BkB,SAAS,EAAEf,YAAY,CAACQ,GAAG;IAC3BQ,QAAQ,EAAEC,IAAA,IAEJ;MAAA,IAFK;QACTT;MACF,CAAC,GAAAS,IAAA;MACC,MAAMC,MAAM,GAAGpB,OAAO,CAACqB,IAAI,CAACC,KAAA;QAAA,IAAC;UAC3BZ,GAAG,EAAEa;QACP,CAAC,GAAAD,KAAA;QAAA,OAAKC,SAAS,KAAKb,GAAG;MAAA,EAAC;MACxBhB,YAAY,CAAC0B,MAAM,CAAC;IACtB,CAAC;IACDzB,OAAO,EAAEA,OAAO;IAChBC,MAAM,EAAEA,MAAM;IACdC,QAAQ,EAAEA;EACZ,CAAC,EAAEG,OAAO,CAACwB,GAAG,CAAC,CAACJ,MAAM,EAAEK,KAAK,KAAK;IAChC,MAAM;MACJf,GAAG;MACHgB,QAAQ;MACRC,SAAS;MACTC,KAAK;MACLC;IACF,CAAC,GAAGT,MAAM;IACV,OAAO,aAAanC,KAAK,CAAC6B,aAAa,CAAC9B,QAAQ,EAAE;MAChD0B,GAAG,EAAEA,GAAG;MACRgB,QAAQ,EAAEA,QAAQ;MAClBC,SAAS,EAAEA,SAAS;MACpBC,KAAK,EAAEA,KAAK;MACZE,YAAY,EAAEA,CAAA,KAAM;QAClBrC,cAAc,CAACgC,KAAK,CAAC;MACvB;IACF,CAAC,EAAEI,KAAK,CAAC;EACX,CAAC,CAAC,EAAE,CAAC7B,OAAO,CAAC+B,MAAM,IAAI,aAAa9C,KAAK,CAAC6B,aAAa,CAAC9B,QAAQ,EAAE;IAChE0C,QAAQ,EAAE;EACZ,CAAC,EAAEnC,eAAe,CAAC,CAAC;AACtB;AACA,eAAeF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}