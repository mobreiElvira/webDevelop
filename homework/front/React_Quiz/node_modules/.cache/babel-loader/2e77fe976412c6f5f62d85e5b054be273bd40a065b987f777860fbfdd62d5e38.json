{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { useContext } from '@rc-component/context';\nimport TableContext from \"../context/TableContext\";\nimport { getColumnsKey } from \"../utils/valueUtil\";\nimport { useEvent } from '@rc-component/util';\nimport { clsx } from 'clsx';\nexport default function useRowInfo(record, rowKey, recordIndex, indent) {\n  const context = useContext(TableContext, ['prefixCls', 'fixedInfoList', 'flattenColumns', 'expandableType', 'expandRowByClick', 'onTriggerExpand', 'rowClassName', 'expandedRowClassName', 'indentSize', 'expandIcon', 'expandedRowRender', 'expandIconColumnIndex', 'expandedKeys', 'childrenColumnName', 'rowExpandable', 'onRow']);\n  const {\n    flattenColumns,\n    expandableType,\n    expandedKeys,\n    childrenColumnName,\n    onTriggerExpand,\n    rowExpandable,\n    onRow,\n    expandRowByClick,\n    rowClassName\n  } = context;\n\n  // ======================= Expandable =======================\n  // Only when row is not expandable and `children` exist in record\n  const nestExpandable = expandableType === 'nest';\n  const rowSupportExpand = expandableType === 'row' && (!rowExpandable || rowExpandable(record));\n  const mergedExpandable = rowSupportExpand || nestExpandable;\n  const expanded = expandedKeys && expandedKeys.has(rowKey);\n  const hasNestChildren = childrenColumnName && record && record[childrenColumnName];\n  const onInternalTriggerExpand = useEvent(onTriggerExpand);\n\n  // ========================= onRow ==========================\n  const rowProps = onRow === null || onRow === void 0 ? void 0 : onRow(record, recordIndex);\n  const onRowClick = rowProps === null || rowProps === void 0 ? void 0 : rowProps.onClick;\n  const onClick = function (event) {\n    if (expandRowByClick && mergedExpandable) {\n      onTriggerExpand(record, event);\n    }\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    onRowClick === null || onRowClick === void 0 || onRowClick(event, ...args);\n  };\n\n  // ====================== RowClassName ======================\n  let computeRowClassName;\n  if (typeof rowClassName === 'string') {\n    computeRowClassName = rowClassName;\n  } else if (typeof rowClassName === 'function') {\n    computeRowClassName = rowClassName(record, recordIndex, indent);\n  }\n\n  // ========================= Column =========================\n  const columnsKey = getColumnsKey(flattenColumns);\n  return _objectSpread(_objectSpread({}, context), {}, {\n    columnsKey,\n    nestExpandable,\n    expanded,\n    hasNestChildren,\n    record,\n    onTriggerExpand: onInternalTriggerExpand,\n    rowSupportExpand,\n    expandable: mergedExpandable,\n    rowProps: _objectSpread(_objectSpread({}, rowProps), {}, {\n      className: clsx(computeRowClassName, rowProps === null || rowProps === void 0 ? void 0 : rowProps.className),\n      onClick\n    })\n  });\n}","map":{"version":3,"names":["useContext","TableContext","getColumnsKey","useEvent","clsx","useRowInfo","record","rowKey","recordIndex","indent","context","flattenColumns","expandableType","expandedKeys","childrenColumnName","onTriggerExpand","rowExpandable","onRow","expandRowByClick","rowClassName","nestExpandable","rowSupportExpand","mergedExpandable","expanded","has","hasNestChildren","onInternalTriggerExpand","rowProps","onRowClick","onClick","event","_len","arguments","length","args","Array","_key","computeRowClassName","columnsKey","_objectSpread","expandable","className"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/table/es/hooks/useRowInfo.js"],"sourcesContent":["import { useContext } from '@rc-component/context';\nimport TableContext from \"../context/TableContext\";\nimport { getColumnsKey } from \"../utils/valueUtil\";\nimport { useEvent } from '@rc-component/util';\nimport { clsx } from 'clsx';\nexport default function useRowInfo(record, rowKey, recordIndex, indent) {\n  const context = useContext(TableContext, ['prefixCls', 'fixedInfoList', 'flattenColumns', 'expandableType', 'expandRowByClick', 'onTriggerExpand', 'rowClassName', 'expandedRowClassName', 'indentSize', 'expandIcon', 'expandedRowRender', 'expandIconColumnIndex', 'expandedKeys', 'childrenColumnName', 'rowExpandable', 'onRow']);\n  const {\n    flattenColumns,\n    expandableType,\n    expandedKeys,\n    childrenColumnName,\n    onTriggerExpand,\n    rowExpandable,\n    onRow,\n    expandRowByClick,\n    rowClassName\n  } = context;\n\n  // ======================= Expandable =======================\n  // Only when row is not expandable and `children` exist in record\n  const nestExpandable = expandableType === 'nest';\n  const rowSupportExpand = expandableType === 'row' && (!rowExpandable || rowExpandable(record));\n  const mergedExpandable = rowSupportExpand || nestExpandable;\n  const expanded = expandedKeys && expandedKeys.has(rowKey);\n  const hasNestChildren = childrenColumnName && record && record[childrenColumnName];\n  const onInternalTriggerExpand = useEvent(onTriggerExpand);\n\n  // ========================= onRow ==========================\n  const rowProps = onRow?.(record, recordIndex);\n  const onRowClick = rowProps?.onClick;\n  const onClick = (event, ...args) => {\n    if (expandRowByClick && mergedExpandable) {\n      onTriggerExpand(record, event);\n    }\n    onRowClick?.(event, ...args);\n  };\n\n  // ====================== RowClassName ======================\n  let computeRowClassName;\n  if (typeof rowClassName === 'string') {\n    computeRowClassName = rowClassName;\n  } else if (typeof rowClassName === 'function') {\n    computeRowClassName = rowClassName(record, recordIndex, indent);\n  }\n\n  // ========================= Column =========================\n  const columnsKey = getColumnsKey(flattenColumns);\n  return {\n    ...context,\n    columnsKey,\n    nestExpandable,\n    expanded,\n    hasNestChildren,\n    record,\n    onTriggerExpand: onInternalTriggerExpand,\n    rowSupportExpand,\n    expandable: mergedExpandable,\n    rowProps: {\n      ...rowProps,\n      className: clsx(computeRowClassName, rowProps?.className),\n      onClick\n    }\n  };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}