{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as React from 'react';\nimport { useEvent } from '@rc-component/util';\nimport { getStyleStr } from './utils';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\nexport const BaseSize = 2;\nexport const FontGap = 3;\n// Prevent external hidden elements from adding accent styles\nconst emphasizedStyle = {\n  visibility: 'visible !important'\n};\nexport default function useWatermark(markStyle, onRemove) {\n  const watermarkMap = React.useRef(new Map());\n  const onRemoveEvent = useEvent(onRemove);\n  const appendWatermark = (base64Url, markWidth, container) => {\n    if (container) {\n      const exist = watermarkMap.current.get(container);\n      if (!exist) {\n        const newWatermarkEle = document.createElement('div');\n        watermarkMap.current.set(container, newWatermarkEle);\n      }\n      const watermarkEle = watermarkMap.current.get(container);\n      watermarkEle.setAttribute('style', getStyleStr(_objectSpread(_objectSpread({}, markStyle), {}, {\n        backgroundImage: \"url('\".concat(base64Url, \"')\"),\n        backgroundSize: \"\".concat(Math.floor(markWidth), \"px\")\n      }, emphasizedStyle)));\n      // Prevents using the browser `Hide Element` to hide watermarks\n      watermarkEle.removeAttribute('class');\n      watermarkEle.removeAttribute('hidden');\n      if (watermarkEle.parentElement !== container) {\n        if (exist && onRemove) {\n          onRemoveEvent();\n        }\n        container.append(watermarkEle);\n      }\n    }\n    return watermarkMap.current.get(container);\n  };\n  const removeWatermark = container => {\n    const watermarkEle = watermarkMap.current.get(container);\n    if (watermarkEle && container) {\n      container.removeChild(watermarkEle);\n    }\n    watermarkMap.current.delete(container);\n  };\n  const isWatermarkEle = ele => Array.from(watermarkMap.current.values()).includes(ele);\n  return [appendWatermark, removeWatermark, isWatermarkEle];\n}","map":{"version":3,"names":["React","useEvent","getStyleStr","BaseSize","FontGap","emphasizedStyle","visibility","useWatermark","markStyle","onRemove","watermarkMap","useRef","Map","onRemoveEvent","appendWatermark","base64Url","markWidth","container","exist","current","get","newWatermarkEle","document","createElement","set","watermarkEle","setAttribute","_objectSpread","backgroundImage","concat","backgroundSize","Math","floor","removeAttribute","parentElement","append","removeWatermark","removeChild","delete","isWatermarkEle","ele","Array","from","values","includes"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/antd/es/watermark/useWatermark.js"],"sourcesContent":["import * as React from 'react';\nimport { useEvent } from '@rc-component/util';\nimport { getStyleStr } from './utils';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\nexport const BaseSize = 2;\nexport const FontGap = 3;\n// Prevent external hidden elements from adding accent styles\nconst emphasizedStyle = {\n  visibility: 'visible !important'\n};\nexport default function useWatermark(markStyle, onRemove) {\n  const watermarkMap = React.useRef(new Map());\n  const onRemoveEvent = useEvent(onRemove);\n  const appendWatermark = (base64Url, markWidth, container) => {\n    if (container) {\n      const exist = watermarkMap.current.get(container);\n      if (!exist) {\n        const newWatermarkEle = document.createElement('div');\n        watermarkMap.current.set(container, newWatermarkEle);\n      }\n      const watermarkEle = watermarkMap.current.get(container);\n      watermarkEle.setAttribute('style', getStyleStr({\n        ...markStyle,\n        backgroundImage: `url('${base64Url}')`,\n        backgroundSize: `${Math.floor(markWidth)}px`,\n        ...emphasizedStyle\n      }));\n      // Prevents using the browser `Hide Element` to hide watermarks\n      watermarkEle.removeAttribute('class');\n      watermarkEle.removeAttribute('hidden');\n      if (watermarkEle.parentElement !== container) {\n        if (exist && onRemove) {\n          onRemoveEvent();\n        }\n        container.append(watermarkEle);\n      }\n    }\n    return watermarkMap.current.get(container);\n  };\n  const removeWatermark = container => {\n    const watermarkEle = watermarkMap.current.get(container);\n    if (watermarkEle && container) {\n      container.removeChild(watermarkEle);\n    }\n    watermarkMap.current.delete(container);\n  };\n  const isWatermarkEle = ele => Array.from(watermarkMap.current.values()).includes(ele);\n  return [appendWatermark, removeWatermark, isWatermarkEle];\n}"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,WAAW,QAAQ,SAAS;AACrC;AACA;AACA;AACA;AACA,OAAO,MAAMC,QAAQ,GAAG,CAAC;AACzB,OAAO,MAAMC,OAAO,GAAG,CAAC;AACxB;AACA,MAAMC,eAAe,GAAG;EACtBC,UAAU,EAAE;AACd,CAAC;AACD,eAAe,SAASC,YAAYA,CAACC,SAAS,EAAEC,QAAQ,EAAE;EACxD,MAAMC,YAAY,GAAGV,KAAK,CAACW,MAAM,CAAC,IAAIC,GAAG,CAAC,CAAC,CAAC;EAC5C,MAAMC,aAAa,GAAGZ,QAAQ,CAACQ,QAAQ,CAAC;EACxC,MAAMK,eAAe,GAAGA,CAACC,SAAS,EAAEC,SAAS,EAAEC,SAAS,KAAK;IAC3D,IAAIA,SAAS,EAAE;MACb,MAAMC,KAAK,GAAGR,YAAY,CAACS,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;MACjD,IAAI,CAACC,KAAK,EAAE;QACV,MAAMG,eAAe,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QACrDb,YAAY,CAACS,OAAO,CAACK,GAAG,CAACP,SAAS,EAAEI,eAAe,CAAC;MACtD;MACA,MAAMI,YAAY,GAAGf,YAAY,CAACS,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;MACxDQ,YAAY,CAACC,YAAY,CAAC,OAAO,EAAExB,WAAW,CAAAyB,aAAA,CAAAA,aAAA,KACzCnB,SAAS;QACZoB,eAAe,UAAAC,MAAA,CAAUd,SAAS,OAAI;QACtCe,cAAc,KAAAD,MAAA,CAAKE,IAAI,CAACC,KAAK,CAAChB,SAAS,CAAC;MAAI,GACzCX,eAAe,CACnB,CAAC,CAAC;MACH;MACAoB,YAAY,CAACQ,eAAe,CAAC,OAAO,CAAC;MACrCR,YAAY,CAACQ,eAAe,CAAC,QAAQ,CAAC;MACtC,IAAIR,YAAY,CAACS,aAAa,KAAKjB,SAAS,EAAE;QAC5C,IAAIC,KAAK,IAAIT,QAAQ,EAAE;UACrBI,aAAa,CAAC,CAAC;QACjB;QACAI,SAAS,CAACkB,MAAM,CAACV,YAAY,CAAC;MAChC;IACF;IACA,OAAOf,YAAY,CAACS,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;EAC5C,CAAC;EACD,MAAMmB,eAAe,GAAGnB,SAAS,IAAI;IACnC,MAAMQ,YAAY,GAAGf,YAAY,CAACS,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;IACxD,IAAIQ,YAAY,IAAIR,SAAS,EAAE;MAC7BA,SAAS,CAACoB,WAAW,CAACZ,YAAY,CAAC;IACrC;IACAf,YAAY,CAACS,OAAO,CAACmB,MAAM,CAACrB,SAAS,CAAC;EACxC,CAAC;EACD,MAAMsB,cAAc,GAAGC,GAAG,IAAIC,KAAK,CAACC,IAAI,CAAChC,YAAY,CAACS,OAAO,CAACwB,MAAM,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACJ,GAAG,CAAC;EACrF,OAAO,CAAC1B,eAAe,EAAEsB,eAAe,EAAEG,cAAc,CAAC;AAC3D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}