{"ast":null,"code":"import * as React from 'react';\nimport { convertChildrenToData } from \"../utils/legacyUtil\";\n\n/**\n * Parse `children` to `options` if `options` is not provided.\n * Then flatten the `options`.\n */\nconst useOptions = (options, children, fieldNames, optionFilterProp, optionLabelProp) => {\n  return React.useMemo(() => {\n    let mergedOptions = options;\n    const childrenAsData = !options;\n    if (childrenAsData) {\n      mergedOptions = convertChildrenToData(children);\n    }\n    const valueOptions = new Map();\n    const labelOptions = new Map();\n    const setLabelOptions = (labelOptionsMap, option, key) => {\n      if (key && typeof key === 'string') {\n        labelOptionsMap.set(option[key], option);\n      }\n    };\n    const dig = function (optionList) {\n      let isChildren = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      // for loop to speed up collection speed\n      for (let i = 0; i < optionList.length; i += 1) {\n        const option = optionList[i];\n        if (!option[fieldNames.options] || isChildren) {\n          valueOptions.set(option[fieldNames.value], option);\n          setLabelOptions(labelOptions, option, fieldNames.label);\n          // https://github.com/ant-design/ant-design/issues/35304\n          setLabelOptions(labelOptions, option, optionFilterProp);\n          setLabelOptions(labelOptions, option, optionLabelProp);\n        } else {\n          dig(option[fieldNames.options], true);\n        }\n      }\n    };\n    dig(mergedOptions);\n    return {\n      options: mergedOptions,\n      valueOptions,\n      labelOptions\n    };\n  }, [options, children, fieldNames, optionFilterProp, optionLabelProp]);\n};\nexport default useOptions;","map":{"version":3,"names":["React","convertChildrenToData","useOptions","options","children","fieldNames","optionFilterProp","optionLabelProp","useMemo","mergedOptions","childrenAsData","valueOptions","Map","labelOptions","setLabelOptions","labelOptionsMap","option","key","set","dig","optionList","isChildren","arguments","length","undefined","i","value","label"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/select/es/hooks/useOptions.js"],"sourcesContent":["import * as React from 'react';\nimport { convertChildrenToData } from \"../utils/legacyUtil\";\n\n/**\n * Parse `children` to `options` if `options` is not provided.\n * Then flatten the `options`.\n */\nconst useOptions = (options, children, fieldNames, optionFilterProp, optionLabelProp) => {\n  return React.useMemo(() => {\n    let mergedOptions = options;\n    const childrenAsData = !options;\n    if (childrenAsData) {\n      mergedOptions = convertChildrenToData(children);\n    }\n    const valueOptions = new Map();\n    const labelOptions = new Map();\n    const setLabelOptions = (labelOptionsMap, option, key) => {\n      if (key && typeof key === 'string') {\n        labelOptionsMap.set(option[key], option);\n      }\n    };\n    const dig = (optionList, isChildren = false) => {\n      // for loop to speed up collection speed\n      for (let i = 0; i < optionList.length; i += 1) {\n        const option = optionList[i];\n        if (!option[fieldNames.options] || isChildren) {\n          valueOptions.set(option[fieldNames.value], option);\n          setLabelOptions(labelOptions, option, fieldNames.label);\n          // https://github.com/ant-design/ant-design/issues/35304\n          setLabelOptions(labelOptions, option, optionFilterProp);\n          setLabelOptions(labelOptions, option, optionLabelProp);\n        } else {\n          dig(option[fieldNames.options], true);\n        }\n      }\n    };\n    dig(mergedOptions);\n    return {\n      options: mergedOptions,\n      valueOptions,\n      labelOptions\n    };\n  }, [options, children, fieldNames, optionFilterProp, optionLabelProp]);\n};\nexport default useOptions;"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,qBAAqB,QAAQ,qBAAqB;;AAE3D;AACA;AACA;AACA;AACA,MAAMC,UAAU,GAAGA,CAACC,OAAO,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,gBAAgB,EAAEC,eAAe,KAAK;EACvF,OAAOP,KAAK,CAACQ,OAAO,CAAC,MAAM;IACzB,IAAIC,aAAa,GAAGN,OAAO;IAC3B,MAAMO,cAAc,GAAG,CAACP,OAAO;IAC/B,IAAIO,cAAc,EAAE;MAClBD,aAAa,GAAGR,qBAAqB,CAACG,QAAQ,CAAC;IACjD;IACA,MAAMO,YAAY,GAAG,IAAIC,GAAG,CAAC,CAAC;IAC9B,MAAMC,YAAY,GAAG,IAAID,GAAG,CAAC,CAAC;IAC9B,MAAME,eAAe,GAAGA,CAACC,eAAe,EAAEC,MAAM,EAAEC,GAAG,KAAK;MACxD,IAAIA,GAAG,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;QAClCF,eAAe,CAACG,GAAG,CAACF,MAAM,CAACC,GAAG,CAAC,EAAED,MAAM,CAAC;MAC1C;IACF,CAAC;IACD,MAAMG,GAAG,GAAG,SAAAA,CAACC,UAAU,EAAyB;MAAA,IAAvBC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;MACzC;MACA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,UAAU,CAACG,MAAM,EAAEE,CAAC,IAAI,CAAC,EAAE;QAC7C,MAAMT,MAAM,GAAGI,UAAU,CAACK,CAAC,CAAC;QAC5B,IAAI,CAACT,MAAM,CAACX,UAAU,CAACF,OAAO,CAAC,IAAIkB,UAAU,EAAE;UAC7CV,YAAY,CAACO,GAAG,CAACF,MAAM,CAACX,UAAU,CAACqB,KAAK,CAAC,EAAEV,MAAM,CAAC;UAClDF,eAAe,CAACD,YAAY,EAAEG,MAAM,EAAEX,UAAU,CAACsB,KAAK,CAAC;UACvD;UACAb,eAAe,CAACD,YAAY,EAAEG,MAAM,EAAEV,gBAAgB,CAAC;UACvDQ,eAAe,CAACD,YAAY,EAAEG,MAAM,EAAET,eAAe,CAAC;QACxD,CAAC,MAAM;UACLY,GAAG,CAACH,MAAM,CAACX,UAAU,CAACF,OAAO,CAAC,EAAE,IAAI,CAAC;QACvC;MACF;IACF,CAAC;IACDgB,GAAG,CAACV,aAAa,CAAC;IAClB,OAAO;MACLN,OAAO,EAAEM,aAAa;MACtBE,YAAY;MACZE;IACF,CAAC;EACH,CAAC,EAAE,CAACV,OAAO,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,gBAAgB,EAAEC,eAAe,CAAC,CAAC;AACxE,CAAC;AACD,eAAeL,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}