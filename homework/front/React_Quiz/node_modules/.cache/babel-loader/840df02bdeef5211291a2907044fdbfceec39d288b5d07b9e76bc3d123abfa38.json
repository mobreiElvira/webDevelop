{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport * as React from 'react';\nimport CSSMotion from '@rc-component/motion';\nimport { getMotion } from \"../utils/motionUtil\";\nimport MenuContextProvider, { MenuContext } from \"../context/MenuContext\";\nimport SubMenuList from \"./SubMenuList\";\nexport default function InlineSubMenuList(_ref) {\n  let {\n    id,\n    open,\n    keyPath,\n    children\n  } = _ref;\n  const fixedMode = 'inline';\n  const {\n    prefixCls,\n    forceSubMenuRender,\n    motion,\n    defaultMotions,\n    mode\n  } = React.useContext(MenuContext);\n\n  // Always use latest mode check\n  const sameModeRef = React.useRef(false);\n  sameModeRef.current = mode === fixedMode;\n\n  // We record `destroy` mark here since when mode change from `inline` to others.\n  // The inline list should remove when motion end.\n  const [destroy, setDestroy] = React.useState(!sameModeRef.current);\n  const mergedOpen = sameModeRef.current ? open : false;\n\n  // ================================= Effect =================================\n  // Reset destroy state when mode change back\n  React.useEffect(() => {\n    if (sameModeRef.current) {\n      setDestroy(false);\n    }\n  }, [mode]);\n\n  // ================================= Render =================================\n  const mergedMotion = _objectSpread({}, getMotion(fixedMode, motion, defaultMotions));\n\n  // No need appear since nest inlineCollapse changed\n  if (keyPath.length > 1) {\n    mergedMotion.motionAppear = false;\n  }\n\n  // Hide inline list when mode changed and motion end\n  const originOnVisibleChanged = mergedMotion.onVisibleChanged;\n  mergedMotion.onVisibleChanged = newVisible => {\n    if (!sameModeRef.current && !newVisible) {\n      setDestroy(true);\n    }\n    return originOnVisibleChanged === null || originOnVisibleChanged === void 0 ? void 0 : originOnVisibleChanged(newVisible);\n  };\n  if (destroy) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(MenuContextProvider, {\n    mode: fixedMode,\n    locked: !sameModeRef.current\n  }, /*#__PURE__*/React.createElement(CSSMotion, _extends({\n    visible: mergedOpen\n  }, mergedMotion, {\n    forceRender: forceSubMenuRender,\n    removeOnLeave: false,\n    leavedClassName: \"\".concat(prefixCls, \"-hidden\")\n  }), _ref2 => {\n    let {\n      className: motionClassName,\n      style: motionStyle\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(SubMenuList, {\n      id: id,\n      className: motionClassName,\n      style: motionStyle\n    }, children);\n  }));\n}","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","CSSMotion","getMotion","MenuContextProvider","MenuContext","SubMenuList","InlineSubMenuList","_ref","id","open","keyPath","children","fixedMode","prefixCls","forceSubMenuRender","motion","defaultMotions","mode","useContext","sameModeRef","useRef","current","destroy","setDestroy","useState","mergedOpen","useEffect","mergedMotion","_objectSpread","motionAppear","originOnVisibleChanged","onVisibleChanged","newVisible","createElement","locked","visible","forceRender","removeOnLeave","leavedClassName","concat","_ref2","className","motionClassName","style","motionStyle"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/menu/es/SubMenu/InlineSubMenuList.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from 'react';\nimport CSSMotion from '@rc-component/motion';\nimport { getMotion } from \"../utils/motionUtil\";\nimport MenuContextProvider, { MenuContext } from \"../context/MenuContext\";\nimport SubMenuList from \"./SubMenuList\";\nexport default function InlineSubMenuList({\n  id,\n  open,\n  keyPath,\n  children\n}) {\n  const fixedMode = 'inline';\n  const {\n    prefixCls,\n    forceSubMenuRender,\n    motion,\n    defaultMotions,\n    mode\n  } = React.useContext(MenuContext);\n\n  // Always use latest mode check\n  const sameModeRef = React.useRef(false);\n  sameModeRef.current = mode === fixedMode;\n\n  // We record `destroy` mark here since when mode change from `inline` to others.\n  // The inline list should remove when motion end.\n  const [destroy, setDestroy] = React.useState(!sameModeRef.current);\n  const mergedOpen = sameModeRef.current ? open : false;\n\n  // ================================= Effect =================================\n  // Reset destroy state when mode change back\n  React.useEffect(() => {\n    if (sameModeRef.current) {\n      setDestroy(false);\n    }\n  }, [mode]);\n\n  // ================================= Render =================================\n  const mergedMotion = {\n    ...getMotion(fixedMode, motion, defaultMotions)\n  };\n\n  // No need appear since nest inlineCollapse changed\n  if (keyPath.length > 1) {\n    mergedMotion.motionAppear = false;\n  }\n\n  // Hide inline list when mode changed and motion end\n  const originOnVisibleChanged = mergedMotion.onVisibleChanged;\n  mergedMotion.onVisibleChanged = newVisible => {\n    if (!sameModeRef.current && !newVisible) {\n      setDestroy(true);\n    }\n    return originOnVisibleChanged?.(newVisible);\n  };\n  if (destroy) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(MenuContextProvider, {\n    mode: fixedMode,\n    locked: !sameModeRef.current\n  }, /*#__PURE__*/React.createElement(CSSMotion, _extends({\n    visible: mergedOpen\n  }, mergedMotion, {\n    forceRender: forceSubMenuRender,\n    removeOnLeave: false,\n    leavedClassName: `${prefixCls}-hidden`\n  }), ({\n    className: motionClassName,\n    style: motionStyle\n  }) => {\n    return /*#__PURE__*/React.createElement(SubMenuList, {\n      id: id,\n      className: motionClassName,\n      style: motionStyle\n    }, children);\n  }));\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}