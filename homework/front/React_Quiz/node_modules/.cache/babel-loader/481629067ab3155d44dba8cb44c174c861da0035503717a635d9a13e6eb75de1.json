{"ast":null,"code":"import { toPathOptions } from \"../utils/treeUtil\";\nimport * as React from 'react';\nimport { toPathKey } from \"../utils/commonUtil\";\nexport default (rawValues, options, fieldNames, multiple, displayRender) => {\n  return React.useMemo(() => {\n    const mergedDisplayRender = displayRender || (\n    // Default displayRender\n    labels => {\n      const mergedLabels = multiple ? labels.slice(-1) : labels;\n      const SPLIT = ' / ';\n      if (mergedLabels.every(label => ['string', 'number'].includes(typeof label))) {\n        return mergedLabels.join(SPLIT);\n      }\n\n      // If exist non-string value, use ReactNode instead\n      return mergedLabels.reduce((list, label, index) => {\n        const keyedLabel = /*#__PURE__*/React.isValidElement(label) ? /*#__PURE__*/React.cloneElement(label, {\n          key: index\n        }) : label;\n        if (index === 0) {\n          return [keyedLabel];\n        }\n        return [...list, SPLIT, keyedLabel];\n      }, []);\n    });\n    return rawValues.map(valueCells => {\n      var _valueOptions;\n      const valueOptions = toPathOptions(valueCells, options, fieldNames);\n      const label = mergedDisplayRender(valueOptions.map(_ref => {\n        var _option$fieldNames$la;\n        let {\n          option,\n          value\n        } = _ref;\n        return (_option$fieldNames$la = option === null || option === void 0 ? void 0 : option[fieldNames.label]) !== null && _option$fieldNames$la !== void 0 ? _option$fieldNames$la : value;\n      }), valueOptions.map(_ref2 => {\n        let {\n          option\n        } = _ref2;\n        return option;\n      }));\n      const value = toPathKey(valueCells);\n      return {\n        label,\n        value,\n        key: value,\n        valueCells,\n        disabled: (_valueOptions = valueOptions[valueOptions.length - 1]) === null || _valueOptions === void 0 || (_valueOptions = _valueOptions.option) === null || _valueOptions === void 0 ? void 0 : _valueOptions.disabled\n      };\n    });\n  }, [rawValues, options, fieldNames, displayRender, multiple]);\n};","map":{"version":3,"names":["toPathOptions","React","toPathKey","rawValues","options","fieldNames","multiple","displayRender","useMemo","mergedDisplayRender","labels","mergedLabels","slice","SPLIT","every","label","includes","join","reduce","list","index","keyedLabel","isValidElement","cloneElement","key","map","valueCells","_valueOptions","valueOptions","_ref","_option$fieldNames$la","option","value","_ref2","disabled","length"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/cascader/es/hooks/useDisplayValues.js"],"sourcesContent":["import { toPathOptions } from \"../utils/treeUtil\";\nimport * as React from 'react';\nimport { toPathKey } from \"../utils/commonUtil\";\nexport default ((rawValues, options, fieldNames, multiple, displayRender) => {\n  return React.useMemo(() => {\n    const mergedDisplayRender = displayRender || (\n    // Default displayRender\n    labels => {\n      const mergedLabels = multiple ? labels.slice(-1) : labels;\n      const SPLIT = ' / ';\n      if (mergedLabels.every(label => ['string', 'number'].includes(typeof label))) {\n        return mergedLabels.join(SPLIT);\n      }\n\n      // If exist non-string value, use ReactNode instead\n      return mergedLabels.reduce((list, label, index) => {\n        const keyedLabel = /*#__PURE__*/React.isValidElement(label) ? /*#__PURE__*/React.cloneElement(label, {\n          key: index\n        }) : label;\n        if (index === 0) {\n          return [keyedLabel];\n        }\n        return [...list, SPLIT, keyedLabel];\n      }, []);\n    });\n    return rawValues.map(valueCells => {\n      const valueOptions = toPathOptions(valueCells, options, fieldNames);\n      const label = mergedDisplayRender(valueOptions.map(({\n        option,\n        value\n      }) => option?.[fieldNames.label] ?? value), valueOptions.map(({\n        option\n      }) => option));\n      const value = toPathKey(valueCells);\n      return {\n        label,\n        value,\n        key: value,\n        valueCells,\n        disabled: valueOptions[valueOptions.length - 1]?.option?.disabled\n      };\n    });\n  }, [rawValues, options, fieldNames, displayRender, multiple]);\n});"],"mappings":"AAAA,SAASA,aAAa,QAAQ,mBAAmB;AACjD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,QAAQ,qBAAqB;AAC/C,eAAgB,CAACC,SAAS,EAAEC,OAAO,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,aAAa,KAAK;EAC3E,OAAON,KAAK,CAACO,OAAO,CAAC,MAAM;IACzB,MAAMC,mBAAmB,GAAGF,aAAa;IACzC;IACAG,MAAM,IAAI;MACR,MAAMC,YAAY,GAAGL,QAAQ,GAAGI,MAAM,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGF,MAAM;MACzD,MAAMG,KAAK,GAAG,KAAK;MACnB,IAAIF,YAAY,CAACG,KAAK,CAACC,KAAK,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAACC,QAAQ,CAAC,OAAOD,KAAK,CAAC,CAAC,EAAE;QAC5E,OAAOJ,YAAY,CAACM,IAAI,CAACJ,KAAK,CAAC;MACjC;;MAEA;MACA,OAAOF,YAAY,CAACO,MAAM,CAAC,CAACC,IAAI,EAAEJ,KAAK,EAAEK,KAAK,KAAK;QACjD,MAAMC,UAAU,GAAG,aAAapB,KAAK,CAACqB,cAAc,CAACP,KAAK,CAAC,GAAG,aAAad,KAAK,CAACsB,YAAY,CAACR,KAAK,EAAE;UACnGS,GAAG,EAAEJ;QACP,CAAC,CAAC,GAAGL,KAAK;QACV,IAAIK,KAAK,KAAK,CAAC,EAAE;UACf,OAAO,CAACC,UAAU,CAAC;QACrB;QACA,OAAO,CAAC,GAAGF,IAAI,EAAEN,KAAK,EAAEQ,UAAU,CAAC;MACrC,CAAC,EAAE,EAAE,CAAC;IACR,CAAC,CAAC;IACF,OAAOlB,SAAS,CAACsB,GAAG,CAACC,UAAU,IAAI;MAAA,IAAAC,aAAA;MACjC,MAAMC,YAAY,GAAG5B,aAAa,CAAC0B,UAAU,EAAEtB,OAAO,EAAEC,UAAU,CAAC;MACnE,MAAMU,KAAK,GAAGN,mBAAmB,CAACmB,YAAY,CAACH,GAAG,CAACI,IAAA;QAAA,IAAAC,qBAAA;QAAA,IAAC;UAClDC,MAAM;UACNC;QACF,CAAC,GAAAH,IAAA;QAAA,QAAAC,qBAAA,GAAKC,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAG1B,UAAU,CAACU,KAAK,CAAC,cAAAe,qBAAA,cAAAA,qBAAA,GAAIE,KAAK;MAAA,EAAC,EAAEJ,YAAY,CAACH,GAAG,CAACQ,KAAA;QAAA,IAAC;UAC5DF;QACF,CAAC,GAAAE,KAAA;QAAA,OAAKF,MAAM;MAAA,EAAC,CAAC;MACd,MAAMC,KAAK,GAAG9B,SAAS,CAACwB,UAAU,CAAC;MACnC,OAAO;QACLX,KAAK;QACLiB,KAAK;QACLR,GAAG,EAAEQ,KAAK;QACVN,UAAU;QACVQ,QAAQ,GAAAP,aAAA,GAAEC,YAAY,CAACA,YAAY,CAACO,MAAM,GAAG,CAAC,CAAC,cAAAR,aAAA,gBAAAA,aAAA,GAArCA,aAAA,CAAuCI,MAAM,cAAAJ,aAAA,uBAA7CA,aAAA,CAA+CO;MAC3D,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC/B,SAAS,EAAEC,OAAO,EAAEC,UAAU,EAAEE,aAAa,EAAED,QAAQ,CAAC,CAAC;AAC/D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}