{"ast":null,"code":"import { conductCheck } from \"@rc-component/tree/es/utils/conductUtil\";\nimport { toPathKey, toPathKeys } from \"../utils/commonUtil\";\nimport { formatStrategyValues } from \"../utils/treeUtil\";\nexport default function useSelect(multiple, triggerChange, checkedValues, halfCheckedValues, missingCheckedValues, getPathKeyEntities, getValueByKeyPath, showCheckedStrategy) {\n  return valuePath => {\n    if (!multiple) {\n      triggerChange(valuePath);\n    } else {\n      // Prepare conduct required info\n      const pathKey = toPathKey(valuePath);\n      const checkedPathKeys = toPathKeys(checkedValues);\n      const halfCheckedPathKeys = toPathKeys(halfCheckedValues);\n      const existInChecked = checkedPathKeys.includes(pathKey);\n      const existInMissing = missingCheckedValues.some(valueCells => toPathKey(valueCells) === pathKey);\n\n      // Do update\n      let nextCheckedValues = checkedValues;\n      let nextMissingValues = missingCheckedValues;\n      if (existInMissing && !existInChecked) {\n        // Missing value only do filter\n        nextMissingValues = missingCheckedValues.filter(valueCells => toPathKey(valueCells) !== pathKey);\n      } else {\n        // Update checked key first\n        const nextRawCheckedKeys = existInChecked ? checkedPathKeys.filter(key => key !== pathKey) : [...checkedPathKeys, pathKey];\n        const pathKeyEntities = getPathKeyEntities();\n\n        // Conduction by selected or not\n        let checkedKeys;\n        if (existInChecked) {\n          ({\n            checkedKeys\n          } = conductCheck(nextRawCheckedKeys, {\n            checked: false,\n            halfCheckedKeys: halfCheckedPathKeys\n          }, pathKeyEntities));\n        } else {\n          ({\n            checkedKeys\n          } = conductCheck(nextRawCheckedKeys, true, pathKeyEntities));\n        }\n\n        // Roll up to parent level keys\n        const deDuplicatedKeys = formatStrategyValues(checkedKeys, getPathKeyEntities, showCheckedStrategy);\n        nextCheckedValues = getValueByKeyPath(deDuplicatedKeys);\n      }\n      triggerChange([...nextMissingValues, ...nextCheckedValues]);\n    }\n  };\n}","map":{"version":3,"names":["conductCheck","toPathKey","toPathKeys","formatStrategyValues","useSelect","multiple","triggerChange","checkedValues","halfCheckedValues","missingCheckedValues","getPathKeyEntities","getValueByKeyPath","showCheckedStrategy","valuePath","pathKey","checkedPathKeys","halfCheckedPathKeys","existInChecked","includes","existInMissing","some","valueCells","nextCheckedValues","nextMissingValues","filter","nextRawCheckedKeys","key","pathKeyEntities","checkedKeys","checked","halfCheckedKeys","deDuplicatedKeys"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/cascader/es/hooks/useSelect.js"],"sourcesContent":["import { conductCheck } from \"@rc-component/tree/es/utils/conductUtil\";\nimport { toPathKey, toPathKeys } from \"../utils/commonUtil\";\nimport { formatStrategyValues } from \"../utils/treeUtil\";\nexport default function useSelect(multiple, triggerChange, checkedValues, halfCheckedValues, missingCheckedValues, getPathKeyEntities, getValueByKeyPath, showCheckedStrategy) {\n  return valuePath => {\n    if (!multiple) {\n      triggerChange(valuePath);\n    } else {\n      // Prepare conduct required info\n      const pathKey = toPathKey(valuePath);\n      const checkedPathKeys = toPathKeys(checkedValues);\n      const halfCheckedPathKeys = toPathKeys(halfCheckedValues);\n      const existInChecked = checkedPathKeys.includes(pathKey);\n      const existInMissing = missingCheckedValues.some(valueCells => toPathKey(valueCells) === pathKey);\n\n      // Do update\n      let nextCheckedValues = checkedValues;\n      let nextMissingValues = missingCheckedValues;\n      if (existInMissing && !existInChecked) {\n        // Missing value only do filter\n        nextMissingValues = missingCheckedValues.filter(valueCells => toPathKey(valueCells) !== pathKey);\n      } else {\n        // Update checked key first\n        const nextRawCheckedKeys = existInChecked ? checkedPathKeys.filter(key => key !== pathKey) : [...checkedPathKeys, pathKey];\n        const pathKeyEntities = getPathKeyEntities();\n\n        // Conduction by selected or not\n        let checkedKeys;\n        if (existInChecked) {\n          ({\n            checkedKeys\n          } = conductCheck(nextRawCheckedKeys, {\n            checked: false,\n            halfCheckedKeys: halfCheckedPathKeys\n          }, pathKeyEntities));\n        } else {\n          ({\n            checkedKeys\n          } = conductCheck(nextRawCheckedKeys, true, pathKeyEntities));\n        }\n\n        // Roll up to parent level keys\n        const deDuplicatedKeys = formatStrategyValues(checkedKeys, getPathKeyEntities, showCheckedStrategy);\n        nextCheckedValues = getValueByKeyPath(deDuplicatedKeys);\n      }\n      triggerChange([...nextMissingValues, ...nextCheckedValues]);\n    }\n  };\n}"],"mappings":"AAAA,SAASA,YAAY,QAAQ,yCAAyC;AACtE,SAASC,SAAS,EAAEC,UAAU,QAAQ,qBAAqB;AAC3D,SAASC,oBAAoB,QAAQ,mBAAmB;AACxD,eAAe,SAASC,SAASA,CAACC,QAAQ,EAAEC,aAAa,EAAEC,aAAa,EAAEC,iBAAiB,EAAEC,oBAAoB,EAAEC,kBAAkB,EAAEC,iBAAiB,EAAEC,mBAAmB,EAAE;EAC7K,OAAOC,SAAS,IAAI;IAClB,IAAI,CAACR,QAAQ,EAAE;MACbC,aAAa,CAACO,SAAS,CAAC;IAC1B,CAAC,MAAM;MACL;MACA,MAAMC,OAAO,GAAGb,SAAS,CAACY,SAAS,CAAC;MACpC,MAAME,eAAe,GAAGb,UAAU,CAACK,aAAa,CAAC;MACjD,MAAMS,mBAAmB,GAAGd,UAAU,CAACM,iBAAiB,CAAC;MACzD,MAAMS,cAAc,GAAGF,eAAe,CAACG,QAAQ,CAACJ,OAAO,CAAC;MACxD,MAAMK,cAAc,GAAGV,oBAAoB,CAACW,IAAI,CAACC,UAAU,IAAIpB,SAAS,CAACoB,UAAU,CAAC,KAAKP,OAAO,CAAC;;MAEjG;MACA,IAAIQ,iBAAiB,GAAGf,aAAa;MACrC,IAAIgB,iBAAiB,GAAGd,oBAAoB;MAC5C,IAAIU,cAAc,IAAI,CAACF,cAAc,EAAE;QACrC;QACAM,iBAAiB,GAAGd,oBAAoB,CAACe,MAAM,CAACH,UAAU,IAAIpB,SAAS,CAACoB,UAAU,CAAC,KAAKP,OAAO,CAAC;MAClG,CAAC,MAAM;QACL;QACA,MAAMW,kBAAkB,GAAGR,cAAc,GAAGF,eAAe,CAACS,MAAM,CAACE,GAAG,IAAIA,GAAG,KAAKZ,OAAO,CAAC,GAAG,CAAC,GAAGC,eAAe,EAAED,OAAO,CAAC;QAC1H,MAAMa,eAAe,GAAGjB,kBAAkB,CAAC,CAAC;;QAE5C;QACA,IAAIkB,WAAW;QACf,IAAIX,cAAc,EAAE;UAClB,CAAC;YACCW;UACF,CAAC,GAAG5B,YAAY,CAACyB,kBAAkB,EAAE;YACnCI,OAAO,EAAE,KAAK;YACdC,eAAe,EAAEd;UACnB,CAAC,EAAEW,eAAe,CAAC;QACrB,CAAC,MAAM;UACL,CAAC;YACCC;UACF,CAAC,GAAG5B,YAAY,CAACyB,kBAAkB,EAAE,IAAI,EAAEE,eAAe,CAAC;QAC7D;;QAEA;QACA,MAAMI,gBAAgB,GAAG5B,oBAAoB,CAACyB,WAAW,EAAElB,kBAAkB,EAAEE,mBAAmB,CAAC;QACnGU,iBAAiB,GAAGX,iBAAiB,CAACoB,gBAAgB,CAAC;MACzD;MACAzB,aAAa,CAAC,CAAC,GAAGiB,iBAAiB,EAAE,GAAGD,iBAAiB,CAAC,CAAC;IAC7D;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}