{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"prefixCls\", \"className\", \"style\", \"classNames\", \"styles\", \"prefix\", \"split\", \"notFoundContent\", \"value\", \"defaultValue\", \"children\", \"options\", \"allowClear\", \"hasWrapper\", \"silent\", \"validateSearch\", \"filterOption\", \"onChange\", \"onKeyDown\", \"onKeyUp\", \"onPressEnter\", \"onSearch\", \"onSelect\", \"onFocus\", \"onBlur\", \"transitionName\", \"placement\", \"direction\", \"getPopupContainer\", \"popupClassName\", \"rows\", \"visible\", \"onPopupScroll\"],\n  _excluded2 = [\"suffix\", \"prefixCls\", \"defaultValue\", \"value\", \"id\", \"allowClear\", \"onChange\", \"classNames\", \"styles\", \"className\", \"disabled\", \"onClear\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport { clsx } from 'clsx';\nimport { BaseInput } from '@rc-component/input';\nimport TextArea from '@rc-component/textarea';\nimport toArray from \"@rc-component/util/es/Children/toArray\";\nimport useControlledState from \"@rc-component/util/es/hooks/useControlledState\";\nimport KeyCode from \"@rc-component/util/es/KeyCode\";\nimport useId from \"@rc-component/util/es/hooks/useId\";\nimport React, { forwardRef, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport useEffectState from \"./hooks/useEffectState\";\nimport KeywordTrigger from \"./KeywordTrigger\";\nimport MentionsContext from \"./MentionsContext\";\nimport Option from \"./Option\";\nimport { filterOption as defaultFilterOption, validateSearch as defaultValidateSearch, getBeforeSelectionText, getLastMeasureIndex, replaceWithMeasure, setInputSelection } from \"./util\";\nimport { UnstableContext } from \"./context\";\nconst InternalMentions = /*#__PURE__*/forwardRef((props, ref) => {\n  const {\n      // Style\n      prefixCls,\n      className,\n      style,\n      classNames: mentionClassNames,\n      styles,\n      // Misc\n      prefix = '@',\n      split = ' ',\n      notFoundContent = 'Not Found',\n      value,\n      defaultValue,\n      children,\n      options,\n      allowClear,\n      hasWrapper,\n      silent,\n      // Events\n      validateSearch = defaultValidateSearch,\n      filterOption = defaultFilterOption,\n      onChange,\n      onKeyDown,\n      onKeyUp,\n      onPressEnter,\n      onSearch,\n      onSelect,\n      onFocus,\n      onBlur,\n      // Dropdown\n      transitionName,\n      placement,\n      direction,\n      getPopupContainer,\n      popupClassName,\n      rows = 1,\n      // Fix Warning: Received `false` for a non-boolean attribute `visible`.\n      // https://github.com/ant-design/ant-design/blob/df933e94efc8f376003bbdc658d64b64a0e53495/components/mentions/demo/render-panel.tsx\n      // @ts-expect-error\n      visible,\n      onPopupScroll\n      // Rest\n    } = props,\n    restProps = _objectWithoutProperties(props, _excluded);\n  const mergedPrefix = useMemo(() => Array.isArray(prefix) ? prefix : [prefix], [prefix]);\n\n  // =============================== Refs ===============================\n  const containerRef = useRef(null);\n  const textareaRef = useRef(null);\n  const measureRef = useRef(null);\n  const getTextArea = () => {\n    var _textareaRef$current;\n    return (_textareaRef$current = textareaRef.current) === null || _textareaRef$current === void 0 || (_textareaRef$current = _textareaRef$current.resizableTextArea) === null || _textareaRef$current === void 0 ? void 0 : _textareaRef$current.textArea;\n  };\n  React.useImperativeHandle(ref, () => {\n    var _textareaRef$current4;\n    return {\n      focus: () => {\n        var _textareaRef$current2;\n        return (_textareaRef$current2 = textareaRef.current) === null || _textareaRef$current2 === void 0 ? void 0 : _textareaRef$current2.focus();\n      },\n      blur: () => {\n        var _textareaRef$current3;\n        return (_textareaRef$current3 = textareaRef.current) === null || _textareaRef$current3 === void 0 ? void 0 : _textareaRef$current3.blur();\n      },\n      textarea: (_textareaRef$current4 = textareaRef.current) === null || _textareaRef$current4 === void 0 || (_textareaRef$current4 = _textareaRef$current4.resizableTextArea) === null || _textareaRef$current4 === void 0 ? void 0 : _textareaRef$current4.textArea,\n      nativeElement: containerRef.current\n    };\n  });\n\n  // ============================== State ===============================\n  const [measuring, setMeasuring] = useState(false);\n  const [measureText, setMeasureText] = useState('');\n  const [measurePrefix, setMeasurePrefix] = useState('');\n  const [measureLocation, setMeasureLocation] = useState(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isFocus, setIsFocus] = useState(false);\n\n  // ================================ Id ================================\n  const uniqueKey = useId(props.id);\n\n  // ============================== Value ===============================\n  const [mergedValue, setMergedValue] = useControlledState(defaultValue || '', value);\n\n  // =============================== Open ===============================\n  const {\n    open\n  } = useContext(UnstableContext);\n  useEffect(() => {\n    // Sync measure div top with textarea for rc-trigger usage\n    if (measuring && measureRef.current) {\n      measureRef.current.scrollTop = getTextArea().scrollTop;\n    }\n  }, [measuring]);\n  const [mergedMeasuring, mergedMeasureText, mergedMeasurePrefix, mergedMeasureLocation] = React.useMemo(() => {\n    if (open) {\n      for (let i = 0; i < mergedPrefix.length; i += 1) {\n        const curPrefix = mergedPrefix[i];\n        const index = mergedValue.lastIndexOf(curPrefix);\n        if (index >= 0) {\n          return [true, '', curPrefix, index];\n        }\n      }\n    }\n    return [measuring, measureText, measurePrefix, measureLocation];\n  }, [open, measuring, mergedPrefix, mergedValue, measureText, measurePrefix, measureLocation]);\n\n  // ============================== Option ==============================\n  const getOptions = React.useCallback(targetMeasureText => {\n    let list;\n    if (options && options.length > 0) {\n      list = options.map(item => {\n        var _item$key;\n        return _objectSpread(_objectSpread({}, item), {}, {\n          key: \"\".concat((_item$key = item === null || item === void 0 ? void 0 : item.key) !== null && _item$key !== void 0 ? _item$key : item.value, \"-\").concat(uniqueKey)\n        });\n      });\n    } else {\n      list = toArray(children).map(_ref => {\n        let {\n          props: optionProps,\n          key\n        } = _ref;\n        return _objectSpread(_objectSpread({}, optionProps), {}, {\n          label: optionProps.children,\n          key: \"\".concat(key || optionProps.value, \"-\").concat(uniqueKey)\n        });\n      });\n    }\n    return list.filter(option => {\n      /** Return all result if `filterOption` is false. */\n      if (filterOption === false) {\n        return true;\n      }\n      return filterOption(targetMeasureText, option);\n    });\n  }, [options, uniqueKey, children, filterOption]);\n  const mergedOptions = React.useMemo(() => getOptions(mergedMeasureText), [getOptions, mergedMeasureText]);\n\n  // ============================= Measure ==============================\n  // Mark that we will reset input selection to target position when user select option\n  const onSelectionEffect = useEffectState();\n  const startMeasure = (nextMeasureText, nextMeasurePrefix, nextMeasureLocation) => {\n    setMeasuring(true);\n    setMeasureText(nextMeasureText);\n    setMeasurePrefix(nextMeasurePrefix);\n    setMeasureLocation(nextMeasureLocation);\n    setActiveIndex(0);\n  };\n  const stopMeasure = callback => {\n    setMeasuring(false);\n    setMeasureLocation(0);\n    setMeasureText('');\n    onSelectionEffect(callback);\n  };\n\n  // ============================== Change ==============================\n  const triggerChange = nextValue => {\n    setMergedValue(nextValue);\n    onChange === null || onChange === void 0 || onChange(nextValue);\n  };\n  const onInternalChange = _ref2 => {\n    let {\n      target: {\n        value: nextValue\n      }\n    } = _ref2;\n    triggerChange(nextValue);\n  };\n  const selectOption = option => {\n    var _getTextArea;\n    const {\n      value: mentionValue = ''\n    } = option;\n    const {\n      text,\n      selectionLocation\n    } = replaceWithMeasure(mergedValue, {\n      measureLocation: mergedMeasureLocation,\n      targetText: mentionValue,\n      prefix: mergedMeasurePrefix,\n      selectionStart: (_getTextArea = getTextArea()) === null || _getTextArea === void 0 ? void 0 : _getTextArea.selectionStart,\n      split\n    });\n    triggerChange(text);\n    stopMeasure(() => {\n      // We need restore the selection position\n      setInputSelection(getTextArea(), selectionLocation);\n    });\n    onSelect === null || onSelect === void 0 || onSelect(option, mergedMeasurePrefix);\n  };\n\n  // ============================= KeyEvent =============================\n  // Check if hit the measure keyword\n  const onInternalKeyDown = event => {\n    const {\n      which\n    } = event;\n    onKeyDown === null || onKeyDown === void 0 || onKeyDown(event);\n\n    // Skip if not measuring\n    if (!mergedMeasuring) {\n      return;\n    }\n    if (which === KeyCode.UP || which === KeyCode.DOWN) {\n      // Control arrow function\n      const optionLen = mergedOptions.length;\n      const offset = which === KeyCode.UP ? -1 : 1;\n      const newActiveIndex = (activeIndex + offset + optionLen) % optionLen;\n      setActiveIndex(newActiveIndex);\n      event.preventDefault();\n    } else if (which === KeyCode.ESC) {\n      stopMeasure();\n    } else if (which === KeyCode.ENTER) {\n      // Measure hit\n      event.preventDefault();\n      // loading skip\n      if (silent) {\n        return;\n      }\n      if (!mergedOptions.length) {\n        stopMeasure();\n        return;\n      }\n      const option = mergedOptions[activeIndex];\n      selectOption(option);\n    }\n  };\n\n  /**\n   * When to start measure:\n   * 1. When user press `prefix`\n   * 2. When measureText !== prevMeasureText\n   *  - If measure hit\n   *  - If measuring\n   *\n   * When to stop measure:\n   * 1. Selection is out of range\n   * 2. Contains `space`\n   * 3. ESC or select one\n   */\n  const onInternalKeyUp = event => {\n    const {\n      key,\n      which\n    } = event;\n    const target = event.target;\n    const selectionStartText = getBeforeSelectionText(target);\n    const {\n      location: measureIndex,\n      prefix: nextMeasurePrefix\n    } = getLastMeasureIndex(selectionStartText, mergedPrefix);\n\n    // If the client implements an onKeyUp handler, call it\n    onKeyUp === null || onKeyUp === void 0 || onKeyUp(event);\n\n    // Skip if match the white key list\n    if ([KeyCode.ESC, KeyCode.UP, KeyCode.DOWN, KeyCode.ENTER].indexOf(which) !== -1) {\n      return;\n    }\n    if (measureIndex !== -1) {\n      const nextMeasureText = selectionStartText.slice(measureIndex + nextMeasurePrefix.length);\n      const validateMeasure = validateSearch(nextMeasureText, split);\n      const matchOption = !!getOptions(nextMeasureText).length;\n      if (validateMeasure) {\n        // adding AltGraph also fort azert keyboard\n        if (key === nextMeasurePrefix || key === 'Shift' || which === KeyCode.ALT || key === 'AltGraph' || mergedMeasuring || nextMeasureText !== mergedMeasureText && matchOption) {\n          startMeasure(nextMeasureText, nextMeasurePrefix, measureIndex);\n        }\n      } else if (mergedMeasuring) {\n        // Stop if measureText is invalidate\n        stopMeasure();\n      }\n\n      /**\n       * We will trigger `onSearch` to developer since they may use for async update.\n       * If met `space` means user finished searching.\n       */\n      if (onSearch && validateMeasure) {\n        onSearch(nextMeasureText, nextMeasurePrefix);\n      }\n    } else if (mergedMeasuring) {\n      stopMeasure();\n    }\n  };\n  const onInternalPressEnter = event => {\n    if (!mergedMeasuring && onPressEnter) {\n      onPressEnter(event);\n    }\n  };\n\n  // ============================ Focus Blur ============================\n  const focusRef = useRef();\n  const onInternalFocus = event => {\n    window.clearTimeout(focusRef.current);\n    if (!isFocus && event && onFocus) {\n      onFocus(event);\n    }\n    setIsFocus(true);\n  };\n  const onInternalBlur = event => {\n    focusRef.current = window.setTimeout(() => {\n      setIsFocus(false);\n      stopMeasure();\n      onBlur === null || onBlur === void 0 || onBlur(event);\n    }, 0);\n  };\n  const onDropdownFocus = () => {\n    onInternalFocus();\n  };\n  const onDropdownBlur = () => {\n    onInternalBlur();\n  };\n\n  // ============================== Scroll ===============================\n  const onInternalPopupScroll = event => {\n    onPopupScroll === null || onPopupScroll === void 0 || onPopupScroll(event);\n  };\n\n  // ============================== Styles ==============================\n  const mergedStyles = React.useMemo(() => {\n    var _styles$textarea$resi, _styles$textarea;\n    const resizeStyle = (_styles$textarea$resi = styles === null || styles === void 0 || (_styles$textarea = styles.textarea) === null || _styles$textarea === void 0 ? void 0 : _styles$textarea.resize) !== null && _styles$textarea$resi !== void 0 ? _styles$textarea$resi : style === null || style === void 0 ? void 0 : style.resize;\n    const mergedTextareaStyle = _objectSpread({}, styles === null || styles === void 0 ? void 0 : styles.textarea);\n\n    // Only add resize if it has a valid value, avoid setting undefined\n    if (resizeStyle !== undefined) {\n      mergedTextareaStyle.resize = resizeStyle;\n    }\n    return _objectSpread(_objectSpread({}, styles), {}, {\n      textarea: mergedTextareaStyle\n    });\n  }, [style, styles]);\n\n  // ============================== Render ==============================\n\n  const mentionNode = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TextArea, _extends({\n    classNames: {\n      textarea: mentionClassNames === null || mentionClassNames === void 0 ? void 0 : mentionClassNames.textarea\n    }\n    /**\n     * Example:<Mentions style={{ resize: 'none' }} />.\n     * If written this way, resizing here will become invalid.\n     * The TextArea component code and found that the resize parameter in the style of the ResizeTextArea component is obtained from prop.style.\n     * Just pass the resize attribute and leave everything else unchanged.\n     */,\n    styles: mergedStyles,\n    ref: textareaRef,\n    value: mergedValue\n  }, restProps, {\n    rows: rows,\n    onChange: onInternalChange,\n    onKeyDown: onInternalKeyDown,\n    onKeyUp: onInternalKeyUp,\n    onPressEnter: onInternalPressEnter,\n    onFocus: onInternalFocus,\n    onBlur: onInternalBlur\n  })), mergedMeasuring && /*#__PURE__*/React.createElement(\"div\", {\n    ref: measureRef,\n    className: \"\".concat(prefixCls, \"-measure\")\n  }, mergedValue.slice(0, mergedMeasureLocation), /*#__PURE__*/React.createElement(MentionsContext.Provider, {\n    value: {\n      notFoundContent,\n      activeIndex,\n      setActiveIndex,\n      selectOption,\n      onFocus: onDropdownFocus,\n      onBlur: onDropdownBlur,\n      onScroll: onInternalPopupScroll\n    }\n  }, /*#__PURE__*/React.createElement(KeywordTrigger, {\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    placement: placement,\n    direction: direction,\n    options: mergedOptions,\n    visible: true,\n    getPopupContainer: getPopupContainer,\n    popupClassName: clsx(popupClassName, mentionClassNames === null || mentionClassNames === void 0 ? void 0 : mentionClassNames.popup),\n    popupStyle: styles === null || styles === void 0 ? void 0 : styles.popup\n  }, /*#__PURE__*/React.createElement(\"span\", null, mergedMeasurePrefix))), mergedValue.slice(mergedMeasureLocation + mergedMeasurePrefix.length)));\n  if (!hasWrapper) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: clsx(prefixCls, className),\n      style: style,\n      ref: containerRef\n    }, mentionNode);\n  }\n  return mentionNode;\n});\nconst Mentions = /*#__PURE__*/forwardRef((_ref3, ref) => {\n  let {\n      suffix,\n      prefixCls = 'rc-mentions',\n      defaultValue,\n      value: customValue,\n      id,\n      allowClear,\n      onChange,\n      classNames: mentionsClassNames,\n      styles,\n      className,\n      disabled,\n      onClear\n    } = _ref3,\n    rest = _objectWithoutProperties(_ref3, _excluded2);\n  const hasSuffix = !!(suffix || allowClear);\n\n  // =============================== Ref ================================\n  const holderRef = useRef(null);\n  const mentionRef = useRef(null);\n  useImperativeHandle(ref, () => {\n    var _holderRef$current, _mentionRef$current;\n    return _objectSpread(_objectSpread({}, mentionRef.current), {}, {\n      nativeElement: ((_holderRef$current = holderRef.current) === null || _holderRef$current === void 0 ? void 0 : _holderRef$current.nativeElement) || ((_mentionRef$current = mentionRef.current) === null || _mentionRef$current === void 0 ? void 0 : _mentionRef$current.nativeElement)\n    });\n  });\n\n  // ============================== Value ===============================\n  const [mergedValue, setMergedValue] = useControlledState(defaultValue || '', customValue);\n\n  // ============================== Change ==============================\n  const triggerChange = currentValue => {\n    setMergedValue(currentValue);\n    onChange === null || onChange === void 0 || onChange(currentValue);\n  };\n\n  // ============================== Reset ===============================\n  const handleReset = () => {\n    triggerChange('');\n  };\n  return /*#__PURE__*/React.createElement(BaseInput, {\n    suffix: suffix,\n    prefixCls: prefixCls,\n    value: mergedValue,\n    allowClear: allowClear,\n    handleReset: handleReset,\n    className: clsx(prefixCls, className, {\n      // hasSuffix\n      [\"\".concat(prefixCls, \"-has-suffix\")]: hasSuffix\n    }),\n    classNames: mentionsClassNames,\n    disabled: disabled,\n    ref: holderRef,\n    onClear: onClear\n  }, /*#__PURE__*/React.createElement(InternalMentions, _extends({\n    className: mentionsClassNames === null || mentionsClassNames === void 0 ? void 0 : mentionsClassNames.mentions,\n    styles: styles,\n    classNames: mentionsClassNames,\n    prefixCls: prefixCls,\n    id: id,\n    ref: mentionRef,\n    onChange: triggerChange,\n    disabled: disabled,\n    hasWrapper: hasSuffix\n  }, rest)));\n});\nMentions.Option = Option;\nexport default Mentions;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","clsx","BaseInput","TextArea","toArray","useControlledState","KeyCode","useId","React","forwardRef","useContext","useEffect","useImperativeHandle","useMemo","useRef","useState","useEffectState","KeywordTrigger","MentionsContext","Option","filterOption","defaultFilterOption","validateSearch","defaultValidateSearch","getBeforeSelectionText","getLastMeasureIndex","replaceWithMeasure","setInputSelection","UnstableContext","InternalMentions","props","ref","prefixCls","className","style","classNames","mentionClassNames","styles","prefix","split","notFoundContent","value","defaultValue","children","options","allowClear","hasWrapper","silent","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","popupClassName","rows","visible","onPopupScroll","restProps","_objectWithoutProperties","_excluded","mergedPrefix","Array","isArray","containerRef","textareaRef","measureRef","getTextArea","_textareaRef$current","current","resizableTextArea","textArea","_textareaRef$current4","focus","_textareaRef$current2","blur","_textareaRef$current3","textarea","nativeElement","measuring","setMeasuring","measureText","setMeasureText","measurePrefix","setMeasurePrefix","measureLocation","setMeasureLocation","activeIndex","setActiveIndex","isFocus","setIsFocus","uniqueKey","id","mergedValue","setMergedValue","open","scrollTop","mergedMeasuring","mergedMeasureText","mergedMeasurePrefix","mergedMeasureLocation","curPrefix","index","lastIndexOf","getOptions","useCallback","targetMeasureText","list","map","item","_item$key","_objectSpread","concat","_ref","optionProps","label","filter","option","mergedOptions","onSelectionEffect","startMeasure","nextMeasureText","nextMeasurePrefix","nextMeasureLocation","stopMeasure","callback","triggerChange","nextValue","onInternalChange","_ref2","selectOption","_getTextArea","mentionValue","text","selectionLocation","targetText","selectionStart","onInternalKeyDown","event","which","UP","DOWN","optionLen","offset","newActiveIndex","preventDefault","ESC","ENTER","onInternalKeyUp","selectionStartText","location","measureIndex","indexOf","slice","validateMeasure","matchOption","ALT","onInternalPressEnter","focusRef","onInternalFocus","window","clearTimeout","onInternalBlur","setTimeout","onDropdownFocus","onDropdownBlur","onInternalPopupScroll","mergedStyles","_styles$textarea$resi","_styles$textarea","resizeStyle","resize","mergedTextareaStyle","undefined","mentionNode","createElement","Fragment","Provider","onScroll","popup","popupStyle","Mentions","_ref3","suffix","customValue","mentionsClassNames","disabled","onClear","rest","_excluded2","hasSuffix","holderRef","mentionRef","_holderRef$current","_mentionRef$current","currentValue","handleReset","mentions"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/mentions/es/Mentions.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { clsx } from 'clsx';\nimport { BaseInput } from '@rc-component/input';\nimport TextArea from '@rc-component/textarea';\nimport toArray from \"@rc-component/util/es/Children/toArray\";\nimport useControlledState from \"@rc-component/util/es/hooks/useControlledState\";\nimport KeyCode from \"@rc-component/util/es/KeyCode\";\nimport useId from \"@rc-component/util/es/hooks/useId\";\nimport React, { forwardRef, useContext, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport useEffectState from \"./hooks/useEffectState\";\nimport KeywordTrigger from \"./KeywordTrigger\";\nimport MentionsContext from \"./MentionsContext\";\nimport Option from \"./Option\";\nimport { filterOption as defaultFilterOption, validateSearch as defaultValidateSearch, getBeforeSelectionText, getLastMeasureIndex, replaceWithMeasure, setInputSelection } from \"./util\";\nimport { UnstableContext } from \"./context\";\nconst InternalMentions = /*#__PURE__*/forwardRef((props, ref) => {\n  const {\n    // Style\n    prefixCls,\n    className,\n    style,\n    classNames: mentionClassNames,\n    styles,\n    // Misc\n    prefix = '@',\n    split = ' ',\n    notFoundContent = 'Not Found',\n    value,\n    defaultValue,\n    children,\n    options,\n    allowClear,\n    hasWrapper,\n    silent,\n    // Events\n    validateSearch = defaultValidateSearch,\n    filterOption = defaultFilterOption,\n    onChange,\n    onKeyDown,\n    onKeyUp,\n    onPressEnter,\n    onSearch,\n    onSelect,\n    onFocus,\n    onBlur,\n    // Dropdown\n    transitionName,\n    placement,\n    direction,\n    getPopupContainer,\n    popupClassName,\n    rows = 1,\n    // Fix Warning: Received `false` for a non-boolean attribute `visible`.\n    // https://github.com/ant-design/ant-design/blob/df933e94efc8f376003bbdc658d64b64a0e53495/components/mentions/demo/render-panel.tsx\n    // @ts-expect-error\n    visible,\n    onPopupScroll,\n    // Rest\n    ...restProps\n  } = props;\n  const mergedPrefix = useMemo(() => Array.isArray(prefix) ? prefix : [prefix], [prefix]);\n\n  // =============================== Refs ===============================\n  const containerRef = useRef(null);\n  const textareaRef = useRef(null);\n  const measureRef = useRef(null);\n  const getTextArea = () => textareaRef.current?.resizableTextArea?.textArea;\n  React.useImperativeHandle(ref, () => ({\n    focus: () => textareaRef.current?.focus(),\n    blur: () => textareaRef.current?.blur(),\n    textarea: textareaRef.current?.resizableTextArea?.textArea,\n    nativeElement: containerRef.current\n  }));\n\n  // ============================== State ===============================\n  const [measuring, setMeasuring] = useState(false);\n  const [measureText, setMeasureText] = useState('');\n  const [measurePrefix, setMeasurePrefix] = useState('');\n  const [measureLocation, setMeasureLocation] = useState(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isFocus, setIsFocus] = useState(false);\n\n  // ================================ Id ================================\n  const uniqueKey = useId(props.id);\n\n  // ============================== Value ===============================\n  const [mergedValue, setMergedValue] = useControlledState(defaultValue || '', value);\n\n  // =============================== Open ===============================\n  const {\n    open\n  } = useContext(UnstableContext);\n  useEffect(() => {\n    // Sync measure div top with textarea for rc-trigger usage\n    if (measuring && measureRef.current) {\n      measureRef.current.scrollTop = getTextArea().scrollTop;\n    }\n  }, [measuring]);\n  const [mergedMeasuring, mergedMeasureText, mergedMeasurePrefix, mergedMeasureLocation] = React.useMemo(() => {\n    if (open) {\n      for (let i = 0; i < mergedPrefix.length; i += 1) {\n        const curPrefix = mergedPrefix[i];\n        const index = mergedValue.lastIndexOf(curPrefix);\n        if (index >= 0) {\n          return [true, '', curPrefix, index];\n        }\n      }\n    }\n    return [measuring, measureText, measurePrefix, measureLocation];\n  }, [open, measuring, mergedPrefix, mergedValue, measureText, measurePrefix, measureLocation]);\n\n  // ============================== Option ==============================\n  const getOptions = React.useCallback(targetMeasureText => {\n    let list;\n    if (options && options.length > 0) {\n      list = options.map(item => ({\n        ...item,\n        key: `${item?.key ?? item.value}-${uniqueKey}`\n      }));\n    } else {\n      list = toArray(children).map(({\n        props: optionProps,\n        key\n      }) => ({\n        ...optionProps,\n        label: optionProps.children,\n        key: `${key || optionProps.value}-${uniqueKey}`\n      }));\n    }\n    return list.filter(option => {\n      /** Return all result if `filterOption` is false. */\n      if (filterOption === false) {\n        return true;\n      }\n      return filterOption(targetMeasureText, option);\n    });\n  }, [options, uniqueKey, children, filterOption]);\n  const mergedOptions = React.useMemo(() => getOptions(mergedMeasureText), [getOptions, mergedMeasureText]);\n\n  // ============================= Measure ==============================\n  // Mark that we will reset input selection to target position when user select option\n  const onSelectionEffect = useEffectState();\n  const startMeasure = (nextMeasureText, nextMeasurePrefix, nextMeasureLocation) => {\n    setMeasuring(true);\n    setMeasureText(nextMeasureText);\n    setMeasurePrefix(nextMeasurePrefix);\n    setMeasureLocation(nextMeasureLocation);\n    setActiveIndex(0);\n  };\n  const stopMeasure = callback => {\n    setMeasuring(false);\n    setMeasureLocation(0);\n    setMeasureText('');\n    onSelectionEffect(callback);\n  };\n\n  // ============================== Change ==============================\n  const triggerChange = nextValue => {\n    setMergedValue(nextValue);\n    onChange?.(nextValue);\n  };\n  const onInternalChange = ({\n    target: {\n      value: nextValue\n    }\n  }) => {\n    triggerChange(nextValue);\n  };\n  const selectOption = option => {\n    const {\n      value: mentionValue = ''\n    } = option;\n    const {\n      text,\n      selectionLocation\n    } = replaceWithMeasure(mergedValue, {\n      measureLocation: mergedMeasureLocation,\n      targetText: mentionValue,\n      prefix: mergedMeasurePrefix,\n      selectionStart: getTextArea()?.selectionStart,\n      split\n    });\n    triggerChange(text);\n    stopMeasure(() => {\n      // We need restore the selection position\n      setInputSelection(getTextArea(), selectionLocation);\n    });\n    onSelect?.(option, mergedMeasurePrefix);\n  };\n\n  // ============================= KeyEvent =============================\n  // Check if hit the measure keyword\n  const onInternalKeyDown = event => {\n    const {\n      which\n    } = event;\n    onKeyDown?.(event);\n\n    // Skip if not measuring\n    if (!mergedMeasuring) {\n      return;\n    }\n    if (which === KeyCode.UP || which === KeyCode.DOWN) {\n      // Control arrow function\n      const optionLen = mergedOptions.length;\n      const offset = which === KeyCode.UP ? -1 : 1;\n      const newActiveIndex = (activeIndex + offset + optionLen) % optionLen;\n      setActiveIndex(newActiveIndex);\n      event.preventDefault();\n    } else if (which === KeyCode.ESC) {\n      stopMeasure();\n    } else if (which === KeyCode.ENTER) {\n      // Measure hit\n      event.preventDefault();\n      // loading skip\n      if (silent) {\n        return;\n      }\n      if (!mergedOptions.length) {\n        stopMeasure();\n        return;\n      }\n      const option = mergedOptions[activeIndex];\n      selectOption(option);\n    }\n  };\n\n  /**\n   * When to start measure:\n   * 1. When user press `prefix`\n   * 2. When measureText !== prevMeasureText\n   *  - If measure hit\n   *  - If measuring\n   *\n   * When to stop measure:\n   * 1. Selection is out of range\n   * 2. Contains `space`\n   * 3. ESC or select one\n   */\n  const onInternalKeyUp = event => {\n    const {\n      key,\n      which\n    } = event;\n    const target = event.target;\n    const selectionStartText = getBeforeSelectionText(target);\n    const {\n      location: measureIndex,\n      prefix: nextMeasurePrefix\n    } = getLastMeasureIndex(selectionStartText, mergedPrefix);\n\n    // If the client implements an onKeyUp handler, call it\n    onKeyUp?.(event);\n\n    // Skip if match the white key list\n    if ([KeyCode.ESC, KeyCode.UP, KeyCode.DOWN, KeyCode.ENTER].indexOf(which) !== -1) {\n      return;\n    }\n    if (measureIndex !== -1) {\n      const nextMeasureText = selectionStartText.slice(measureIndex + nextMeasurePrefix.length);\n      const validateMeasure = validateSearch(nextMeasureText, split);\n      const matchOption = !!getOptions(nextMeasureText).length;\n      if (validateMeasure) {\n        // adding AltGraph also fort azert keyboard\n        if (key === nextMeasurePrefix || key === 'Shift' || which === KeyCode.ALT || key === 'AltGraph' || mergedMeasuring || nextMeasureText !== mergedMeasureText && matchOption) {\n          startMeasure(nextMeasureText, nextMeasurePrefix, measureIndex);\n        }\n      } else if (mergedMeasuring) {\n        // Stop if measureText is invalidate\n        stopMeasure();\n      }\n\n      /**\n       * We will trigger `onSearch` to developer since they may use for async update.\n       * If met `space` means user finished searching.\n       */\n      if (onSearch && validateMeasure) {\n        onSearch(nextMeasureText, nextMeasurePrefix);\n      }\n    } else if (mergedMeasuring) {\n      stopMeasure();\n    }\n  };\n  const onInternalPressEnter = event => {\n    if (!mergedMeasuring && onPressEnter) {\n      onPressEnter(event);\n    }\n  };\n\n  // ============================ Focus Blur ============================\n  const focusRef = useRef();\n  const onInternalFocus = event => {\n    window.clearTimeout(focusRef.current);\n    if (!isFocus && event && onFocus) {\n      onFocus(event);\n    }\n    setIsFocus(true);\n  };\n  const onInternalBlur = event => {\n    focusRef.current = window.setTimeout(() => {\n      setIsFocus(false);\n      stopMeasure();\n      onBlur?.(event);\n    }, 0);\n  };\n  const onDropdownFocus = () => {\n    onInternalFocus();\n  };\n  const onDropdownBlur = () => {\n    onInternalBlur();\n  };\n\n  // ============================== Scroll ===============================\n  const onInternalPopupScroll = event => {\n    onPopupScroll?.(event);\n  };\n\n  // ============================== Styles ==============================\n  const mergedStyles = React.useMemo(() => {\n    const resizeStyle = styles?.textarea?.resize ?? style?.resize;\n    const mergedTextareaStyle = {\n      ...styles?.textarea\n    };\n\n    // Only add resize if it has a valid value, avoid setting undefined\n    if (resizeStyle !== undefined) {\n      mergedTextareaStyle.resize = resizeStyle;\n    }\n    return {\n      ...styles,\n      textarea: mergedTextareaStyle\n    };\n  }, [style, styles]);\n\n  // ============================== Render ==============================\n\n  const mentionNode = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TextArea, _extends({\n    classNames: {\n      textarea: mentionClassNames?.textarea\n    }\n    /**\n     * Example:<Mentions style={{ resize: 'none' }} />.\n     * If written this way, resizing here will become invalid.\n     * The TextArea component code and found that the resize parameter in the style of the ResizeTextArea component is obtained from prop.style.\n     * Just pass the resize attribute and leave everything else unchanged.\n     */,\n    styles: mergedStyles,\n    ref: textareaRef,\n    value: mergedValue\n  }, restProps, {\n    rows: rows,\n    onChange: onInternalChange,\n    onKeyDown: onInternalKeyDown,\n    onKeyUp: onInternalKeyUp,\n    onPressEnter: onInternalPressEnter,\n    onFocus: onInternalFocus,\n    onBlur: onInternalBlur\n  })), mergedMeasuring && /*#__PURE__*/React.createElement(\"div\", {\n    ref: measureRef,\n    className: `${prefixCls}-measure`\n  }, mergedValue.slice(0, mergedMeasureLocation), /*#__PURE__*/React.createElement(MentionsContext.Provider, {\n    value: {\n      notFoundContent,\n      activeIndex,\n      setActiveIndex,\n      selectOption,\n      onFocus: onDropdownFocus,\n      onBlur: onDropdownBlur,\n      onScroll: onInternalPopupScroll\n    }\n  }, /*#__PURE__*/React.createElement(KeywordTrigger, {\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    placement: placement,\n    direction: direction,\n    options: mergedOptions,\n    visible: true,\n    getPopupContainer: getPopupContainer,\n    popupClassName: clsx(popupClassName, mentionClassNames?.popup),\n    popupStyle: styles?.popup\n  }, /*#__PURE__*/React.createElement(\"span\", null, mergedMeasurePrefix))), mergedValue.slice(mergedMeasureLocation + mergedMeasurePrefix.length)));\n  if (!hasWrapper) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: clsx(prefixCls, className),\n      style: style,\n      ref: containerRef\n    }, mentionNode);\n  }\n  return mentionNode;\n});\nconst Mentions = /*#__PURE__*/forwardRef(({\n  suffix,\n  prefixCls = 'rc-mentions',\n  defaultValue,\n  value: customValue,\n  id,\n  allowClear,\n  onChange,\n  classNames: mentionsClassNames,\n  styles,\n  className,\n  disabled,\n  onClear,\n  ...rest\n}, ref) => {\n  const hasSuffix = !!(suffix || allowClear);\n\n  // =============================== Ref ================================\n  const holderRef = useRef(null);\n  const mentionRef = useRef(null);\n  useImperativeHandle(ref, () => ({\n    ...mentionRef.current,\n    nativeElement: holderRef.current?.nativeElement || mentionRef.current?.nativeElement\n  }));\n\n  // ============================== Value ===============================\n  const [mergedValue, setMergedValue] = useControlledState(defaultValue || '', customValue);\n\n  // ============================== Change ==============================\n  const triggerChange = currentValue => {\n    setMergedValue(currentValue);\n    onChange?.(currentValue);\n  };\n\n  // ============================== Reset ===============================\n  const handleReset = () => {\n    triggerChange('');\n  };\n  return /*#__PURE__*/React.createElement(BaseInput, {\n    suffix: suffix,\n    prefixCls: prefixCls,\n    value: mergedValue,\n    allowClear: allowClear,\n    handleReset: handleReset,\n    className: clsx(prefixCls, className, {\n      // hasSuffix\n      [`${prefixCls}-has-suffix`]: hasSuffix\n    }),\n    classNames: mentionsClassNames,\n    disabled: disabled,\n    ref: holderRef,\n    onClear: onClear\n  }, /*#__PURE__*/React.createElement(InternalMentions, _extends({\n    className: mentionsClassNames?.mentions,\n    styles: styles,\n    classNames: mentionsClassNames,\n    prefixCls: prefixCls,\n    id: id,\n    ref: mentionRef,\n    onChange: triggerChange,\n    disabled: disabled,\n    hasWrapper: hasSuffix\n  }, rest)));\n});\nMentions.Option = Option;\nexport default Mentions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}