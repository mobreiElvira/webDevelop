{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport NoticeList from \"./NoticeList\";\n// ant-notification ant-notification-topRight\nconst Notifications = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    prefixCls = 'rc-notification',\n    container,\n    motion,\n    maxCount,\n    className,\n    style,\n    onAllRemoved,\n    stack,\n    renderNotifications\n  } = props;\n  const [configList, setConfigList] = React.useState([]);\n\n  // ======================== Close =========================\n  const onNoticeClose = key => {\n    var _config$onClose;\n    // Trigger close event\n    const config = configList.find(item => item.key === key);\n    const closable = config === null || config === void 0 ? void 0 : config.closable;\n    const closableObj = closable && typeof closable === 'object' ? closable : {};\n    const {\n      onClose: closableOnClose\n    } = closableObj;\n    closableOnClose === null || closableOnClose === void 0 || closableOnClose();\n    config === null || config === void 0 || (_config$onClose = config.onClose) === null || _config$onClose === void 0 || _config$onClose.call(config);\n    setConfigList(list => list.filter(item => item.key !== key));\n  };\n\n  // ========================= Refs =========================\n  React.useImperativeHandle(ref, () => ({\n    open: config => {\n      setConfigList(list => {\n        let clone = [...list];\n\n        // Replace if exist\n        const index = clone.findIndex(item => item.key === config.key);\n        const innerConfig = _objectSpread({}, config);\n        if (index >= 0) {\n          var _list$index;\n          innerConfig.times = (((_list$index = list[index]) === null || _list$index === void 0 ? void 0 : _list$index.times) || 0) + 1;\n          clone[index] = innerConfig;\n        } else {\n          innerConfig.times = 0;\n          clone.push(innerConfig);\n        }\n        if (maxCount > 0 && clone.length > maxCount) {\n          clone = clone.slice(-maxCount);\n        }\n        return clone;\n      });\n    },\n    close: key => {\n      onNoticeClose(key);\n    },\n    destroy: () => {\n      setConfigList([]);\n    }\n  }));\n\n  // ====================== Placements ======================\n  const [placements, setPlacements] = React.useState({});\n  React.useEffect(() => {\n    const nextPlacements = {};\n    configList.forEach(config => {\n      const {\n        placement = 'topRight'\n      } = config;\n      if (placement) {\n        nextPlacements[placement] = nextPlacements[placement] || [];\n        nextPlacements[placement].push(config);\n      }\n    });\n\n    // Fill exist placements to avoid empty list causing remove without motion\n    Object.keys(placements).forEach(placement => {\n      nextPlacements[placement] = nextPlacements[placement] || [];\n    });\n    setPlacements(nextPlacements);\n  }, [configList]);\n\n  // Clean up container if all notices fade out\n  const onAllNoticeRemoved = placement => {\n    setPlacements(originPlacements => {\n      const clone = _objectSpread({}, originPlacements);\n      const list = clone[placement] || [];\n      if (!list.length) {\n        delete clone[placement];\n      }\n      return clone;\n    });\n  };\n\n  // Effect tell that placements is empty now\n  const emptyRef = React.useRef(false);\n  React.useEffect(() => {\n    if (Object.keys(placements).length > 0) {\n      emptyRef.current = true;\n    } else if (emptyRef.current) {\n      // Trigger only when from exist to empty\n      onAllRemoved === null || onAllRemoved === void 0 || onAllRemoved();\n      emptyRef.current = false;\n    }\n  }, [placements]);\n  // ======================== Render ========================\n  if (!container) {\n    return null;\n  }\n  const placementList = Object.keys(placements);\n  return /*#__PURE__*/createPortal(/*#__PURE__*/React.createElement(React.Fragment, null, placementList.map(placement => {\n    const placementConfigList = placements[placement];\n    const list = /*#__PURE__*/React.createElement(NoticeList, {\n      key: placement,\n      configList: placementConfigList,\n      placement: placement,\n      prefixCls: prefixCls,\n      className: className === null || className === void 0 ? void 0 : className(placement),\n      style: style === null || style === void 0 ? void 0 : style(placement),\n      motion: motion,\n      onNoticeClose: onNoticeClose,\n      onAllNoticeRemoved: onAllNoticeRemoved,\n      stack: stack\n    });\n    return renderNotifications ? renderNotifications(list, {\n      prefixCls,\n      key: placement\n    }) : list;\n  })), container);\n});\nif (process.env.NODE_ENV !== 'production') {\n  Notifications.displayName = 'Notifications';\n}\nexport default Notifications;","map":{"version":3,"names":["React","createPortal","NoticeList","Notifications","forwardRef","props","ref","prefixCls","container","motion","maxCount","className","style","onAllRemoved","stack","renderNotifications","configList","setConfigList","useState","onNoticeClose","key","_config$onClose","config","find","item","closable","closableObj","onClose","closableOnClose","call","list","filter","useImperativeHandle","open","clone","index","findIndex","innerConfig","_objectSpread","_list$index","times","push","length","slice","close","destroy","placements","setPlacements","useEffect","nextPlacements","forEach","placement","Object","keys","onAllNoticeRemoved","originPlacements","emptyRef","useRef","current","placementList","createElement","Fragment","map","placementConfigList","process","env","NODE_ENV","displayName"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/notification/es/Notifications.js"],"sourcesContent":["import * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport NoticeList from \"./NoticeList\";\n// ant-notification ant-notification-topRight\nconst Notifications = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    prefixCls = 'rc-notification',\n    container,\n    motion,\n    maxCount,\n    className,\n    style,\n    onAllRemoved,\n    stack,\n    renderNotifications\n  } = props;\n  const [configList, setConfigList] = React.useState([]);\n\n  // ======================== Close =========================\n  const onNoticeClose = key => {\n    // Trigger close event\n    const config = configList.find(item => item.key === key);\n    const closable = config?.closable;\n    const closableObj = closable && typeof closable === 'object' ? closable : {};\n    const {\n      onClose: closableOnClose\n    } = closableObj;\n    closableOnClose?.();\n    config?.onClose?.();\n    setConfigList(list => list.filter(item => item.key !== key));\n  };\n\n  // ========================= Refs =========================\n  React.useImperativeHandle(ref, () => ({\n    open: config => {\n      setConfigList(list => {\n        let clone = [...list];\n\n        // Replace if exist\n        const index = clone.findIndex(item => item.key === config.key);\n        const innerConfig = {\n          ...config\n        };\n        if (index >= 0) {\n          innerConfig.times = (list[index]?.times || 0) + 1;\n          clone[index] = innerConfig;\n        } else {\n          innerConfig.times = 0;\n          clone.push(innerConfig);\n        }\n        if (maxCount > 0 && clone.length > maxCount) {\n          clone = clone.slice(-maxCount);\n        }\n        return clone;\n      });\n    },\n    close: key => {\n      onNoticeClose(key);\n    },\n    destroy: () => {\n      setConfigList([]);\n    }\n  }));\n\n  // ====================== Placements ======================\n  const [placements, setPlacements] = React.useState({});\n  React.useEffect(() => {\n    const nextPlacements = {};\n    configList.forEach(config => {\n      const {\n        placement = 'topRight'\n      } = config;\n      if (placement) {\n        nextPlacements[placement] = nextPlacements[placement] || [];\n        nextPlacements[placement].push(config);\n      }\n    });\n\n    // Fill exist placements to avoid empty list causing remove without motion\n    Object.keys(placements).forEach(placement => {\n      nextPlacements[placement] = nextPlacements[placement] || [];\n    });\n    setPlacements(nextPlacements);\n  }, [configList]);\n\n  // Clean up container if all notices fade out\n  const onAllNoticeRemoved = placement => {\n    setPlacements(originPlacements => {\n      const clone = {\n        ...originPlacements\n      };\n      const list = clone[placement] || [];\n      if (!list.length) {\n        delete clone[placement];\n      }\n      return clone;\n    });\n  };\n\n  // Effect tell that placements is empty now\n  const emptyRef = React.useRef(false);\n  React.useEffect(() => {\n    if (Object.keys(placements).length > 0) {\n      emptyRef.current = true;\n    } else if (emptyRef.current) {\n      // Trigger only when from exist to empty\n      onAllRemoved?.();\n      emptyRef.current = false;\n    }\n  }, [placements]);\n  // ======================== Render ========================\n  if (!container) {\n    return null;\n  }\n  const placementList = Object.keys(placements);\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(React.Fragment, null, placementList.map(placement => {\n    const placementConfigList = placements[placement];\n    const list = /*#__PURE__*/React.createElement(NoticeList, {\n      key: placement,\n      configList: placementConfigList,\n      placement: placement,\n      prefixCls: prefixCls,\n      className: className?.(placement),\n      style: style?.(placement),\n      motion: motion,\n      onNoticeClose: onNoticeClose,\n      onAllNoticeRemoved: onAllNoticeRemoved,\n      stack: stack\n    });\n    return renderNotifications ? renderNotifications(list, {\n      prefixCls,\n      key: placement\n    }) : list;\n  })), container);\n});\nif (process.env.NODE_ENV !== 'production') {\n  Notifications.displayName = 'Notifications';\n}\nexport default Notifications;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}