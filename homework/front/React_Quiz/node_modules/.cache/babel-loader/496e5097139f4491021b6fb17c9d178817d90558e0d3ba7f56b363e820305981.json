{"ast":null,"code":"import _defineProperty from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n// ================================== Cache ==================================\n\nexport function sameDerivativeOption(left, right) {\n  if (left.length !== right.length) {\n    return false;\n  }\n  for (let i = 0; i < left.length; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport default class ThemeCache {\n  constructor() {\n    _defineProperty(this, \"cache\", void 0);\n    _defineProperty(this, \"keys\", void 0);\n    _defineProperty(this, \"cacheCallTimes\", void 0);\n    this.cache = new Map();\n    this.keys = [];\n    this.cacheCallTimes = 0;\n  }\n  size() {\n    return this.keys.length;\n  }\n  internalGet(derivativeOption) {\n    var _cache2, _cache3;\n    let updateCallTimes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let cache = {\n      map: this.cache\n    };\n    derivativeOption.forEach(derivative => {\n      if (!cache) {\n        cache = undefined;\n      } else {\n        var _cache;\n        cache = (_cache = cache) === null || _cache === void 0 || (_cache = _cache.map) === null || _cache === void 0 ? void 0 : _cache.get(derivative);\n      }\n    });\n    if ((_cache2 = cache) !== null && _cache2 !== void 0 && _cache2.value && updateCallTimes) {\n      cache.value[1] = this.cacheCallTimes++;\n    }\n    return (_cache3 = cache) === null || _cache3 === void 0 ? void 0 : _cache3.value;\n  }\n  get(derivativeOption) {\n    var _this$internalGet;\n    return (_this$internalGet = this.internalGet(derivativeOption, true)) === null || _this$internalGet === void 0 ? void 0 : _this$internalGet[0];\n  }\n  has(derivativeOption) {\n    return !!this.internalGet(derivativeOption);\n  }\n  set(derivativeOption, value) {\n    // New cache\n    if (!this.has(derivativeOption)) {\n      if (this.size() + 1 > ThemeCache.MAX_CACHE_SIZE + ThemeCache.MAX_CACHE_OFFSET) {\n        const [targetKey] = this.keys.reduce((result, key) => {\n          const [, callTimes] = result;\n          if (this.internalGet(key)[1] < callTimes) {\n            return [key, this.internalGet(key)[1]];\n          }\n          return result;\n        }, [this.keys[0], this.cacheCallTimes]);\n        this.delete(targetKey);\n      }\n      this.keys.push(derivativeOption);\n    }\n    let cache = this.cache;\n    derivativeOption.forEach((derivative, index) => {\n      if (index === derivativeOption.length - 1) {\n        cache.set(derivative, {\n          value: [value, this.cacheCallTimes++]\n        });\n      } else {\n        const cacheValue = cache.get(derivative);\n        if (!cacheValue) {\n          cache.set(derivative, {\n            map: new Map()\n          });\n        } else if (!cacheValue.map) {\n          cacheValue.map = new Map();\n        }\n        cache = cache.get(derivative).map;\n      }\n    });\n  }\n  deleteByPath(currentCache, derivatives) {\n    const cache = currentCache.get(derivatives[0]);\n    if (derivatives.length === 1) {\n      var _cache$value;\n      if (!cache.map) {\n        currentCache.delete(derivatives[0]);\n      } else {\n        currentCache.set(derivatives[0], {\n          map: cache.map\n        });\n      }\n      return (_cache$value = cache.value) === null || _cache$value === void 0 ? void 0 : _cache$value[0];\n    }\n    const result = this.deleteByPath(cache.map, derivatives.slice(1));\n    if ((!cache.map || cache.map.size === 0) && !cache.value) {\n      currentCache.delete(derivatives[0]);\n    }\n    return result;\n  }\n  delete(derivativeOption) {\n    // If cache exists\n    if (this.has(derivativeOption)) {\n      this.keys = this.keys.filter(item => !sameDerivativeOption(item, derivativeOption));\n      return this.deleteByPath(this.cache, derivativeOption);\n    }\n    return undefined;\n  }\n}\n_defineProperty(ThemeCache, \"MAX_CACHE_SIZE\", 20);\n_defineProperty(ThemeCache, \"MAX_CACHE_OFFSET\", 5);","map":{"version":3,"names":["sameDerivativeOption","left","right","length","i","ThemeCache","constructor","_defineProperty","cache","Map","keys","cacheCallTimes","size","internalGet","derivativeOption","_cache2","_cache3","updateCallTimes","arguments","undefined","map","forEach","derivative","_cache","get","value","_this$internalGet","has","set","MAX_CACHE_SIZE","MAX_CACHE_OFFSET","targetKey","reduce","result","key","callTimes","delete","push","index","cacheValue","deleteByPath","currentCache","derivatives","_cache$value","slice","filter","item"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@ant-design/cssinjs/es/theme/ThemeCache.js"],"sourcesContent":["// ================================== Cache ==================================\n\nexport function sameDerivativeOption(left, right) {\n  if (left.length !== right.length) {\n    return false;\n  }\n  for (let i = 0; i < left.length; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport default class ThemeCache {\n  static MAX_CACHE_SIZE = 20;\n  static MAX_CACHE_OFFSET = 5;\n  cache;\n  keys;\n  cacheCallTimes;\n  constructor() {\n    this.cache = new Map();\n    this.keys = [];\n    this.cacheCallTimes = 0;\n  }\n  size() {\n    return this.keys.length;\n  }\n  internalGet(derivativeOption, updateCallTimes = false) {\n    let cache = {\n      map: this.cache\n    };\n    derivativeOption.forEach(derivative => {\n      if (!cache) {\n        cache = undefined;\n      } else {\n        cache = cache?.map?.get(derivative);\n      }\n    });\n    if (cache?.value && updateCallTimes) {\n      cache.value[1] = this.cacheCallTimes++;\n    }\n    return cache?.value;\n  }\n  get(derivativeOption) {\n    return this.internalGet(derivativeOption, true)?.[0];\n  }\n  has(derivativeOption) {\n    return !!this.internalGet(derivativeOption);\n  }\n  set(derivativeOption, value) {\n    // New cache\n    if (!this.has(derivativeOption)) {\n      if (this.size() + 1 > ThemeCache.MAX_CACHE_SIZE + ThemeCache.MAX_CACHE_OFFSET) {\n        const [targetKey] = this.keys.reduce((result, key) => {\n          const [, callTimes] = result;\n          if (this.internalGet(key)[1] < callTimes) {\n            return [key, this.internalGet(key)[1]];\n          }\n          return result;\n        }, [this.keys[0], this.cacheCallTimes]);\n        this.delete(targetKey);\n      }\n      this.keys.push(derivativeOption);\n    }\n    let cache = this.cache;\n    derivativeOption.forEach((derivative, index) => {\n      if (index === derivativeOption.length - 1) {\n        cache.set(derivative, {\n          value: [value, this.cacheCallTimes++]\n        });\n      } else {\n        const cacheValue = cache.get(derivative);\n        if (!cacheValue) {\n          cache.set(derivative, {\n            map: new Map()\n          });\n        } else if (!cacheValue.map) {\n          cacheValue.map = new Map();\n        }\n        cache = cache.get(derivative).map;\n      }\n    });\n  }\n  deleteByPath(currentCache, derivatives) {\n    const cache = currentCache.get(derivatives[0]);\n    if (derivatives.length === 1) {\n      if (!cache.map) {\n        currentCache.delete(derivatives[0]);\n      } else {\n        currentCache.set(derivatives[0], {\n          map: cache.map\n        });\n      }\n      return cache.value?.[0];\n    }\n    const result = this.deleteByPath(cache.map, derivatives.slice(1));\n    if ((!cache.map || cache.map.size === 0) && !cache.value) {\n      currentCache.delete(derivatives[0]);\n    }\n    return result;\n  }\n  delete(derivativeOption) {\n    // If cache exists\n    if (this.has(derivativeOption)) {\n      this.keys = this.keys.filter(item => !sameDerivativeOption(item, derivativeOption));\n      return this.deleteByPath(this.cache, derivativeOption);\n    }\n    return undefined;\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}