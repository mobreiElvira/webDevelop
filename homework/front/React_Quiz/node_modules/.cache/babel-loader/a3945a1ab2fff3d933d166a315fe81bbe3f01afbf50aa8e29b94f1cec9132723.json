{"ast":null,"code":"import * as React from 'react';\nimport { PreviewGroupContext } from \"../context\";\nlet uid = 0;\nexport default function useRegisterImage(canPreview, data) {\n  const [id] = React.useState(() => {\n    uid += 1;\n    return String(uid);\n  });\n  const groupContext = React.useContext(PreviewGroupContext);\n  const registerData = {\n    data,\n    canPreview\n  };\n\n  // Keep order start\n  // Resolve https://github.com/ant-design/ant-design/issues/28881\n  // Only need unRegister when component unMount\n  React.useEffect(() => {\n    if (groupContext) {\n      return groupContext.register(id, registerData);\n    }\n  }, []);\n  React.useEffect(() => {\n    if (groupContext) {\n      groupContext.register(id, registerData);\n    }\n  }, [canPreview, data]);\n  return id;\n}","map":{"version":3,"names":["React","PreviewGroupContext","uid","useRegisterImage","canPreview","data","id","useState","String","groupContext","useContext","registerData","useEffect","register"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/image/es/hooks/useRegisterImage.js"],"sourcesContent":["import * as React from 'react';\nimport { PreviewGroupContext } from \"../context\";\nlet uid = 0;\nexport default function useRegisterImage(canPreview, data) {\n  const [id] = React.useState(() => {\n    uid += 1;\n    return String(uid);\n  });\n  const groupContext = React.useContext(PreviewGroupContext);\n  const registerData = {\n    data,\n    canPreview\n  };\n\n  // Keep order start\n  // Resolve https://github.com/ant-design/ant-design/issues/28881\n  // Only need unRegister when component unMount\n  React.useEffect(() => {\n    if (groupContext) {\n      return groupContext.register(id, registerData);\n    }\n  }, []);\n  React.useEffect(() => {\n    if (groupContext) {\n      groupContext.register(id, registerData);\n    }\n  }, [canPreview, data]);\n  return id;\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,mBAAmB,QAAQ,YAAY;AAChD,IAAIC,GAAG,GAAG,CAAC;AACX,eAAe,SAASC,gBAAgBA,CAACC,UAAU,EAAEC,IAAI,EAAE;EACzD,MAAM,CAACC,EAAE,CAAC,GAAGN,KAAK,CAACO,QAAQ,CAAC,MAAM;IAChCL,GAAG,IAAI,CAAC;IACR,OAAOM,MAAM,CAACN,GAAG,CAAC;EACpB,CAAC,CAAC;EACF,MAAMO,YAAY,GAAGT,KAAK,CAACU,UAAU,CAACT,mBAAmB,CAAC;EAC1D,MAAMU,YAAY,GAAG;IACnBN,IAAI;IACJD;EACF,CAAC;;EAED;EACA;EACA;EACAJ,KAAK,CAACY,SAAS,CAAC,MAAM;IACpB,IAAIH,YAAY,EAAE;MAChB,OAAOA,YAAY,CAACI,QAAQ,CAACP,EAAE,EAAEK,YAAY,CAAC;IAChD;EACF,CAAC,EAAE,EAAE,CAAC;EACNX,KAAK,CAACY,SAAS,CAAC,MAAM;IACpB,IAAIH,YAAY,EAAE;MAChBA,YAAY,CAACI,QAAQ,CAACP,EAAE,EAAEK,YAAY,CAAC;IACzC;EACF,CAAC,EAAE,CAACP,UAAU,EAAEC,IAAI,CAAC,CAAC;EACtB,OAAOC,EAAE;AACX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}