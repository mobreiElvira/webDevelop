{"ast":null,"code":"import * as React from 'react';\nimport { useEvent } from '@rc-component/util';\nimport copy from '../../_util/copy';\nimport toList from '../../_util/toList';\nconst useCopyClick = _ref => {\n  let {\n    copyConfig,\n    children\n  } = _ref;\n  const [copied, setCopied] = React.useState(false);\n  const [copyLoading, setCopyLoading] = React.useState(false);\n  const copyIdRef = React.useRef(null);\n  const cleanCopyId = () => {\n    if (copyIdRef.current) {\n      clearTimeout(copyIdRef.current);\n    }\n  };\n  const copyOptions = {};\n  if (copyConfig.format) {\n    copyOptions.format = copyConfig.format;\n  }\n  React.useEffect(() => cleanCopyId, []);\n  // Keep copy action up to date\n  const onClick = useEvent(async e => {\n    e === null || e === void 0 || e.preventDefault();\n    e === null || e === void 0 || e.stopPropagation();\n    setCopyLoading(true);\n    try {\n      var _copyConfig$onCopy;\n      const text = typeof copyConfig.text === 'function' ? await copyConfig.text() : copyConfig.text;\n      await copy(text || toList(children, true).join('') || '', copyOptions);\n      setCopyLoading(false);\n      setCopied(true);\n      // Trigger tips update\n      cleanCopyId();\n      copyIdRef.current = setTimeout(() => {\n        setCopied(false);\n      }, 3000);\n      (_copyConfig$onCopy = copyConfig.onCopy) === null || _copyConfig$onCopy === void 0 || _copyConfig$onCopy.call(copyConfig, e);\n    } catch (error) {\n      setCopyLoading(false);\n      throw error;\n    }\n  });\n  return {\n    copied,\n    copyLoading,\n    onClick\n  };\n};\nexport default useCopyClick;","map":{"version":3,"names":["React","useEvent","copy","toList","useCopyClick","_ref","copyConfig","children","copied","setCopied","useState","copyLoading","setCopyLoading","copyIdRef","useRef","cleanCopyId","current","clearTimeout","copyOptions","format","useEffect","onClick","e","preventDefault","stopPropagation","_copyConfig$onCopy","text","join","setTimeout","onCopy","call","error"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/antd/es/typography/hooks/useCopyClick.js"],"sourcesContent":["import * as React from 'react';\nimport { useEvent } from '@rc-component/util';\nimport copy from '../../_util/copy';\nimport toList from '../../_util/toList';\nconst useCopyClick = ({\n  copyConfig,\n  children\n}) => {\n  const [copied, setCopied] = React.useState(false);\n  const [copyLoading, setCopyLoading] = React.useState(false);\n  const copyIdRef = React.useRef(null);\n  const cleanCopyId = () => {\n    if (copyIdRef.current) {\n      clearTimeout(copyIdRef.current);\n    }\n  };\n  const copyOptions = {};\n  if (copyConfig.format) {\n    copyOptions.format = copyConfig.format;\n  }\n  React.useEffect(() => cleanCopyId, []);\n  // Keep copy action up to date\n  const onClick = useEvent(async e => {\n    e?.preventDefault();\n    e?.stopPropagation();\n    setCopyLoading(true);\n    try {\n      const text = typeof copyConfig.text === 'function' ? await copyConfig.text() : copyConfig.text;\n      await copy(text || toList(children, true).join('') || '', copyOptions);\n      setCopyLoading(false);\n      setCopied(true);\n      // Trigger tips update\n      cleanCopyId();\n      copyIdRef.current = setTimeout(() => {\n        setCopied(false);\n      }, 3000);\n      copyConfig.onCopy?.(e);\n    } catch (error) {\n      setCopyLoading(false);\n      throw error;\n    }\n  });\n  return {\n    copied,\n    copyLoading,\n    onClick\n  };\n};\nexport default useCopyClick;"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,QAAQ,oBAAoB;AAC7C,OAAOC,IAAI,MAAM,kBAAkB;AACnC,OAAOC,MAAM,MAAM,oBAAoB;AACvC,MAAMC,YAAY,GAAGC,IAAA,IAGf;EAAA,IAHgB;IACpBC,UAAU;IACVC;EACF,CAAC,GAAAF,IAAA;EACC,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGT,KAAK,CAACU,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,KAAK,CAACU,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAMG,SAAS,GAAGb,KAAK,CAACc,MAAM,CAAC,IAAI,CAAC;EACpC,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIF,SAAS,CAACG,OAAO,EAAE;MACrBC,YAAY,CAACJ,SAAS,CAACG,OAAO,CAAC;IACjC;EACF,CAAC;EACD,MAAME,WAAW,GAAG,CAAC,CAAC;EACtB,IAAIZ,UAAU,CAACa,MAAM,EAAE;IACrBD,WAAW,CAACC,MAAM,GAAGb,UAAU,CAACa,MAAM;EACxC;EACAnB,KAAK,CAACoB,SAAS,CAAC,MAAML,WAAW,EAAE,EAAE,CAAC;EACtC;EACA,MAAMM,OAAO,GAAGpB,QAAQ,CAAC,MAAMqB,CAAC,IAAI;IAClCA,CAAC,aAADA,CAAC,eAADA,CAAC,CAAEC,cAAc,CAAC,CAAC;IACnBD,CAAC,aAADA,CAAC,eAADA,CAAC,CAAEE,eAAe,CAAC,CAAC;IACpBZ,cAAc,CAAC,IAAI,CAAC;IACpB,IAAI;MAAA,IAAAa,kBAAA;MACF,MAAMC,IAAI,GAAG,OAAOpB,UAAU,CAACoB,IAAI,KAAK,UAAU,GAAG,MAAMpB,UAAU,CAACoB,IAAI,CAAC,CAAC,GAAGpB,UAAU,CAACoB,IAAI;MAC9F,MAAMxB,IAAI,CAACwB,IAAI,IAAIvB,MAAM,CAACI,QAAQ,EAAE,IAAI,CAAC,CAACoB,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,EAAET,WAAW,CAAC;MACtEN,cAAc,CAAC,KAAK,CAAC;MACrBH,SAAS,CAAC,IAAI,CAAC;MACf;MACAM,WAAW,CAAC,CAAC;MACbF,SAAS,CAACG,OAAO,GAAGY,UAAU,CAAC,MAAM;QACnCnB,SAAS,CAAC,KAAK,CAAC;MAClB,CAAC,EAAE,IAAI,CAAC;MACR,CAAAgB,kBAAA,GAAAnB,UAAU,CAACuB,MAAM,cAAAJ,kBAAA,eAAjBA,kBAAA,CAAAK,IAAA,CAAAxB,UAAU,EAAUgB,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdnB,cAAc,CAAC,KAAK,CAAC;MACrB,MAAMmB,KAAK;IACb;EACF,CAAC,CAAC;EACF,OAAO;IACLvB,MAAM;IACNG,WAAW;IACXU;EACF,CAAC;AACH,CAAC;AACD,eAAejB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}