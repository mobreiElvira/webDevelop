{"ast":null,"code":"import { clsx } from 'clsx';\nimport { useEvent, useControlledState } from '@rc-component/util';\nimport * as React from 'react';\nimport CascaderContext from \"./context\";\nimport useMissingValues from \"./hooks/useMissingValues\";\nimport useOptions from \"./hooks/useOptions\";\nimport useSelect from \"./hooks/useSelect\";\nimport useValues from \"./hooks/useValues\";\nimport RawOptionList from \"./OptionList/List\";\nimport { fillFieldNames, toRawValues } from \"./utils/commonUtil\";\nimport { toPathOptions } from \"./utils/treeUtil\";\nfunction noop() {}\nexport default function Panel(props) {\n  const {\n    prefixCls = 'rc-cascader',\n    style,\n    className,\n    options,\n    checkable,\n    defaultValue,\n    value,\n    fieldNames,\n    changeOnSelect,\n    onChange,\n    showCheckedStrategy,\n    loadData,\n    expandTrigger,\n    expandIcon = '>',\n    loadingIcon,\n    direction,\n    notFoundContent = 'Not Found',\n    disabled,\n    optionRender\n  } = props;\n\n  // ======================== Multiple ========================\n  const multiple = !!checkable;\n\n  // ========================= Values =========================\n  const [interanlRawValues, setRawValues] = useControlledState(defaultValue, value);\n  const rawValues = toRawValues(interanlRawValues);\n\n  // ========================= FieldNames =========================\n  const mergedFieldNames = React.useMemo(() => fillFieldNames(fieldNames), /* eslint-disable react-hooks/exhaustive-deps */\n  [JSON.stringify(fieldNames)]\n  /* eslint-enable react-hooks/exhaustive-deps */);\n\n  // =========================== Option ===========================\n  const [mergedOptions, getPathKeyEntities, getValueByKeyPath] = useOptions(mergedFieldNames, options);\n\n  // ========================= Values =========================\n  const getMissingValues = useMissingValues(mergedOptions, mergedFieldNames);\n\n  // Fill `rawValues` with checked conduction values\n  const [checkedValues, halfCheckedValues, missingCheckedValues] = useValues(multiple, rawValues, getPathKeyEntities, getValueByKeyPath, getMissingValues);\n\n  // =========================== Change ===========================\n  const triggerChange = useEvent(nextValues => {\n    setRawValues(nextValues);\n\n    // Save perf if no need trigger event\n    if (onChange) {\n      const nextRawValues = toRawValues(nextValues);\n      const valueOptions = nextRawValues.map(valueCells => toPathOptions(valueCells, mergedOptions, mergedFieldNames).map(valueOpt => valueOpt.option));\n      const triggerValues = multiple ? nextRawValues : nextRawValues[0];\n      const triggerOptions = multiple ? valueOptions : valueOptions[0];\n      onChange(triggerValues, triggerOptions);\n    }\n  });\n\n  // =========================== Select ===========================\n  const handleSelection = useSelect(multiple, triggerChange, checkedValues, halfCheckedValues, missingCheckedValues, getPathKeyEntities, getValueByKeyPath, showCheckedStrategy);\n  const onInternalSelect = useEvent(valuePath => {\n    handleSelection(valuePath);\n  });\n\n  // ======================== Context =========================\n  const cascaderContext = React.useMemo(() => ({\n    options: mergedOptions,\n    fieldNames: mergedFieldNames,\n    values: checkedValues,\n    halfValues: halfCheckedValues,\n    changeOnSelect,\n    onSelect: onInternalSelect,\n    checkable,\n    searchOptions: [],\n    popupPrefixCls: undefined,\n    loadData,\n    expandTrigger,\n    expandIcon,\n    loadingIcon,\n    popupMenuColumnStyle: undefined,\n    optionRender\n  }), [mergedOptions, mergedFieldNames, checkedValues, halfCheckedValues, changeOnSelect, onInternalSelect, checkable, loadData, expandTrigger, expandIcon, loadingIcon, optionRender]);\n\n  // ========================= Render =========================\n  const panelPrefixCls = \"\".concat(prefixCls, \"-panel\");\n  const isEmpty = !mergedOptions.length;\n  return /*#__PURE__*/React.createElement(CascaderContext.Provider, {\n    value: cascaderContext\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(panelPrefixCls, {\n      [\"\".concat(panelPrefixCls, \"-rtl\")]: direction === 'rtl',\n      [\"\".concat(panelPrefixCls, \"-empty\")]: isEmpty\n    }, className),\n    style: style\n  }, isEmpty ? notFoundContent : /*#__PURE__*/React.createElement(RawOptionList, {\n    prefixCls: prefixCls,\n    searchValue: \"\",\n    multiple: multiple,\n    toggleOpen: noop,\n    open: true,\n    direction: direction,\n    disabled: disabled\n  })));\n}","map":{"version":3,"names":["clsx","useEvent","useControlledState","React","CascaderContext","useMissingValues","useOptions","useSelect","useValues","RawOptionList","fillFieldNames","toRawValues","toPathOptions","noop","Panel","props","prefixCls","style","className","options","checkable","defaultValue","value","fieldNames","changeOnSelect","onChange","showCheckedStrategy","loadData","expandTrigger","expandIcon","loadingIcon","direction","notFoundContent","disabled","optionRender","multiple","interanlRawValues","setRawValues","rawValues","mergedFieldNames","useMemo","JSON","stringify","mergedOptions","getPathKeyEntities","getValueByKeyPath","getMissingValues","checkedValues","halfCheckedValues","missingCheckedValues","triggerChange","nextValues","nextRawValues","valueOptions","map","valueCells","valueOpt","option","triggerValues","triggerOptions","handleSelection","onInternalSelect","valuePath","cascaderContext","values","halfValues","onSelect","searchOptions","popupPrefixCls","undefined","popupMenuColumnStyle","panelPrefixCls","concat","isEmpty","length","createElement","Provider","searchValue","toggleOpen","open"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/cascader/es/Panel.js"],"sourcesContent":["import { clsx } from 'clsx';\nimport { useEvent, useControlledState } from '@rc-component/util';\nimport * as React from 'react';\nimport CascaderContext from \"./context\";\nimport useMissingValues from \"./hooks/useMissingValues\";\nimport useOptions from \"./hooks/useOptions\";\nimport useSelect from \"./hooks/useSelect\";\nimport useValues from \"./hooks/useValues\";\nimport RawOptionList from \"./OptionList/List\";\nimport { fillFieldNames, toRawValues } from \"./utils/commonUtil\";\nimport { toPathOptions } from \"./utils/treeUtil\";\nfunction noop() {}\nexport default function Panel(props) {\n  const {\n    prefixCls = 'rc-cascader',\n    style,\n    className,\n    options,\n    checkable,\n    defaultValue,\n    value,\n    fieldNames,\n    changeOnSelect,\n    onChange,\n    showCheckedStrategy,\n    loadData,\n    expandTrigger,\n    expandIcon = '>',\n    loadingIcon,\n    direction,\n    notFoundContent = 'Not Found',\n    disabled,\n    optionRender\n  } = props;\n\n  // ======================== Multiple ========================\n  const multiple = !!checkable;\n\n  // ========================= Values =========================\n  const [interanlRawValues, setRawValues] = useControlledState(defaultValue, value);\n  const rawValues = toRawValues(interanlRawValues);\n\n  // ========================= FieldNames =========================\n  const mergedFieldNames = React.useMemo(() => fillFieldNames(fieldNames), /* eslint-disable react-hooks/exhaustive-deps */\n  [JSON.stringify(fieldNames)]\n  /* eslint-enable react-hooks/exhaustive-deps */);\n\n  // =========================== Option ===========================\n  const [mergedOptions, getPathKeyEntities, getValueByKeyPath] = useOptions(mergedFieldNames, options);\n\n  // ========================= Values =========================\n  const getMissingValues = useMissingValues(mergedOptions, mergedFieldNames);\n\n  // Fill `rawValues` with checked conduction values\n  const [checkedValues, halfCheckedValues, missingCheckedValues] = useValues(multiple, rawValues, getPathKeyEntities, getValueByKeyPath, getMissingValues);\n\n  // =========================== Change ===========================\n  const triggerChange = useEvent(nextValues => {\n    setRawValues(nextValues);\n\n    // Save perf if no need trigger event\n    if (onChange) {\n      const nextRawValues = toRawValues(nextValues);\n      const valueOptions = nextRawValues.map(valueCells => toPathOptions(valueCells, mergedOptions, mergedFieldNames).map(valueOpt => valueOpt.option));\n      const triggerValues = multiple ? nextRawValues : nextRawValues[0];\n      const triggerOptions = multiple ? valueOptions : valueOptions[0];\n      onChange(triggerValues, triggerOptions);\n    }\n  });\n\n  // =========================== Select ===========================\n  const handleSelection = useSelect(multiple, triggerChange, checkedValues, halfCheckedValues, missingCheckedValues, getPathKeyEntities, getValueByKeyPath, showCheckedStrategy);\n  const onInternalSelect = useEvent(valuePath => {\n    handleSelection(valuePath);\n  });\n\n  // ======================== Context =========================\n  const cascaderContext = React.useMemo(() => ({\n    options: mergedOptions,\n    fieldNames: mergedFieldNames,\n    values: checkedValues,\n    halfValues: halfCheckedValues,\n    changeOnSelect,\n    onSelect: onInternalSelect,\n    checkable,\n    searchOptions: [],\n    popupPrefixCls: undefined,\n    loadData,\n    expandTrigger,\n    expandIcon,\n    loadingIcon,\n    popupMenuColumnStyle: undefined,\n    optionRender\n  }), [mergedOptions, mergedFieldNames, checkedValues, halfCheckedValues, changeOnSelect, onInternalSelect, checkable, loadData, expandTrigger, expandIcon, loadingIcon, optionRender]);\n\n  // ========================= Render =========================\n  const panelPrefixCls = `${prefixCls}-panel`;\n  const isEmpty = !mergedOptions.length;\n  return /*#__PURE__*/React.createElement(CascaderContext.Provider, {\n    value: cascaderContext\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(panelPrefixCls, {\n      [`${panelPrefixCls}-rtl`]: direction === 'rtl',\n      [`${panelPrefixCls}-empty`]: isEmpty\n    }, className),\n    style: style\n  }, isEmpty ? notFoundContent : /*#__PURE__*/React.createElement(RawOptionList, {\n    prefixCls: prefixCls,\n    searchValue: \"\",\n    multiple: multiple,\n    toggleOpen: noop,\n    open: true,\n    direction: direction,\n    disabled: disabled\n  })));\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}