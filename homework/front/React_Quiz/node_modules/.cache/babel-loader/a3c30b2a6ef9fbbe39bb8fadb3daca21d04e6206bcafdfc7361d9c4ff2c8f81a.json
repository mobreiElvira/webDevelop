{"ast":null,"code":"import * as React from 'react';\nimport useEvent from \"./useEvent\";\n/**\n * Same as React.useState but will always get latest state.\n * This is useful when React merge multiple state updates into one.\n * e.g. onTransitionEnd trigger multiple event at once will be merged state update in React.\n */\nexport default function useSyncState(defaultValue) {\n  const [, forceUpdate] = React.useReducer(x => x + 1, 0);\n  const currentValueRef = React.useRef(defaultValue);\n  const getValue = useEvent(() => {\n    return currentValueRef.current;\n  });\n  const setValue = useEvent(updater => {\n    currentValueRef.current = typeof updater === 'function' ? updater(currentValueRef.current) : updater;\n    forceUpdate();\n  });\n  return [getValue, setValue];\n}","map":{"version":3,"names":["React","useEvent","useSyncState","defaultValue","forceUpdate","useReducer","x","currentValueRef","useRef","getValue","current","setValue","updater"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/util/es/hooks/useSyncState.js"],"sourcesContent":["import * as React from 'react';\nimport useEvent from \"./useEvent\";\n/**\n * Same as React.useState but will always get latest state.\n * This is useful when React merge multiple state updates into one.\n * e.g. onTransitionEnd trigger multiple event at once will be merged state update in React.\n */\nexport default function useSyncState(defaultValue) {\n  const [, forceUpdate] = React.useReducer(x => x + 1, 0);\n  const currentValueRef = React.useRef(defaultValue);\n  const getValue = useEvent(() => {\n    return currentValueRef.current;\n  });\n  const setValue = useEvent(updater => {\n    currentValueRef.current = typeof updater === 'function' ? updater(currentValueRef.current) : updater;\n    forceUpdate();\n  });\n  return [getValue, setValue];\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,QAAQ,MAAM,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,YAAYA,CAACC,YAAY,EAAE;EACjD,MAAM,GAAGC,WAAW,CAAC,GAAGJ,KAAK,CAACK,UAAU,CAACC,CAAC,IAAIA,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;EACvD,MAAMC,eAAe,GAAGP,KAAK,CAACQ,MAAM,CAACL,YAAY,CAAC;EAClD,MAAMM,QAAQ,GAAGR,QAAQ,CAAC,MAAM;IAC9B,OAAOM,eAAe,CAACG,OAAO;EAChC,CAAC,CAAC;EACF,MAAMC,QAAQ,GAAGV,QAAQ,CAACW,OAAO,IAAI;IACnCL,eAAe,CAACG,OAAO,GAAG,OAAOE,OAAO,KAAK,UAAU,GAAGA,OAAO,CAACL,eAAe,CAACG,OAAO,CAAC,GAAGE,OAAO;IACpGR,WAAW,CAAC,CAAC;EACf,CAAC,CAAC;EACF,OAAO,CAACK,QAAQ,EAAEE,QAAQ,CAAC;AAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}