{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as React from 'react';\nexport const SEARCH_MARK = '__rc_cascader_search_mark__';\nconst defaultFilter = (search, options, _ref) => {\n  let {\n    label = ''\n  } = _ref;\n  return options.some(opt => String(opt[label]).toLowerCase().includes(search.toLowerCase()));\n};\nconst defaultRender = (inputValue, path, prefixCls, fieldNames) => path.map(opt => opt[fieldNames.label]).join(' / ');\nconst useSearchOptions = (search, options, fieldNames, prefixCls, config, enableHalfPath) => {\n  const {\n    filter = defaultFilter,\n    render = defaultRender,\n    limit = 50,\n    sort\n  } = config;\n  return React.useMemo(() => {\n    const filteredOptions = [];\n    if (!search) {\n      return [];\n    }\n    function dig(list, pathOptions) {\n      let parentDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      list.forEach(option => {\n        // Perf saving when `sort` is disabled and `limit` is provided\n        if (!sort && limit !== false && limit > 0 && filteredOptions.length >= limit) {\n          return;\n        }\n        const connectedPathOptions = [...pathOptions, option];\n        const children = option[fieldNames.children];\n        const mergedDisabled = parentDisabled || option.disabled;\n\n        // If current option is filterable\n        if (\n        // If is leaf option\n        !children || children.length === 0 ||\n        // If is changeOnSelect or multiple\n        enableHalfPath) {\n          if (filter(search, connectedPathOptions, {\n            label: fieldNames.label\n          })) {\n            filteredOptions.push(_objectSpread(_objectSpread({}, option), {}, {\n              disabled: mergedDisabled,\n              [fieldNames.label]: render(search, connectedPathOptions, prefixCls, fieldNames),\n              [SEARCH_MARK]: connectedPathOptions,\n              [fieldNames.children]: undefined\n            }));\n          }\n        }\n        if (children) {\n          dig(option[fieldNames.children], connectedPathOptions, mergedDisabled);\n        }\n      });\n    }\n    dig(options, []);\n\n    // Do sort\n    if (sort) {\n      filteredOptions.sort((a, b) => {\n        return sort(a[SEARCH_MARK], b[SEARCH_MARK], search, fieldNames);\n      });\n    }\n    return limit !== false && limit > 0 ? filteredOptions.slice(0, limit) : filteredOptions;\n  }, [search, options, fieldNames, prefixCls, render, enableHalfPath, filter, sort, limit]);\n};\nexport default useSearchOptions;","map":{"version":3,"names":["React","SEARCH_MARK","defaultFilter","search","options","_ref","label","some","opt","String","toLowerCase","includes","defaultRender","inputValue","path","prefixCls","fieldNames","map","join","useSearchOptions","config","enableHalfPath","filter","render","limit","sort","useMemo","filteredOptions","dig","list","pathOptions","parentDisabled","arguments","length","undefined","forEach","option","connectedPathOptions","children","mergedDisabled","disabled","push","_objectSpread","a","b","slice"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/cascader/es/hooks/useSearchOptions.js"],"sourcesContent":["import * as React from 'react';\nexport const SEARCH_MARK = '__rc_cascader_search_mark__';\nconst defaultFilter = (search, options, {\n  label = ''\n}) => options.some(opt => String(opt[label]).toLowerCase().includes(search.toLowerCase()));\nconst defaultRender = (inputValue, path, prefixCls, fieldNames) => path.map(opt => opt[fieldNames.label]).join(' / ');\nconst useSearchOptions = (search, options, fieldNames, prefixCls, config, enableHalfPath) => {\n  const {\n    filter = defaultFilter,\n    render = defaultRender,\n    limit = 50,\n    sort\n  } = config;\n  return React.useMemo(() => {\n    const filteredOptions = [];\n    if (!search) {\n      return [];\n    }\n    function dig(list, pathOptions, parentDisabled = false) {\n      list.forEach(option => {\n        // Perf saving when `sort` is disabled and `limit` is provided\n        if (!sort && limit !== false && limit > 0 && filteredOptions.length >= limit) {\n          return;\n        }\n        const connectedPathOptions = [...pathOptions, option];\n        const children = option[fieldNames.children];\n        const mergedDisabled = parentDisabled || option.disabled;\n\n        // If current option is filterable\n        if (\n        // If is leaf option\n        !children || children.length === 0 ||\n        // If is changeOnSelect or multiple\n        enableHalfPath) {\n          if (filter(search, connectedPathOptions, {\n            label: fieldNames.label\n          })) {\n            filteredOptions.push({\n              ...option,\n              disabled: mergedDisabled,\n              [fieldNames.label]: render(search, connectedPathOptions, prefixCls, fieldNames),\n              [SEARCH_MARK]: connectedPathOptions,\n              [fieldNames.children]: undefined\n            });\n          }\n        }\n        if (children) {\n          dig(option[fieldNames.children], connectedPathOptions, mergedDisabled);\n        }\n      });\n    }\n    dig(options, []);\n\n    // Do sort\n    if (sort) {\n      filteredOptions.sort((a, b) => {\n        return sort(a[SEARCH_MARK], b[SEARCH_MARK], search, fieldNames);\n      });\n    }\n    return limit !== false && limit > 0 ? filteredOptions.slice(0, limit) : filteredOptions;\n  }, [search, options, fieldNames, prefixCls, render, enableHalfPath, filter, sort, limit]);\n};\nexport default useSearchOptions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}