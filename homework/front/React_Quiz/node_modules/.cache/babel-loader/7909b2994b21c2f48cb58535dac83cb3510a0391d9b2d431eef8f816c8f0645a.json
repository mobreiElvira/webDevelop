{"ast":null,"code":"import * as React from 'react';\nimport { updateCSS, removeCSS } from \"@rc-component/util/es/Dom/dynamicCSS\";\nimport useLayoutEffect from \"@rc-component/util/es/hooks/useLayoutEffect\";\nimport { getTargetScrollBarSize } from \"@rc-component/util/es/getScrollBarSize\";\nimport { isBodyOverflowing } from \"./util\";\nconst UNIQUE_ID = \"rc-util-locker-\".concat(Date.now());\nlet uuid = 0;\nexport default function useScrollLocker(lock) {\n  const mergedLock = !!lock;\n  const [id] = React.useState(() => {\n    uuid += 1;\n    return \"\".concat(UNIQUE_ID, \"_\").concat(uuid);\n  });\n  useLayoutEffect(() => {\n    if (mergedLock) {\n      const scrollbarSize = getTargetScrollBarSize(document.body).width;\n      const isOverflow = isBodyOverflowing();\n      updateCSS(\"\\nhtml body {\\n  overflow-y: hidden;\\n  \".concat(isOverflow ? \"width: calc(100% - \".concat(scrollbarSize, \"px);\") : '', \"\\n}\"), id);\n    } else {\n      removeCSS(id);\n    }\n    return () => {\n      removeCSS(id);\n    };\n  }, [mergedLock, id]);\n}","map":{"version":3,"names":["React","updateCSS","removeCSS","useLayoutEffect","getTargetScrollBarSize","isBodyOverflowing","UNIQUE_ID","concat","Date","now","uuid","useScrollLocker","lock","mergedLock","id","useState","scrollbarSize","document","body","width","isOverflow"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/portal/es/useScrollLocker.js"],"sourcesContent":["import * as React from 'react';\nimport { updateCSS, removeCSS } from \"@rc-component/util/es/Dom/dynamicCSS\";\nimport useLayoutEffect from \"@rc-component/util/es/hooks/useLayoutEffect\";\nimport { getTargetScrollBarSize } from \"@rc-component/util/es/getScrollBarSize\";\nimport { isBodyOverflowing } from \"./util\";\nconst UNIQUE_ID = `rc-util-locker-${Date.now()}`;\nlet uuid = 0;\nexport default function useScrollLocker(lock) {\n  const mergedLock = !!lock;\n  const [id] = React.useState(() => {\n    uuid += 1;\n    return `${UNIQUE_ID}_${uuid}`;\n  });\n  useLayoutEffect(() => {\n    if (mergedLock) {\n      const scrollbarSize = getTargetScrollBarSize(document.body).width;\n      const isOverflow = isBodyOverflowing();\n      updateCSS(`\nhtml body {\n  overflow-y: hidden;\n  ${isOverflow ? `width: calc(100% - ${scrollbarSize}px);` : ''}\n}`, id);\n    } else {\n      removeCSS(id);\n    }\n    return () => {\n      removeCSS(id);\n    };\n  }, [mergedLock, id]);\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,EAAEC,SAAS,QAAQ,sCAAsC;AAC3E,OAAOC,eAAe,MAAM,6CAA6C;AACzE,SAASC,sBAAsB,QAAQ,wCAAwC;AAC/E,SAASC,iBAAiB,QAAQ,QAAQ;AAC1C,MAAMC,SAAS,qBAAAC,MAAA,CAAqBC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE;AAChD,IAAIC,IAAI,GAAG,CAAC;AACZ,eAAe,SAASC,eAAeA,CAACC,IAAI,EAAE;EAC5C,MAAMC,UAAU,GAAG,CAAC,CAACD,IAAI;EACzB,MAAM,CAACE,EAAE,CAAC,GAAGd,KAAK,CAACe,QAAQ,CAAC,MAAM;IAChCL,IAAI,IAAI,CAAC;IACT,UAAAH,MAAA,CAAUD,SAAS,OAAAC,MAAA,CAAIG,IAAI;EAC7B,CAAC,CAAC;EACFP,eAAe,CAAC,MAAM;IACpB,IAAIU,UAAU,EAAE;MACd,MAAMG,aAAa,GAAGZ,sBAAsB,CAACa,QAAQ,CAACC,IAAI,CAAC,CAACC,KAAK;MACjE,MAAMC,UAAU,GAAGf,iBAAiB,CAAC,CAAC;MACtCJ,SAAS,4CAAAM,MAAA,CAGXa,UAAU,yBAAAb,MAAA,CAAyBS,aAAa,YAAS,EAAE,UAC3DF,EAAE,CAAC;IACH,CAAC,MAAM;MACLZ,SAAS,CAACY,EAAE,CAAC;IACf;IACA,OAAO,MAAM;MACXZ,SAAS,CAACY,EAAE,CAAC;IACf,CAAC;EACH,CAAC,EAAE,CAACD,UAAU,EAAEC,EAAE,CAAC,CAAC;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}