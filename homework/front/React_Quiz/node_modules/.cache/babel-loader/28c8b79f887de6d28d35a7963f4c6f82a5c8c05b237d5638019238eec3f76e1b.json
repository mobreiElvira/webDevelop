{"ast":null,"code":"function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport { clsx } from 'clsx';\nimport KeyCode from \"@rc-component/util/es/KeyCode\";\nimport * as React from 'react';\nimport pickAttrs from \"@rc-component/util/es/pickAttrs\";\nconst Notify = /*#__PURE__*/React.forwardRef((props, ref) => {\n  var _closableObj$closeIco;\n  const {\n    prefixCls,\n    style,\n    className,\n    duration = 4.5,\n    showProgress,\n    pauseOnHover = true,\n    eventKey,\n    content,\n    closable,\n    props: divProps,\n    onClick,\n    onNoticeClose,\n    times,\n    hovering: forcedHovering\n  } = props;\n  const [hovering, setHovering] = React.useState(false);\n  const [percent, setPercent] = React.useState(0);\n  const [spentTime, setSpentTime] = React.useState(0);\n  const mergedHovering = forcedHovering || hovering;\n  const mergedDuration = typeof duration === 'number' ? duration : 0;\n  const mergedShowProgress = mergedDuration > 0 && showProgress;\n\n  // ======================== Close =========================\n  const onInternalClose = () => {\n    onNoticeClose(eventKey);\n  };\n  const onCloseKeyDown = e => {\n    if (e.key === 'Enter' || e.code === 'Enter' || e.keyCode === KeyCode.ENTER) {\n      onInternalClose();\n    }\n  };\n\n  // ======================== Effect ========================\n  React.useEffect(() => {\n    if (!mergedHovering && mergedDuration > 0) {\n      const start = Date.now() - spentTime;\n      const timeout = setTimeout(() => {\n        onInternalClose();\n      }, mergedDuration * 1000 - spentTime);\n      return () => {\n        if (pauseOnHover) {\n          clearTimeout(timeout);\n        }\n        setSpentTime(Date.now() - start);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mergedDuration, mergedHovering, times]);\n  React.useEffect(() => {\n    if (!mergedHovering && mergedShowProgress && (pauseOnHover || spentTime === 0)) {\n      const start = performance.now();\n      let animationFrame;\n      const calculate = () => {\n        cancelAnimationFrame(animationFrame);\n        animationFrame = requestAnimationFrame(timestamp => {\n          const runtime = timestamp + spentTime - start;\n          const progress = Math.min(runtime / (mergedDuration * 1000), 1);\n          setPercent(progress * 100);\n          if (progress < 1) {\n            calculate();\n          }\n        });\n      };\n      calculate();\n      return () => {\n        if (pauseOnHover) {\n          cancelAnimationFrame(animationFrame);\n        }\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mergedDuration, spentTime, mergedHovering, mergedShowProgress, times]);\n\n  // ======================== Closable ========================\n  const closableObj = React.useMemo(() => {\n    if (typeof closable === 'object' && closable !== null) {\n      return closable;\n    }\n    return {};\n  }, [closable]);\n  const ariaProps = pickAttrs(closableObj, true);\n\n  // ======================== Progress ========================\n  const validPercent = 100 - (!percent || percent < 0 ? 0 : percent > 100 ? 100 : percent);\n\n  // ======================== Render ========================\n  const noticePrefixCls = \"\".concat(prefixCls, \"-notice\");\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n    ref: ref,\n    className: clsx(noticePrefixCls, className, {\n      [\"\".concat(noticePrefixCls, \"-closable\")]: closable\n    }),\n    style: style,\n    onMouseEnter: e => {\n      var _divProps$onMouseEnte;\n      setHovering(true);\n      divProps === null || divProps === void 0 || (_divProps$onMouseEnte = divProps.onMouseEnter) === null || _divProps$onMouseEnte === void 0 || _divProps$onMouseEnte.call(divProps, e);\n    },\n    onMouseLeave: e => {\n      var _divProps$onMouseLeav;\n      setHovering(false);\n      divProps === null || divProps === void 0 || (_divProps$onMouseLeav = divProps.onMouseLeave) === null || _divProps$onMouseLeav === void 0 || _divProps$onMouseLeav.call(divProps, e);\n    },\n    onClick: onClick\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(noticePrefixCls, \"-content\")\n  }, content), closable && /*#__PURE__*/React.createElement(\"button\", _extends({\n    className: \"\".concat(noticePrefixCls, \"-close\"),\n    onKeyDown: onCloseKeyDown,\n    \"aria-label\": \"Close\"\n  }, ariaProps, {\n    onClick: e => {\n      e.preventDefault();\n      e.stopPropagation();\n      onInternalClose();\n    }\n  }), (_closableObj$closeIco = closableObj.closeIcon) !== null && _closableObj$closeIco !== void 0 ? _closableObj$closeIco : 'x'), mergedShowProgress && /*#__PURE__*/React.createElement(\"progress\", {\n    className: \"\".concat(noticePrefixCls, \"-progress\"),\n    max: \"100\",\n    value: validPercent\n  }, validPercent + '%'));\n});\nexport default Notify;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","clsx","KeyCode","React","pickAttrs","Notify","forwardRef","props","ref","_closableObj$closeIco","prefixCls","style","className","duration","showProgress","pauseOnHover","eventKey","content","closable","divProps","onClick","onNoticeClose","times","hovering","forcedHovering","setHovering","useState","percent","setPercent","spentTime","setSpentTime","mergedHovering","mergedDuration","mergedShowProgress","onInternalClose","onCloseKeyDown","e","code","keyCode","ENTER","useEffect","start","Date","now","timeout","setTimeout","clearTimeout","performance","animationFrame","calculate","cancelAnimationFrame","requestAnimationFrame","timestamp","runtime","progress","Math","min","closableObj","useMemo","ariaProps","validPercent","noticePrefixCls","concat","createElement","onMouseEnter","_divProps$onMouseEnte","onMouseLeave","_divProps$onMouseLeav","onKeyDown","preventDefault","stopPropagation","closeIcon","max","value"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/notification/es/Notice.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { clsx } from 'clsx';\nimport KeyCode from \"@rc-component/util/es/KeyCode\";\nimport * as React from 'react';\nimport pickAttrs from \"@rc-component/util/es/pickAttrs\";\nconst Notify = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    prefixCls,\n    style,\n    className,\n    duration = 4.5,\n    showProgress,\n    pauseOnHover = true,\n    eventKey,\n    content,\n    closable,\n    props: divProps,\n    onClick,\n    onNoticeClose,\n    times,\n    hovering: forcedHovering\n  } = props;\n  const [hovering, setHovering] = React.useState(false);\n  const [percent, setPercent] = React.useState(0);\n  const [spentTime, setSpentTime] = React.useState(0);\n  const mergedHovering = forcedHovering || hovering;\n  const mergedDuration = typeof duration === 'number' ? duration : 0;\n  const mergedShowProgress = mergedDuration > 0 && showProgress;\n\n  // ======================== Close =========================\n  const onInternalClose = () => {\n    onNoticeClose(eventKey);\n  };\n  const onCloseKeyDown = e => {\n    if (e.key === 'Enter' || e.code === 'Enter' || e.keyCode === KeyCode.ENTER) {\n      onInternalClose();\n    }\n  };\n\n  // ======================== Effect ========================\n  React.useEffect(() => {\n    if (!mergedHovering && mergedDuration > 0) {\n      const start = Date.now() - spentTime;\n      const timeout = setTimeout(() => {\n        onInternalClose();\n      }, mergedDuration * 1000 - spentTime);\n      return () => {\n        if (pauseOnHover) {\n          clearTimeout(timeout);\n        }\n        setSpentTime(Date.now() - start);\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mergedDuration, mergedHovering, times]);\n  React.useEffect(() => {\n    if (!mergedHovering && mergedShowProgress && (pauseOnHover || spentTime === 0)) {\n      const start = performance.now();\n      let animationFrame;\n      const calculate = () => {\n        cancelAnimationFrame(animationFrame);\n        animationFrame = requestAnimationFrame(timestamp => {\n          const runtime = timestamp + spentTime - start;\n          const progress = Math.min(runtime / (mergedDuration * 1000), 1);\n          setPercent(progress * 100);\n          if (progress < 1) {\n            calculate();\n          }\n        });\n      };\n      calculate();\n      return () => {\n        if (pauseOnHover) {\n          cancelAnimationFrame(animationFrame);\n        }\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [mergedDuration, spentTime, mergedHovering, mergedShowProgress, times]);\n\n  // ======================== Closable ========================\n  const closableObj = React.useMemo(() => {\n    if (typeof closable === 'object' && closable !== null) {\n      return closable;\n    }\n    return {};\n  }, [closable]);\n  const ariaProps = pickAttrs(closableObj, true);\n\n  // ======================== Progress ========================\n  const validPercent = 100 - (!percent || percent < 0 ? 0 : percent > 100 ? 100 : percent);\n\n  // ======================== Render ========================\n  const noticePrefixCls = `${prefixCls}-notice`;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n    ref: ref,\n    className: clsx(noticePrefixCls, className, {\n      [`${noticePrefixCls}-closable`]: closable\n    }),\n    style: style,\n    onMouseEnter: e => {\n      setHovering(true);\n      divProps?.onMouseEnter?.(e);\n    },\n    onMouseLeave: e => {\n      setHovering(false);\n      divProps?.onMouseLeave?.(e);\n    },\n    onClick: onClick\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${noticePrefixCls}-content`\n  }, content), closable && /*#__PURE__*/React.createElement(\"button\", _extends({\n    className: `${noticePrefixCls}-close`,\n    onKeyDown: onCloseKeyDown,\n    \"aria-label\": \"Close\"\n  }, ariaProps, {\n    onClick: e => {\n      e.preventDefault();\n      e.stopPropagation();\n      onInternalClose();\n    }\n  }), closableObj.closeIcon ?? 'x'), mergedShowProgress && /*#__PURE__*/React.createElement(\"progress\", {\n    className: `${noticePrefixCls}-progress`,\n    max: \"100\",\n    value: validPercent\n  }, validPercent + '%'));\n});\nexport default Notify;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}