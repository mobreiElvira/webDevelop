{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"open\", \"onOpenChange\", \"cover\", \"actionsRender\", \"visible\", \"onVisibleChange\", \"rootClassName\", \"maskClassName\", \"mask\", \"forceRender\", \"destroyOnClose\", \"toolbarRender\"];\nimport { isValidElement, useMemo } from 'react';\nimport { devUseWarning } from '../../_util/warning';\nfunction normalizeMask(mask) {\n  if (/*#__PURE__*/isValidElement(mask)) {\n    return [mask, undefined];\n  }\n  if (typeof mask === 'boolean' || mask && typeof mask === 'object') {\n    return [undefined, mask];\n  }\n  return [undefined, undefined];\n}\nexport default function usePreviewConfig(preview) {\n  // Get origin preview config\n  const rawPreviewConfig = useMemo(() => {\n    if (typeof preview === 'boolean') {\n      return preview ? {} : null;\n    }\n    return preview && typeof preview === 'object' ? preview : {};\n  }, [preview]);\n  const splittedPreviewConfig = useMemo(() => {\n    if (!rawPreviewConfig) {\n      return [rawPreviewConfig, '', ''];\n    }\n    const {\n        open,\n        onOpenChange,\n        cover,\n        actionsRender,\n        visible,\n        onVisibleChange,\n        rootClassName,\n        maskClassName,\n        mask,\n        forceRender: _forceRender,\n        destroyOnClose: _destroyOnClose,\n        toolbarRender\n      } = rawPreviewConfig,\n      restPreviewConfig = _objectWithoutProperties(rawPreviewConfig, _excluded);\n    let onInternalOpenChange;\n    if (onOpenChange) {\n      onInternalOpenChange = onOpenChange;\n    } else if (onVisibleChange) {\n      onInternalOpenChange = (nextOpen, info) => {\n        const {\n          current\n        } = info || {};\n        if (current !== undefined) {\n          onVisibleChange(nextOpen, !nextOpen, current);\n        } else {\n          onVisibleChange(nextOpen, !nextOpen);\n        }\n      };\n    }\n    const [coverElement, maskConfig] = normalizeMask(mask);\n    return [_objectSpread(_objectSpread({}, restPreviewConfig), {}, {\n      open: open !== null && open !== void 0 ? open : visible,\n      onOpenChange: onInternalOpenChange,\n      cover: cover !== null && cover !== void 0 ? cover : coverElement,\n      mask: maskConfig,\n      actionsRender: actionsRender !== null && actionsRender !== void 0 ? actionsRender : toolbarRender\n    }), rootClassName, maskClassName];\n  }, [rawPreviewConfig]);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Image');\n    if (rawPreviewConfig) {\n      [['visible', 'open'], ['onVisibleChange', 'onOpenChange'], ['maskClassName', 'classNames.cover'], ['rootClassName', 'classNames.root'], ['toolbarRender', 'actionsRender']].forEach(_ref => {\n        let [deprecatedName, newName] = _ref;\n        warning.deprecated(!(deprecatedName in rawPreviewConfig), deprecatedName, newName);\n      });\n      process.env.NODE_ENV !== \"production\" ? warning(! /*#__PURE__*/isValidElement(rawPreviewConfig.mask), 'deprecated', '`mask` used as ReactNode is deprecated. Please use `cover` instead.') : void 0;\n      process.env.NODE_ENV !== \"production\" ? warning(!('forceRender' in rawPreviewConfig), 'breaking', '`forceRender` is no longer supported.') : void 0;\n      process.env.NODE_ENV !== \"production\" ? warning(!('destroyOnClose' in rawPreviewConfig), 'breaking', '`destroyOnClose` is no longer supported.') : void 0;\n    }\n  }\n  return splittedPreviewConfig;\n}","map":{"version":3,"names":["isValidElement","useMemo","devUseWarning","normalizeMask","mask","undefined","usePreviewConfig","preview","rawPreviewConfig","splittedPreviewConfig","open","onOpenChange","cover","actionsRender","visible","onVisibleChange","rootClassName","maskClassName","forceRender","_forceRender","destroyOnClose","_destroyOnClose","toolbarRender","restPreviewConfig","_objectWithoutProperties","_excluded","onInternalOpenChange","nextOpen","info","current","coverElement","maskConfig","_objectSpread","process","env","NODE_ENV","warning","forEach","_ref","deprecatedName","newName","deprecated"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/antd/es/image/hooks/usePreviewConfig.js"],"sourcesContent":["import { isValidElement, useMemo } from 'react';\nimport { devUseWarning } from '../../_util/warning';\nfunction normalizeMask(mask) {\n  if (/*#__PURE__*/isValidElement(mask)) {\n    return [mask, undefined];\n  }\n  if (typeof mask === 'boolean' || mask && typeof mask === 'object') {\n    return [undefined, mask];\n  }\n  return [undefined, undefined];\n}\nexport default function usePreviewConfig(preview) {\n  // Get origin preview config\n  const rawPreviewConfig = useMemo(() => {\n    if (typeof preview === 'boolean') {\n      return preview ? {} : null;\n    }\n    return preview && typeof preview === 'object' ? preview : {};\n  }, [preview]);\n  const splittedPreviewConfig = useMemo(() => {\n    if (!rawPreviewConfig) {\n      return [rawPreviewConfig, '', ''];\n    }\n    const {\n      open,\n      onOpenChange,\n      cover,\n      actionsRender,\n      visible,\n      onVisibleChange,\n      rootClassName,\n      maskClassName,\n      mask,\n      forceRender: _forceRender,\n      destroyOnClose: _destroyOnClose,\n      toolbarRender,\n      ...restPreviewConfig\n    } = rawPreviewConfig;\n    let onInternalOpenChange;\n    if (onOpenChange) {\n      onInternalOpenChange = onOpenChange;\n    } else if (onVisibleChange) {\n      onInternalOpenChange = (nextOpen, info) => {\n        const {\n          current\n        } = info || {};\n        if (current !== undefined) {\n          onVisibleChange(nextOpen, !nextOpen, current);\n        } else {\n          onVisibleChange(nextOpen, !nextOpen);\n        }\n      };\n    }\n    const [coverElement, maskConfig] = normalizeMask(mask);\n    return [{\n      ...restPreviewConfig,\n      open: open ?? visible,\n      onOpenChange: onInternalOpenChange,\n      cover: cover ?? coverElement,\n      mask: maskConfig,\n      actionsRender: actionsRender ?? toolbarRender\n    }, rootClassName, maskClassName];\n  }, [rawPreviewConfig]);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Image');\n    if (rawPreviewConfig) {\n      [['visible', 'open'], ['onVisibleChange', 'onOpenChange'], ['maskClassName', 'classNames.cover'], ['rootClassName', 'classNames.root'], ['toolbarRender', 'actionsRender']].forEach(([deprecatedName, newName]) => {\n        warning.deprecated(!(deprecatedName in rawPreviewConfig), deprecatedName, newName);\n      });\n      process.env.NODE_ENV !== \"production\" ? warning(! /*#__PURE__*/isValidElement(rawPreviewConfig.mask), 'deprecated', '`mask` used as ReactNode is deprecated. Please use `cover` instead.') : void 0;\n      process.env.NODE_ENV !== \"production\" ? warning(!('forceRender' in rawPreviewConfig), 'breaking', '`forceRender` is no longer supported.') : void 0;\n      process.env.NODE_ENV !== \"production\" ? warning(!('destroyOnClose' in rawPreviewConfig), 'breaking', '`destroyOnClose` is no longer supported.') : void 0;\n    }\n  }\n  return splittedPreviewConfig;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}