{"ast":null,"code":"import canUseDom from \"@rc-component/util/es/Dom/canUseDom\";\nimport { getNodeRef, supportRef, useComposeRef } from \"@rc-component/util/es/ref\";\nimport warning from \"@rc-component/util/es/warning\";\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport OrderContext from \"./Context\";\nimport { inlineMock } from \"./mock\";\nimport useDom from \"./useDom\";\nimport useScrollLocker from \"./useScrollLocker\";\nconst getPortalContainer = getContainer => {\n  if (getContainer === false) {\n    return false;\n  }\n  if (!canUseDom() || !getContainer) {\n    return null;\n  }\n  if (typeof getContainer === 'string') {\n    return document.querySelector(getContainer);\n  }\n  if (typeof getContainer === 'function') {\n    return getContainer();\n  }\n  return getContainer;\n};\nconst Portal = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    open,\n    autoLock,\n    getContainer,\n    debug,\n    autoDestroy = true,\n    children\n  } = props;\n  const [shouldRender, setShouldRender] = React.useState(open);\n  const mergedRender = shouldRender || open;\n\n  // ========================= Warning =========================\n  if (process.env.NODE_ENV !== 'production') {\n    warning(canUseDom() || !open, \"Portal only work in client side. Please call 'useEffect' to show Portal instead default render in SSR.\");\n  }\n\n  // ====================== Should Render ======================\n  React.useEffect(() => {\n    if (autoDestroy || open) {\n      setShouldRender(open);\n    }\n  }, [open, autoDestroy]);\n\n  // ======================== Container ========================\n  const [innerContainer, setInnerContainer] = React.useState(() => getPortalContainer(getContainer));\n  React.useEffect(() => {\n    const customizeContainer = getPortalContainer(getContainer);\n\n    // Tell component that we check this in effect which is safe to be `null`\n    setInnerContainer(customizeContainer !== null && customizeContainer !== void 0 ? customizeContainer : null);\n  });\n  const [defaultContainer, queueCreate] = useDom(mergedRender && !innerContainer, debug);\n  const mergedContainer = innerContainer !== null && innerContainer !== void 0 ? innerContainer : defaultContainer;\n\n  // ========================= Locker ==========================\n  useScrollLocker(autoLock && open && canUseDom() && (mergedContainer === defaultContainer || mergedContainer === document.body));\n\n  // =========================== Ref ===========================\n  let childRef = null;\n  if (children && supportRef(children) && ref) {\n    childRef = getNodeRef(children);\n  }\n  const mergedRef = useComposeRef(childRef, ref);\n\n  // ========================= Render ==========================\n  // Do not render when nothing need render\n  // When innerContainer is `undefined`, it may not ready since user use ref in the same render\n  if (!mergedRender || !canUseDom() || innerContainer === undefined) {\n    return null;\n  }\n\n  // Render inline\n  const renderInline = mergedContainer === false || inlineMock();\n  let reffedChildren = children;\n  if (ref) {\n    reffedChildren = /*#__PURE__*/React.cloneElement(children, {\n      ref: mergedRef\n    });\n  }\n  return /*#__PURE__*/React.createElement(OrderContext.Provider, {\n    value: queueCreate\n  }, renderInline ? reffedChildren : /*#__PURE__*/createPortal(reffedChildren, mergedContainer));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Portal.displayName = 'Portal';\n}\nexport default Portal;","map":{"version":3,"names":["canUseDom","getNodeRef","supportRef","useComposeRef","warning","React","createPortal","OrderContext","inlineMock","useDom","useScrollLocker","getPortalContainer","getContainer","document","querySelector","Portal","forwardRef","props","ref","open","autoLock","debug","autoDestroy","children","shouldRender","setShouldRender","useState","mergedRender","process","env","NODE_ENV","useEffect","innerContainer","setInnerContainer","customizeContainer","defaultContainer","queueCreate","mergedContainer","body","childRef","mergedRef","undefined","renderInline","reffedChildren","cloneElement","createElement","Provider","value","displayName"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/portal/es/Portal.js"],"sourcesContent":["import canUseDom from \"@rc-component/util/es/Dom/canUseDom\";\nimport { getNodeRef, supportRef, useComposeRef } from \"@rc-component/util/es/ref\";\nimport warning from \"@rc-component/util/es/warning\";\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport OrderContext from \"./Context\";\nimport { inlineMock } from \"./mock\";\nimport useDom from \"./useDom\";\nimport useScrollLocker from \"./useScrollLocker\";\nconst getPortalContainer = getContainer => {\n  if (getContainer === false) {\n    return false;\n  }\n  if (!canUseDom() || !getContainer) {\n    return null;\n  }\n  if (typeof getContainer === 'string') {\n    return document.querySelector(getContainer);\n  }\n  if (typeof getContainer === 'function') {\n    return getContainer();\n  }\n  return getContainer;\n};\nconst Portal = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    open,\n    autoLock,\n    getContainer,\n    debug,\n    autoDestroy = true,\n    children\n  } = props;\n  const [shouldRender, setShouldRender] = React.useState(open);\n  const mergedRender = shouldRender || open;\n\n  // ========================= Warning =========================\n  if (process.env.NODE_ENV !== 'production') {\n    warning(canUseDom() || !open, `Portal only work in client side. Please call 'useEffect' to show Portal instead default render in SSR.`);\n  }\n\n  // ====================== Should Render ======================\n  React.useEffect(() => {\n    if (autoDestroy || open) {\n      setShouldRender(open);\n    }\n  }, [open, autoDestroy]);\n\n  // ======================== Container ========================\n  const [innerContainer, setInnerContainer] = React.useState(() => getPortalContainer(getContainer));\n  React.useEffect(() => {\n    const customizeContainer = getPortalContainer(getContainer);\n\n    // Tell component that we check this in effect which is safe to be `null`\n    setInnerContainer(customizeContainer ?? null);\n  });\n  const [defaultContainer, queueCreate] = useDom(mergedRender && !innerContainer, debug);\n  const mergedContainer = innerContainer ?? defaultContainer;\n\n  // ========================= Locker ==========================\n  useScrollLocker(autoLock && open && canUseDom() && (mergedContainer === defaultContainer || mergedContainer === document.body));\n\n  // =========================== Ref ===========================\n  let childRef = null;\n  if (children && supportRef(children) && ref) {\n    childRef = getNodeRef(children);\n  }\n  const mergedRef = useComposeRef(childRef, ref);\n\n  // ========================= Render ==========================\n  // Do not render when nothing need render\n  // When innerContainer is `undefined`, it may not ready since user use ref in the same render\n  if (!mergedRender || !canUseDom() || innerContainer === undefined) {\n    return null;\n  }\n\n  // Render inline\n  const renderInline = mergedContainer === false || inlineMock();\n  let reffedChildren = children;\n  if (ref) {\n    reffedChildren = /*#__PURE__*/React.cloneElement(children, {\n      ref: mergedRef\n    });\n  }\n  return /*#__PURE__*/React.createElement(OrderContext.Provider, {\n    value: queueCreate\n  }, renderInline ? reffedChildren : /*#__PURE__*/createPortal(reffedChildren, mergedContainer));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Portal.displayName = 'Portal';\n}\nexport default Portal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}