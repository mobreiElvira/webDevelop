{"ast":null,"code":"import * as React from 'react';\nexport const CollectionContext = /*#__PURE__*/React.createContext(null);\n/**\n * Collect all the resize event from children ResizeObserver\n */\nexport function Collection(_ref) {\n  let {\n    children,\n    onBatchResize\n  } = _ref;\n  const resizeIdRef = React.useRef(0);\n  const resizeInfosRef = React.useRef([]);\n  const onCollectionResize = React.useContext(CollectionContext);\n  const onResize = React.useCallback((size, element, data) => {\n    resizeIdRef.current += 1;\n    const currentId = resizeIdRef.current;\n    resizeInfosRef.current.push({\n      size,\n      element,\n      data\n    });\n    Promise.resolve().then(() => {\n      if (currentId === resizeIdRef.current) {\n        onBatchResize === null || onBatchResize === void 0 || onBatchResize(resizeInfosRef.current);\n        resizeInfosRef.current = [];\n      }\n    });\n\n    // Continue bubbling if parent exist\n    onCollectionResize === null || onCollectionResize === void 0 || onCollectionResize(size, element, data);\n  }, [onBatchResize, onCollectionResize]);\n  return /*#__PURE__*/React.createElement(CollectionContext.Provider, {\n    value: onResize\n  }, children);\n}","map":{"version":3,"names":["React","CollectionContext","createContext","Collection","_ref","children","onBatchResize","resizeIdRef","useRef","resizeInfosRef","onCollectionResize","useContext","onResize","useCallback","size","element","data","current","currentId","push","Promise","resolve","then","createElement","Provider","value"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/resize-observer/es/Collection.js"],"sourcesContent":["import * as React from 'react';\nexport const CollectionContext = /*#__PURE__*/React.createContext(null);\n/**\n * Collect all the resize event from children ResizeObserver\n */\nexport function Collection({\n  children,\n  onBatchResize\n}) {\n  const resizeIdRef = React.useRef(0);\n  const resizeInfosRef = React.useRef([]);\n  const onCollectionResize = React.useContext(CollectionContext);\n  const onResize = React.useCallback((size, element, data) => {\n    resizeIdRef.current += 1;\n    const currentId = resizeIdRef.current;\n    resizeInfosRef.current.push({\n      size,\n      element,\n      data\n    });\n    Promise.resolve().then(() => {\n      if (currentId === resizeIdRef.current) {\n        onBatchResize?.(resizeInfosRef.current);\n        resizeInfosRef.current = [];\n      }\n    });\n\n    // Continue bubbling if parent exist\n    onCollectionResize?.(size, element, data);\n  }, [onBatchResize, onCollectionResize]);\n  return /*#__PURE__*/React.createElement(CollectionContext.Provider, {\n    value: onResize\n  }, children);\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAO,MAAMC,iBAAiB,GAAG,aAAaD,KAAK,CAACE,aAAa,CAAC,IAAI,CAAC;AACvE;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAAAC,IAAA,EAGvB;EAAA,IAHwB;IACzBC,QAAQ;IACRC;EACF,CAAC,GAAAF,IAAA;EACC,MAAMG,WAAW,GAAGP,KAAK,CAACQ,MAAM,CAAC,CAAC,CAAC;EACnC,MAAMC,cAAc,GAAGT,KAAK,CAACQ,MAAM,CAAC,EAAE,CAAC;EACvC,MAAME,kBAAkB,GAAGV,KAAK,CAACW,UAAU,CAACV,iBAAiB,CAAC;EAC9D,MAAMW,QAAQ,GAAGZ,KAAK,CAACa,WAAW,CAAC,CAACC,IAAI,EAAEC,OAAO,EAAEC,IAAI,KAAK;IAC1DT,WAAW,CAACU,OAAO,IAAI,CAAC;IACxB,MAAMC,SAAS,GAAGX,WAAW,CAACU,OAAO;IACrCR,cAAc,CAACQ,OAAO,CAACE,IAAI,CAAC;MAC1BL,IAAI;MACJC,OAAO;MACPC;IACF,CAAC,CAAC;IACFI,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,MAAM;MAC3B,IAAIJ,SAAS,KAAKX,WAAW,CAACU,OAAO,EAAE;QACrCX,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAGG,cAAc,CAACQ,OAAO,CAAC;QACvCR,cAAc,CAACQ,OAAO,GAAG,EAAE;MAC7B;IACF,CAAC,CAAC;;IAEF;IACAP,kBAAkB,aAAlBA,kBAAkB,eAAlBA,kBAAkB,CAAGI,IAAI,EAAEC,OAAO,EAAEC,IAAI,CAAC;EAC3C,CAAC,EAAE,CAACV,aAAa,EAAEI,kBAAkB,CAAC,CAAC;EACvC,OAAO,aAAaV,KAAK,CAACuB,aAAa,CAACtB,iBAAiB,CAACuB,QAAQ,EAAE;IAClEC,KAAK,EAAEb;EACT,CAAC,EAAEP,QAAQ,CAAC;AACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}