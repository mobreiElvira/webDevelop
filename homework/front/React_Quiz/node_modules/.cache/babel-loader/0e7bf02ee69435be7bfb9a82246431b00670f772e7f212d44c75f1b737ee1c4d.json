{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as React from 'react';\nimport { convertChildrenToData } from \"../utils/legacyUtil\";\nfunction buildTreeStructure(nodes, config) {\n  const {\n    id,\n    pId,\n    rootPId\n  } = config;\n  const nodeMap = new Map();\n  const rootNodes = [];\n  nodes.forEach(node => {\n    const nodeKey = node[id];\n    const clonedNode = _objectSpread(_objectSpread({}, node), {}, {\n      key: node.key || nodeKey\n    });\n    nodeMap.set(nodeKey, clonedNode);\n  });\n  nodeMap.forEach(node => {\n    const parentKey = node[pId];\n    const parent = nodeMap.get(parentKey);\n    if (parent) {\n      parent.children = parent.children || [];\n      parent.children.push(node);\n    } else if (parentKey === rootPId || rootPId === null) {\n      rootNodes.push(node);\n    }\n  });\n  return rootNodes;\n}\n\n/**\n * 将 `treeData` 或 `children` 转换为格式化的 `treeData`。\n * 如果 `treeData` 或 `children` 没有变化，则不会重新计算。\n */\nexport default function useTreeData(treeData, children, simpleMode) {\n  return React.useMemo(() => {\n    if (treeData) {\n      if (simpleMode) {\n        const config = _objectSpread({\n          id: 'id',\n          pId: 'pId',\n          rootPId: null\n        }, typeof simpleMode === 'object' ? simpleMode : {});\n        return buildTreeStructure(treeData, config);\n      }\n      return treeData;\n    }\n    return convertChildrenToData(children);\n  }, [children, simpleMode, treeData]);\n}","map":{"version":3,"names":["React","convertChildrenToData","buildTreeStructure","nodes","config","id","pId","rootPId","nodeMap","Map","rootNodes","forEach","node","nodeKey","clonedNode","_objectSpread","key","set","parentKey","parent","get","children","push","useTreeData","treeData","simpleMode","useMemo"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/tree-select/es/hooks/useTreeData.js"],"sourcesContent":["import * as React from 'react';\nimport { convertChildrenToData } from \"../utils/legacyUtil\";\nfunction buildTreeStructure(nodes, config) {\n  const {\n    id,\n    pId,\n    rootPId\n  } = config;\n  const nodeMap = new Map();\n  const rootNodes = [];\n  nodes.forEach(node => {\n    const nodeKey = node[id];\n    const clonedNode = {\n      ...node,\n      key: node.key || nodeKey\n    };\n    nodeMap.set(nodeKey, clonedNode);\n  });\n  nodeMap.forEach(node => {\n    const parentKey = node[pId];\n    const parent = nodeMap.get(parentKey);\n    if (parent) {\n      parent.children = parent.children || [];\n      parent.children.push(node);\n    } else if (parentKey === rootPId || rootPId === null) {\n      rootNodes.push(node);\n    }\n  });\n  return rootNodes;\n}\n\n/**\n * 将 `treeData` 或 `children` 转换为格式化的 `treeData`。\n * 如果 `treeData` 或 `children` 没有变化，则不会重新计算。\n */\nexport default function useTreeData(treeData, children, simpleMode) {\n  return React.useMemo(() => {\n    if (treeData) {\n      if (simpleMode) {\n        const config = {\n          id: 'id',\n          pId: 'pId',\n          rootPId: null,\n          ...(typeof simpleMode === 'object' ? simpleMode : {})\n        };\n        return buildTreeStructure(treeData, config);\n      }\n      return treeData;\n    }\n    return convertChildrenToData(children);\n  }, [children, simpleMode, treeData]);\n}"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,qBAAqB,QAAQ,qBAAqB;AAC3D,SAASC,kBAAkBA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACzC,MAAM;IACJC,EAAE;IACFC,GAAG;IACHC;EACF,CAAC,GAAGH,MAAM;EACV,MAAMI,OAAO,GAAG,IAAIC,GAAG,CAAC,CAAC;EACzB,MAAMC,SAAS,GAAG,EAAE;EACpBP,KAAK,CAACQ,OAAO,CAACC,IAAI,IAAI;IACpB,MAAMC,OAAO,GAAGD,IAAI,CAACP,EAAE,CAAC;IACxB,MAAMS,UAAU,GAAAC,aAAA,CAAAA,aAAA,KACXH,IAAI;MACPI,GAAG,EAAEJ,IAAI,CAACI,GAAG,IAAIH;IAAO,EACzB;IACDL,OAAO,CAACS,GAAG,CAACJ,OAAO,EAAEC,UAAU,CAAC;EAClC,CAAC,CAAC;EACFN,OAAO,CAACG,OAAO,CAACC,IAAI,IAAI;IACtB,MAAMM,SAAS,GAAGN,IAAI,CAACN,GAAG,CAAC;IAC3B,MAAMa,MAAM,GAAGX,OAAO,CAACY,GAAG,CAACF,SAAS,CAAC;IACrC,IAAIC,MAAM,EAAE;MACVA,MAAM,CAACE,QAAQ,GAAGF,MAAM,CAACE,QAAQ,IAAI,EAAE;MACvCF,MAAM,CAACE,QAAQ,CAACC,IAAI,CAACV,IAAI,CAAC;IAC5B,CAAC,MAAM,IAAIM,SAAS,KAAKX,OAAO,IAAIA,OAAO,KAAK,IAAI,EAAE;MACpDG,SAAS,CAACY,IAAI,CAACV,IAAI,CAAC;IACtB;EACF,CAAC,CAAC;EACF,OAAOF,SAAS;AAClB;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAASa,WAAWA,CAACC,QAAQ,EAAEH,QAAQ,EAAEI,UAAU,EAAE;EAClE,OAAOzB,KAAK,CAAC0B,OAAO,CAAC,MAAM;IACzB,IAAIF,QAAQ,EAAE;MACZ,IAAIC,UAAU,EAAE;QACd,MAAMrB,MAAM,GAAAW,aAAA;UACVV,EAAE,EAAE,IAAI;UACRC,GAAG,EAAE,KAAK;UACVC,OAAO,EAAE;QAAI,GACT,OAAOkB,UAAU,KAAK,QAAQ,GAAGA,UAAU,GAAG,CAAC,CAAC,CACrD;QACD,OAAOvB,kBAAkB,CAACsB,QAAQ,EAAEpB,MAAM,CAAC;MAC7C;MACA,OAAOoB,QAAQ;IACjB;IACA,OAAOvB,qBAAqB,CAACoB,QAAQ,CAAC;EACxC,CAAC,EAAE,CAACA,QAAQ,EAAEI,UAAU,EAAED,QAAQ,CAAC,CAAC;AACtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}