{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport { clsx } from 'clsx';\nimport ResizeObserver from '@rc-component/resize-observer';\nimport useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport { useComposeRef } from \"@rc-component/util/es/ref\";\nimport * as React from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport TabContext from \"../TabContext\";\nimport useIndicator from \"../hooks/useIndicator\";\nimport useOffsets from \"../hooks/useOffsets\";\nimport useSyncState from \"../hooks/useSyncState\";\nimport useTouchMove from \"../hooks/useTouchMove\";\nimport useUpdate, { useUpdateState } from \"../hooks/useUpdate\";\nimport useVisibleRange from \"../hooks/useVisibleRange\";\nimport { genDataNodeKey, getRemovable, stringify } from \"../util\";\nimport AddButton from \"./AddButton\";\nimport ExtraContent from \"./ExtraContent\";\nimport OperationNode from \"./OperationNode\";\nimport TabNode from \"./TabNode\";\nconst getTabSize = (tab, containerRect) => {\n  // tabListRef\n  const {\n    offsetWidth,\n    offsetHeight,\n    offsetTop,\n    offsetLeft\n  } = tab;\n  const {\n    width,\n    height,\n    left,\n    top\n  } = tab.getBoundingClientRect();\n\n  // Use getBoundingClientRect to avoid decimal inaccuracy\n  if (Math.abs(width - offsetWidth) < 1) {\n    return [width, height, left - containerRect.left, top - containerRect.top];\n  }\n  return [offsetWidth, offsetHeight, offsetLeft, offsetTop];\n};\nconst getSize = refObj => {\n  const {\n    offsetWidth = 0,\n    offsetHeight = 0\n  } = refObj.current || {};\n\n  // Use getBoundingClientRect to avoid decimal inaccuracy\n  if (refObj.current) {\n    const {\n      width,\n      height\n    } = refObj.current.getBoundingClientRect();\n    if (Math.abs(width - offsetWidth) < 1) {\n      return [width, height];\n    }\n  }\n  return [offsetWidth, offsetHeight];\n};\n\n/**\n * Convert `SizeInfo` to unit value. Such as [123, 456] with `top` position get `123`\n */\nconst getUnitValue = (size, tabPositionTopOrBottom) => {\n  return size[tabPositionTopOrBottom ? 0 : 1];\n};\nconst TabNavList = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    style,\n    id,\n    animated,\n    activeKey,\n    rtl,\n    extra,\n    editable,\n    locale,\n    tabPosition,\n    tabBarGutter,\n    children,\n    onTabClick,\n    onTabScroll,\n    indicator,\n    classNames: tabsClassNames,\n    styles\n  } = props;\n  const {\n    prefixCls,\n    tabs\n  } = React.useContext(TabContext);\n  const containerRef = useRef(null);\n  const extraLeftRef = useRef(null);\n  const extraRightRef = useRef(null);\n  const tabsWrapperRef = useRef(null);\n  const tabListRef = useRef(null);\n  const operationsRef = useRef(null);\n  const innerAddButtonRef = useRef(null);\n  const tabPositionTopOrBottom = tabPosition === 'top' || tabPosition === 'bottom';\n  const [transformLeft, setTransformLeft] = useSyncState(0, (next, prev) => {\n    if (tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'left' : 'right'\n      });\n    }\n  });\n  const [transformTop, setTransformTop] = useSyncState(0, (next, prev) => {\n    if (!tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'top' : 'bottom'\n      });\n    }\n  });\n  const [containerExcludeExtraSize, setContainerExcludeExtraSize] = useState([0, 0]);\n  const [tabContentSize, setTabContentSize] = useState([0, 0]);\n  const [addSize, setAddSize] = useState([0, 0]);\n  const [operationSize, setOperationSize] = useState([0, 0]);\n  const [tabSizes, setTabSizes] = useUpdateState(new Map());\n  const tabOffsets = useOffsets(tabs, tabSizes, tabContentSize[0]);\n\n  // ========================== Unit =========================\n  const containerExcludeExtraSizeValue = getUnitValue(containerExcludeExtraSize, tabPositionTopOrBottom);\n  const tabContentSizeValue = getUnitValue(tabContentSize, tabPositionTopOrBottom);\n  const addSizeValue = getUnitValue(addSize, tabPositionTopOrBottom);\n  const operationSizeValue = getUnitValue(operationSize, tabPositionTopOrBottom);\n  const needScroll = Math.floor(containerExcludeExtraSizeValue) < Math.floor(tabContentSizeValue + addSizeValue);\n  const visibleTabContentValue = needScroll ? containerExcludeExtraSizeValue - operationSizeValue : containerExcludeExtraSizeValue - addSizeValue;\n\n  // ========================== Util =========================\n  const operationsHiddenClassName = \"\".concat(prefixCls, \"-nav-operations-hidden\");\n  let transformMin = 0;\n  let transformMax = 0;\n  if (!tabPositionTopOrBottom) {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  } else if (rtl) {\n    transformMin = 0;\n    transformMax = Math.max(0, tabContentSizeValue - visibleTabContentValue);\n  } else {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  }\n  function alignInRange(value) {\n    if (value < transformMin) {\n      return transformMin;\n    }\n    if (value > transformMax) {\n      return transformMax;\n    }\n    return value;\n  }\n\n  // ========================= Mobile ========================\n  const touchMovingRef = useRef(null);\n  const [lockAnimation, setLockAnimation] = useState();\n  function doLockAnimation() {\n    setLockAnimation(Date.now());\n  }\n  function clearTouchMoving() {\n    if (touchMovingRef.current) {\n      clearTimeout(touchMovingRef.current);\n    }\n  }\n  useTouchMove(tabsWrapperRef, (offsetX, offsetY) => {\n    function doMove(setState, offset) {\n      setState(value => {\n        const newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    }\n\n    // Skip scroll if place is enough\n    if (!needScroll) {\n      return false;\n    }\n    if (tabPositionTopOrBottom) {\n      doMove(setTransformLeft, offsetX);\n    } else {\n      doMove(setTransformTop, offsetY);\n    }\n    clearTouchMoving();\n    doLockAnimation();\n    return true;\n  });\n  useEffect(() => {\n    clearTouchMoving();\n    if (lockAnimation) {\n      touchMovingRef.current = setTimeout(() => {\n        setLockAnimation(0);\n      }, 100);\n    }\n    return clearTouchMoving;\n  }, [lockAnimation]);\n\n  // ===================== Visible Range =====================\n  // Render tab node & collect tab offset\n  const [visibleStart, visibleEnd] = useVisibleRange(tabOffsets,\n  // Container\n  visibleTabContentValue,\n  // Transform\n  tabPositionTopOrBottom ? transformLeft : transformTop,\n  // Tabs\n  tabContentSizeValue,\n  // Add\n  addSizeValue,\n  // Operation\n  operationSizeValue, _objectSpread(_objectSpread({}, props), {}, {\n    tabs\n  }));\n\n  // ========================= Scroll ========================\n  const scrollToTab = useEvent(function () {\n    let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : activeKey;\n    const tabOffset = tabOffsets.get(key) || {\n      width: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0\n    };\n    if (tabPositionTopOrBottom) {\n      // ============ Align with top & bottom ============\n      let newTransform = transformLeft;\n\n      // RTL\n      if (rtl) {\n        if (tabOffset.right < transformLeft) {\n          newTransform = tabOffset.right;\n        } else if (tabOffset.right + tabOffset.width > transformLeft + visibleTabContentValue) {\n          newTransform = tabOffset.right + tabOffset.width - visibleTabContentValue;\n        }\n      }\n      // LTR\n      else if (tabOffset.left < -transformLeft) {\n        newTransform = -tabOffset.left;\n      } else if (tabOffset.left + tabOffset.width > -transformLeft + visibleTabContentValue) {\n        newTransform = -(tabOffset.left + tabOffset.width - visibleTabContentValue);\n      }\n      setTransformTop(0);\n      setTransformLeft(alignInRange(newTransform));\n    } else {\n      // ============ Align with left & right ============\n      let newTransform = transformTop;\n      if (tabOffset.top < -transformTop) {\n        newTransform = -tabOffset.top;\n      } else if (tabOffset.top + tabOffset.height > -transformTop + visibleTabContentValue) {\n        newTransform = -(tabOffset.top + tabOffset.height - visibleTabContentValue);\n      }\n      setTransformLeft(0);\n      setTransformTop(alignInRange(newTransform));\n    }\n  });\n\n  // ========================= Focus =========================\n  const [focusKey, setFocusKey] = useState();\n  const [isMouse, setIsMouse] = useState(false);\n  const enabledTabs = tabs.filter(tab => !tab.disabled).map(tab => tab.key);\n  const onOffset = offset => {\n    const currentIndex = enabledTabs.indexOf(focusKey || activeKey);\n    const len = enabledTabs.length;\n    const nextIndex = (currentIndex + offset + len) % len;\n    const newKey = enabledTabs[nextIndex];\n    setFocusKey(newKey);\n  };\n  const handleRemoveTab = (removalTabKey, e) => {\n    const removeIndex = enabledTabs.indexOf(removalTabKey);\n    const removeTab = tabs.find(tab => tab.key === removalTabKey);\n    const removable = getRemovable(removeTab === null || removeTab === void 0 ? void 0 : removeTab.closable, removeTab === null || removeTab === void 0 ? void 0 : removeTab.closeIcon, editable, removeTab === null || removeTab === void 0 ? void 0 : removeTab.disabled);\n    if (removable) {\n      e.preventDefault();\n      e.stopPropagation();\n      editable.onEdit('remove', {\n        key: removalTabKey,\n        event: e\n      });\n\n      // when remove last tab, focus previous tab\n      if (removeIndex === enabledTabs.length - 1) {\n        onOffset(-1);\n      } else {\n        onOffset(1);\n      }\n    }\n  };\n  const handleMouseDown = (key, e) => {\n    setIsMouse(true);\n    // Middle mouse button\n    if (e.button === 1) {\n      handleRemoveTab(key, e);\n    }\n  };\n  const handleKeyDown = e => {\n    const {\n      code\n    } = e;\n    const isRTL = rtl && tabPositionTopOrBottom;\n    const firstEnabledTab = enabledTabs[0];\n    const lastEnabledTab = enabledTabs[enabledTabs.length - 1];\n    switch (code) {\n      // LEFT\n      case 'ArrowLeft':\n        {\n          if (tabPositionTopOrBottom) {\n            onOffset(isRTL ? 1 : -1);\n          }\n          break;\n        }\n\n      // RIGHT\n      case 'ArrowRight':\n        {\n          if (tabPositionTopOrBottom) {\n            onOffset(isRTL ? -1 : 1);\n          }\n          break;\n        }\n\n      // UP\n      case 'ArrowUp':\n        {\n          e.preventDefault();\n          if (!tabPositionTopOrBottom) {\n            onOffset(-1);\n          }\n          break;\n        }\n\n      // DOWN\n      case 'ArrowDown':\n        {\n          e.preventDefault();\n          if (!tabPositionTopOrBottom) {\n            onOffset(1);\n          }\n          break;\n        }\n\n      // HOME\n      case 'Home':\n        {\n          e.preventDefault();\n          setFocusKey(firstEnabledTab);\n          break;\n        }\n\n      // END\n      case 'End':\n        {\n          e.preventDefault();\n          setFocusKey(lastEnabledTab);\n          break;\n        }\n\n      // Enter & Space\n      case 'Enter':\n      case 'Space':\n        {\n          e.preventDefault();\n          onTabClick(focusKey !== null && focusKey !== void 0 ? focusKey : activeKey, e);\n          break;\n        }\n      // Backspace\n      case 'Backspace':\n      case 'Delete':\n        {\n          handleRemoveTab(focusKey, e);\n          break;\n        }\n    }\n  };\n\n  // ========================== Tab ==========================\n  const tabNodeStyle = {};\n  if (tabPositionTopOrBottom) {\n    tabNodeStyle.marginInlineStart = tabBarGutter;\n  } else {\n    tabNodeStyle.marginTop = tabBarGutter;\n  }\n  const tabNodes = tabs.map((tab, i) => {\n    const {\n      key\n    } = tab;\n    return /*#__PURE__*/React.createElement(TabNode, {\n      id: id,\n      prefixCls: prefixCls,\n      key: key,\n      tab: tab,\n      className: tabsClassNames === null || tabsClassNames === void 0 ? void 0 : tabsClassNames.item\n      /* first node should not have margin left */,\n      style: i === 0 ? styles === null || styles === void 0 ? void 0 : styles.item : _objectSpread(_objectSpread({}, tabNodeStyle), styles === null || styles === void 0 ? void 0 : styles.item),\n      closable: tab.closable,\n      editable: editable,\n      active: key === activeKey,\n      focus: key === focusKey,\n      renderWrapper: children,\n      removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n      tabCount: enabledTabs.length,\n      currentPosition: i + 1,\n      onClick: e => {\n        onTabClick(key, e);\n      },\n      onKeyDown: handleKeyDown,\n      onFocus: () => {\n        if (!isMouse) {\n          setFocusKey(key);\n        }\n        scrollToTab(key);\n        doLockAnimation();\n        if (!tabsWrapperRef.current) {\n          return;\n        }\n        // Focus element will make scrollLeft change which we should reset back\n        if (!rtl) {\n          tabsWrapperRef.current.scrollLeft = 0;\n        }\n        tabsWrapperRef.current.scrollTop = 0;\n      },\n      onBlur: () => {\n        setFocusKey(undefined);\n      },\n      onMouseDown: e => handleMouseDown(key, e),\n      onMouseUp: () => {\n        setIsMouse(false);\n      }\n    });\n  });\n\n  // Update buttons records\n  const updateTabSizes = () => setTabSizes(() => {\n    var _tabListRef$current;\n    const newSizes = new Map();\n    const listRect = (_tabListRef$current = tabListRef.current) === null || _tabListRef$current === void 0 ? void 0 : _tabListRef$current.getBoundingClientRect();\n    tabs.forEach(_ref => {\n      var _tabListRef$current2;\n      let {\n        key\n      } = _ref;\n      const btnNode = (_tabListRef$current2 = tabListRef.current) === null || _tabListRef$current2 === void 0 ? void 0 : _tabListRef$current2.querySelector(\"[data-node-key=\\\"\".concat(genDataNodeKey(key), \"\\\"]\"));\n      if (btnNode) {\n        const [width, height, left, top] = getTabSize(btnNode, listRect);\n        newSizes.set(key, {\n          width,\n          height,\n          left,\n          top\n        });\n      }\n    });\n    return newSizes;\n  });\n  useEffect(() => {\n    updateTabSizes();\n  }, [tabs.map(tab => tab.key).join('_')]);\n  const onListHolderResize = useUpdate(() => {\n    // Update wrapper records\n    const containerSize = getSize(containerRef);\n    const extraLeftSize = getSize(extraLeftRef);\n    const extraRightSize = getSize(extraRightRef);\n    setContainerExcludeExtraSize([containerSize[0] - extraLeftSize[0] - extraRightSize[0], containerSize[1] - extraLeftSize[1] - extraRightSize[1]]);\n    const newAddSize = getSize(innerAddButtonRef);\n    setAddSize(newAddSize);\n    const newOperationSize = getSize(operationsRef);\n    setOperationSize(newOperationSize);\n\n    // Which includes add button size\n    const tabContentFullSize = getSize(tabListRef);\n    setTabContentSize([tabContentFullSize[0] - newAddSize[0], tabContentFullSize[1] - newAddSize[1]]);\n\n    // Update buttons records\n    updateTabSizes();\n  });\n\n  // ======================== Dropdown =======================\n  const startHiddenTabs = tabs.slice(0, visibleStart);\n  const endHiddenTabs = tabs.slice(visibleEnd + 1);\n  const hiddenTabs = [...startHiddenTabs, ...endHiddenTabs];\n\n  // =================== Link & Operations ===================\n  const activeTabOffset = tabOffsets.get(activeKey);\n  const {\n    style: indicatorStyle\n  } = useIndicator({\n    activeTabOffset,\n    horizontal: tabPositionTopOrBottom,\n    indicator,\n    rtl\n  });\n\n  // ========================= Effect ========================\n  useEffect(() => {\n    scrollToTab();\n  }, [activeKey, transformMin, transformMax, stringify(activeTabOffset), stringify(tabOffsets), tabPositionTopOrBottom]);\n\n  // Should recalculate when rtl changed\n  useEffect(() => {\n    onListHolderResize();\n    // eslint-disable-next-line\n  }, [rtl]);\n\n  // ========================= Render ========================\n  const hasDropdown = !!hiddenTabs.length;\n  const wrapPrefix = \"\".concat(prefixCls, \"-nav-wrap\");\n  let pingLeft;\n  let pingRight;\n  let pingTop;\n  let pingBottom;\n  if (tabPositionTopOrBottom) {\n    if (rtl) {\n      pingRight = transformLeft > 0;\n      pingLeft = transformLeft !== transformMax;\n    } else {\n      pingLeft = transformLeft < 0;\n      pingRight = transformLeft !== transformMin;\n    }\n  } else {\n    pingTop = transformTop < 0;\n    pingBottom = transformTop !== transformMin;\n  }\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: useComposeRef(ref, containerRef),\n    role: \"tablist\",\n    \"aria-orientation\": tabPositionTopOrBottom ? 'horizontal' : 'vertical',\n    className: clsx(\"\".concat(prefixCls, \"-nav\"), className, tabsClassNames === null || tabsClassNames === void 0 ? void 0 : tabsClassNames.header),\n    style: _objectSpread(_objectSpread({}, styles === null || styles === void 0 ? void 0 : styles.header), style),\n    onKeyDown: () => {\n      // No need animation when use keyboard\n      doLockAnimation();\n    }\n  }, /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraLeftRef,\n    position: \"left\",\n    extra: extra,\n    prefixCls: prefixCls\n  }), /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(wrapPrefix, {\n      [\"\".concat(wrapPrefix, \"-ping-left\")]: pingLeft,\n      [\"\".concat(wrapPrefix, \"-ping-right\")]: pingRight,\n      [\"\".concat(wrapPrefix, \"-ping-top\")]: pingTop,\n      [\"\".concat(wrapPrefix, \"-ping-bottom\")]: pingBottom\n    }),\n    ref: tabsWrapperRef\n  }, /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabListRef,\n    className: \"\".concat(prefixCls, \"-nav-list\"),\n    style: {\n      transform: \"translate(\".concat(transformLeft, \"px, \").concat(transformTop, \"px)\"),\n      transition: lockAnimation ? 'none' : undefined\n    }\n  }, tabNodes, /*#__PURE__*/React.createElement(AddButton, {\n    ref: innerAddButtonRef,\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable,\n    style: _objectSpread(_objectSpread({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {}, {\n      visibility: hasDropdown ? 'hidden' : null\n    })\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(\"\".concat(prefixCls, \"-ink-bar\"), tabsClassNames === null || tabsClassNames === void 0 ? void 0 : tabsClassNames.indicator, {\n      [\"\".concat(prefixCls, \"-ink-bar-animated\")]: animated.inkBar\n    }),\n    style: _objectSpread(_objectSpread({}, indicatorStyle), styles === null || styles === void 0 ? void 0 : styles.indicator)\n  }))))), /*#__PURE__*/React.createElement(OperationNode, _extends({}, props, {\n    removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n    ref: operationsRef,\n    prefixCls: prefixCls,\n    tabs: hiddenTabs,\n    className: !hasDropdown && operationsHiddenClassName,\n    popupStyle: styles === null || styles === void 0 ? void 0 : styles.popup,\n    tabMoving: !!lockAnimation\n  })), /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraRightRef,\n    position: \"right\",\n    extra: extra,\n    prefixCls: prefixCls\n  })));\n  /* eslint-enable */\n});\nexport default TabNavList;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","clsx","ResizeObserver","useEvent","useComposeRef","React","useEffect","useRef","useState","TabContext","useIndicator","useOffsets","useSyncState","useTouchMove","useUpdate","useUpdateState","useVisibleRange","genDataNodeKey","getRemovable","stringify","AddButton","ExtraContent","OperationNode","TabNode","getTabSize","tab","containerRect","offsetWidth","offsetHeight","offsetTop","offsetLeft","width","height","left","top","getBoundingClientRect","Math","abs","getSize","refObj","current","getUnitValue","size","tabPositionTopOrBottom","TabNavList","forwardRef","props","ref","className","style","id","animated","activeKey","rtl","extra","editable","locale","tabPosition","tabBarGutter","children","onTabClick","onTabScroll","indicator","classNames","tabsClassNames","styles","prefixCls","tabs","useContext","containerRef","extraLeftRef","extraRightRef","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","transformLeft","setTransformLeft","next","prev","direction","transformTop","setTransformTop","containerExcludeExtraSize","setContainerExcludeExtraSize","tabContentSize","setTabContentSize","addSize","setAddSize","operationSize","setOperationSize","tabSizes","setTabSizes","Map","tabOffsets","containerExcludeExtraSizeValue","tabContentSizeValue","addSizeValue","operationSizeValue","needScroll","floor","visibleTabContentValue","operationsHiddenClassName","concat","transformMin","transformMax","min","max","alignInRange","value","touchMovingRef","lockAnimation","setLockAnimation","doLockAnimation","Date","now","clearTouchMoving","clearTimeout","offsetX","offsetY","doMove","setState","offset","newValue","setTimeout","visibleStart","visibleEnd","_objectSpread","scrollToTab","undefined","tabOffset","get","right","newTransform","focusKey","setFocusKey","isMouse","setIsMouse","enabledTabs","filter","disabled","map","onOffset","currentIndex","indexOf","len","nextIndex","newKey","handleRemoveTab","removalTabKey","e","removeIndex","removeTab","find","removable","closable","closeIcon","preventDefault","stopPropagation","onEdit","event","handleMouseDown","button","handleKeyDown","code","isRTL","firstEnabledTab","lastEnabledTab","tabNodeStyle","marginInlineStart","marginTop","tabNodes","createElement","item","active","focus","renderWrapper","removeAriaLabel","tabCount","currentPosition","onClick","onKeyDown","onFocus","scrollLeft","scrollTop","onBlur","onMouseDown","onMouseUp","updateTabSizes","_tabListRef$current","newSizes","listRect","forEach","_ref","_tabListRef$current2","btnNode","querySelector","set","join","onListHolderResize","containerSize","extraLeftSize","extraRightSize","newAddSize","newOperationSize","tabContentFullSize","startHiddenTabs","slice","endHiddenTabs","hiddenTabs","activeTabOffset","indicatorStyle","horizontal","hasDropdown","wrapPrefix","pingLeft","pingRight","pingTop","pingBottom","onResize","role","header","position","transform","transition","visibility","inkBar","popupStyle","popup","tabMoving"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/tabs/es/TabNavList/index.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport { clsx } from 'clsx';\nimport ResizeObserver from '@rc-component/resize-observer';\nimport useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport { useComposeRef } from \"@rc-component/util/es/ref\";\nimport * as React from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport TabContext from \"../TabContext\";\nimport useIndicator from \"../hooks/useIndicator\";\nimport useOffsets from \"../hooks/useOffsets\";\nimport useSyncState from \"../hooks/useSyncState\";\nimport useTouchMove from \"../hooks/useTouchMove\";\nimport useUpdate, { useUpdateState } from \"../hooks/useUpdate\";\nimport useVisibleRange from \"../hooks/useVisibleRange\";\nimport { genDataNodeKey, getRemovable, stringify } from \"../util\";\nimport AddButton from \"./AddButton\";\nimport ExtraContent from \"./ExtraContent\";\nimport OperationNode from \"./OperationNode\";\nimport TabNode from \"./TabNode\";\nconst getTabSize = (tab, containerRect) => {\n  // tabListRef\n  const {\n    offsetWidth,\n    offsetHeight,\n    offsetTop,\n    offsetLeft\n  } = tab;\n  const {\n    width,\n    height,\n    left,\n    top\n  } = tab.getBoundingClientRect();\n\n  // Use getBoundingClientRect to avoid decimal inaccuracy\n  if (Math.abs(width - offsetWidth) < 1) {\n    return [width, height, left - containerRect.left, top - containerRect.top];\n  }\n  return [offsetWidth, offsetHeight, offsetLeft, offsetTop];\n};\nconst getSize = refObj => {\n  const {\n    offsetWidth = 0,\n    offsetHeight = 0\n  } = refObj.current || {};\n\n  // Use getBoundingClientRect to avoid decimal inaccuracy\n  if (refObj.current) {\n    const {\n      width,\n      height\n    } = refObj.current.getBoundingClientRect();\n    if (Math.abs(width - offsetWidth) < 1) {\n      return [width, height];\n    }\n  }\n  return [offsetWidth, offsetHeight];\n};\n\n/**\n * Convert `SizeInfo` to unit value. Such as [123, 456] with `top` position get `123`\n */\nconst getUnitValue = (size, tabPositionTopOrBottom) => {\n  return size[tabPositionTopOrBottom ? 0 : 1];\n};\nconst TabNavList = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n    className,\n    style,\n    id,\n    animated,\n    activeKey,\n    rtl,\n    extra,\n    editable,\n    locale,\n    tabPosition,\n    tabBarGutter,\n    children,\n    onTabClick,\n    onTabScroll,\n    indicator,\n    classNames: tabsClassNames,\n    styles\n  } = props;\n  const {\n    prefixCls,\n    tabs\n  } = React.useContext(TabContext);\n  const containerRef = useRef(null);\n  const extraLeftRef = useRef(null);\n  const extraRightRef = useRef(null);\n  const tabsWrapperRef = useRef(null);\n  const tabListRef = useRef(null);\n  const operationsRef = useRef(null);\n  const innerAddButtonRef = useRef(null);\n  const tabPositionTopOrBottom = tabPosition === 'top' || tabPosition === 'bottom';\n  const [transformLeft, setTransformLeft] = useSyncState(0, (next, prev) => {\n    if (tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'left' : 'right'\n      });\n    }\n  });\n  const [transformTop, setTransformTop] = useSyncState(0, (next, prev) => {\n    if (!tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'top' : 'bottom'\n      });\n    }\n  });\n  const [containerExcludeExtraSize, setContainerExcludeExtraSize] = useState([0, 0]);\n  const [tabContentSize, setTabContentSize] = useState([0, 0]);\n  const [addSize, setAddSize] = useState([0, 0]);\n  const [operationSize, setOperationSize] = useState([0, 0]);\n  const [tabSizes, setTabSizes] = useUpdateState(new Map());\n  const tabOffsets = useOffsets(tabs, tabSizes, tabContentSize[0]);\n\n  // ========================== Unit =========================\n  const containerExcludeExtraSizeValue = getUnitValue(containerExcludeExtraSize, tabPositionTopOrBottom);\n  const tabContentSizeValue = getUnitValue(tabContentSize, tabPositionTopOrBottom);\n  const addSizeValue = getUnitValue(addSize, tabPositionTopOrBottom);\n  const operationSizeValue = getUnitValue(operationSize, tabPositionTopOrBottom);\n  const needScroll = Math.floor(containerExcludeExtraSizeValue) < Math.floor(tabContentSizeValue + addSizeValue);\n  const visibleTabContentValue = needScroll ? containerExcludeExtraSizeValue - operationSizeValue : containerExcludeExtraSizeValue - addSizeValue;\n\n  // ========================== Util =========================\n  const operationsHiddenClassName = `${prefixCls}-nav-operations-hidden`;\n  let transformMin = 0;\n  let transformMax = 0;\n  if (!tabPositionTopOrBottom) {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  } else if (rtl) {\n    transformMin = 0;\n    transformMax = Math.max(0, tabContentSizeValue - visibleTabContentValue);\n  } else {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  }\n  function alignInRange(value) {\n    if (value < transformMin) {\n      return transformMin;\n    }\n    if (value > transformMax) {\n      return transformMax;\n    }\n    return value;\n  }\n\n  // ========================= Mobile ========================\n  const touchMovingRef = useRef(null);\n  const [lockAnimation, setLockAnimation] = useState();\n  function doLockAnimation() {\n    setLockAnimation(Date.now());\n  }\n  function clearTouchMoving() {\n    if (touchMovingRef.current) {\n      clearTimeout(touchMovingRef.current);\n    }\n  }\n  useTouchMove(tabsWrapperRef, (offsetX, offsetY) => {\n    function doMove(setState, offset) {\n      setState(value => {\n        const newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    }\n\n    // Skip scroll if place is enough\n    if (!needScroll) {\n      return false;\n    }\n    if (tabPositionTopOrBottom) {\n      doMove(setTransformLeft, offsetX);\n    } else {\n      doMove(setTransformTop, offsetY);\n    }\n    clearTouchMoving();\n    doLockAnimation();\n    return true;\n  });\n  useEffect(() => {\n    clearTouchMoving();\n    if (lockAnimation) {\n      touchMovingRef.current = setTimeout(() => {\n        setLockAnimation(0);\n      }, 100);\n    }\n    return clearTouchMoving;\n  }, [lockAnimation]);\n\n  // ===================== Visible Range =====================\n  // Render tab node & collect tab offset\n  const [visibleStart, visibleEnd] = useVisibleRange(tabOffsets,\n  // Container\n  visibleTabContentValue,\n  // Transform\n  tabPositionTopOrBottom ? transformLeft : transformTop,\n  // Tabs\n  tabContentSizeValue,\n  // Add\n  addSizeValue,\n  // Operation\n  operationSizeValue, {\n    ...props,\n    tabs\n  });\n\n  // ========================= Scroll ========================\n  const scrollToTab = useEvent((key = activeKey) => {\n    const tabOffset = tabOffsets.get(key) || {\n      width: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0\n    };\n    if (tabPositionTopOrBottom) {\n      // ============ Align with top & bottom ============\n      let newTransform = transformLeft;\n\n      // RTL\n      if (rtl) {\n        if (tabOffset.right < transformLeft) {\n          newTransform = tabOffset.right;\n        } else if (tabOffset.right + tabOffset.width > transformLeft + visibleTabContentValue) {\n          newTransform = tabOffset.right + tabOffset.width - visibleTabContentValue;\n        }\n      }\n      // LTR\n      else if (tabOffset.left < -transformLeft) {\n        newTransform = -tabOffset.left;\n      } else if (tabOffset.left + tabOffset.width > -transformLeft + visibleTabContentValue) {\n        newTransform = -(tabOffset.left + tabOffset.width - visibleTabContentValue);\n      }\n      setTransformTop(0);\n      setTransformLeft(alignInRange(newTransform));\n    } else {\n      // ============ Align with left & right ============\n      let newTransform = transformTop;\n      if (tabOffset.top < -transformTop) {\n        newTransform = -tabOffset.top;\n      } else if (tabOffset.top + tabOffset.height > -transformTop + visibleTabContentValue) {\n        newTransform = -(tabOffset.top + tabOffset.height - visibleTabContentValue);\n      }\n      setTransformLeft(0);\n      setTransformTop(alignInRange(newTransform));\n    }\n  });\n\n  // ========================= Focus =========================\n  const [focusKey, setFocusKey] = useState();\n  const [isMouse, setIsMouse] = useState(false);\n  const enabledTabs = tabs.filter(tab => !tab.disabled).map(tab => tab.key);\n  const onOffset = offset => {\n    const currentIndex = enabledTabs.indexOf(focusKey || activeKey);\n    const len = enabledTabs.length;\n    const nextIndex = (currentIndex + offset + len) % len;\n    const newKey = enabledTabs[nextIndex];\n    setFocusKey(newKey);\n  };\n  const handleRemoveTab = (removalTabKey, e) => {\n    const removeIndex = enabledTabs.indexOf(removalTabKey);\n    const removeTab = tabs.find(tab => tab.key === removalTabKey);\n    const removable = getRemovable(removeTab?.closable, removeTab?.closeIcon, editable, removeTab?.disabled);\n    if (removable) {\n      e.preventDefault();\n      e.stopPropagation();\n      editable.onEdit('remove', {\n        key: removalTabKey,\n        event: e\n      });\n\n      // when remove last tab, focus previous tab\n      if (removeIndex === enabledTabs.length - 1) {\n        onOffset(-1);\n      } else {\n        onOffset(1);\n      }\n    }\n  };\n  const handleMouseDown = (key, e) => {\n    setIsMouse(true);\n    // Middle mouse button\n    if (e.button === 1) {\n      handleRemoveTab(key, e);\n    }\n  };\n  const handleKeyDown = e => {\n    const {\n      code\n    } = e;\n    const isRTL = rtl && tabPositionTopOrBottom;\n    const firstEnabledTab = enabledTabs[0];\n    const lastEnabledTab = enabledTabs[enabledTabs.length - 1];\n    switch (code) {\n      // LEFT\n      case 'ArrowLeft':\n        {\n          if (tabPositionTopOrBottom) {\n            onOffset(isRTL ? 1 : -1);\n          }\n          break;\n        }\n\n      // RIGHT\n      case 'ArrowRight':\n        {\n          if (tabPositionTopOrBottom) {\n            onOffset(isRTL ? -1 : 1);\n          }\n          break;\n        }\n\n      // UP\n      case 'ArrowUp':\n        {\n          e.preventDefault();\n          if (!tabPositionTopOrBottom) {\n            onOffset(-1);\n          }\n          break;\n        }\n\n      // DOWN\n      case 'ArrowDown':\n        {\n          e.preventDefault();\n          if (!tabPositionTopOrBottom) {\n            onOffset(1);\n          }\n          break;\n        }\n\n      // HOME\n      case 'Home':\n        {\n          e.preventDefault();\n          setFocusKey(firstEnabledTab);\n          break;\n        }\n\n      // END\n      case 'End':\n        {\n          e.preventDefault();\n          setFocusKey(lastEnabledTab);\n          break;\n        }\n\n      // Enter & Space\n      case 'Enter':\n      case 'Space':\n        {\n          e.preventDefault();\n          onTabClick(focusKey ?? activeKey, e);\n          break;\n        }\n      // Backspace\n      case 'Backspace':\n      case 'Delete':\n        {\n          handleRemoveTab(focusKey, e);\n          break;\n        }\n    }\n  };\n\n  // ========================== Tab ==========================\n  const tabNodeStyle = {};\n  if (tabPositionTopOrBottom) {\n    tabNodeStyle.marginInlineStart = tabBarGutter;\n  } else {\n    tabNodeStyle.marginTop = tabBarGutter;\n  }\n  const tabNodes = tabs.map((tab, i) => {\n    const {\n      key\n    } = tab;\n    return /*#__PURE__*/React.createElement(TabNode, {\n      id: id,\n      prefixCls: prefixCls,\n      key: key,\n      tab: tab,\n      className: tabsClassNames?.item\n      /* first node should not have margin left */,\n      style: i === 0 ? styles?.item : {\n        ...tabNodeStyle,\n        ...styles?.item\n      },\n      closable: tab.closable,\n      editable: editable,\n      active: key === activeKey,\n      focus: key === focusKey,\n      renderWrapper: children,\n      removeAriaLabel: locale?.removeAriaLabel,\n      tabCount: enabledTabs.length,\n      currentPosition: i + 1,\n      onClick: e => {\n        onTabClick(key, e);\n      },\n      onKeyDown: handleKeyDown,\n      onFocus: () => {\n        if (!isMouse) {\n          setFocusKey(key);\n        }\n        scrollToTab(key);\n        doLockAnimation();\n        if (!tabsWrapperRef.current) {\n          return;\n        }\n        // Focus element will make scrollLeft change which we should reset back\n        if (!rtl) {\n          tabsWrapperRef.current.scrollLeft = 0;\n        }\n        tabsWrapperRef.current.scrollTop = 0;\n      },\n      onBlur: () => {\n        setFocusKey(undefined);\n      },\n      onMouseDown: e => handleMouseDown(key, e),\n      onMouseUp: () => {\n        setIsMouse(false);\n      }\n    });\n  });\n\n  // Update buttons records\n  const updateTabSizes = () => setTabSizes(() => {\n    const newSizes = new Map();\n    const listRect = tabListRef.current?.getBoundingClientRect();\n    tabs.forEach(({\n      key\n    }) => {\n      const btnNode = tabListRef.current?.querySelector(`[data-node-key=\"${genDataNodeKey(key)}\"]`);\n      if (btnNode) {\n        const [width, height, left, top] = getTabSize(btnNode, listRect);\n        newSizes.set(key, {\n          width,\n          height,\n          left,\n          top\n        });\n      }\n    });\n    return newSizes;\n  });\n  useEffect(() => {\n    updateTabSizes();\n  }, [tabs.map(tab => tab.key).join('_')]);\n  const onListHolderResize = useUpdate(() => {\n    // Update wrapper records\n    const containerSize = getSize(containerRef);\n    const extraLeftSize = getSize(extraLeftRef);\n    const extraRightSize = getSize(extraRightRef);\n    setContainerExcludeExtraSize([containerSize[0] - extraLeftSize[0] - extraRightSize[0], containerSize[1] - extraLeftSize[1] - extraRightSize[1]]);\n    const newAddSize = getSize(innerAddButtonRef);\n    setAddSize(newAddSize);\n    const newOperationSize = getSize(operationsRef);\n    setOperationSize(newOperationSize);\n\n    // Which includes add button size\n    const tabContentFullSize = getSize(tabListRef);\n    setTabContentSize([tabContentFullSize[0] - newAddSize[0], tabContentFullSize[1] - newAddSize[1]]);\n\n    // Update buttons records\n    updateTabSizes();\n  });\n\n  // ======================== Dropdown =======================\n  const startHiddenTabs = tabs.slice(0, visibleStart);\n  const endHiddenTabs = tabs.slice(visibleEnd + 1);\n  const hiddenTabs = [...startHiddenTabs, ...endHiddenTabs];\n\n  // =================== Link & Operations ===================\n  const activeTabOffset = tabOffsets.get(activeKey);\n  const {\n    style: indicatorStyle\n  } = useIndicator({\n    activeTabOffset,\n    horizontal: tabPositionTopOrBottom,\n    indicator,\n    rtl\n  });\n\n  // ========================= Effect ========================\n  useEffect(() => {\n    scrollToTab();\n  }, [activeKey, transformMin, transformMax, stringify(activeTabOffset), stringify(tabOffsets), tabPositionTopOrBottom]);\n\n  // Should recalculate when rtl changed\n  useEffect(() => {\n    onListHolderResize();\n    // eslint-disable-next-line\n  }, [rtl]);\n\n  // ========================= Render ========================\n  const hasDropdown = !!hiddenTabs.length;\n  const wrapPrefix = `${prefixCls}-nav-wrap`;\n  let pingLeft;\n  let pingRight;\n  let pingTop;\n  let pingBottom;\n  if (tabPositionTopOrBottom) {\n    if (rtl) {\n      pingRight = transformLeft > 0;\n      pingLeft = transformLeft !== transformMax;\n    } else {\n      pingLeft = transformLeft < 0;\n      pingRight = transformLeft !== transformMin;\n    }\n  } else {\n    pingTop = transformTop < 0;\n    pingBottom = transformTop !== transformMin;\n  }\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: useComposeRef(ref, containerRef),\n    role: \"tablist\",\n    \"aria-orientation\": tabPositionTopOrBottom ? 'horizontal' : 'vertical',\n    className: clsx(`${prefixCls}-nav`, className, tabsClassNames?.header),\n    style: {\n      ...styles?.header,\n      ...style\n    },\n    onKeyDown: () => {\n      // No need animation when use keyboard\n      doLockAnimation();\n    }\n  }, /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraLeftRef,\n    position: \"left\",\n    extra: extra,\n    prefixCls: prefixCls\n  }), /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(wrapPrefix, {\n      [`${wrapPrefix}-ping-left`]: pingLeft,\n      [`${wrapPrefix}-ping-right`]: pingRight,\n      [`${wrapPrefix}-ping-top`]: pingTop,\n      [`${wrapPrefix}-ping-bottom`]: pingBottom\n    }),\n    ref: tabsWrapperRef\n  }, /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabListRef,\n    className: `${prefixCls}-nav-list`,\n    style: {\n      transform: `translate(${transformLeft}px, ${transformTop}px)`,\n      transition: lockAnimation ? 'none' : undefined\n    }\n  }, tabNodes, /*#__PURE__*/React.createElement(AddButton, {\n    ref: innerAddButtonRef,\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable,\n    style: {\n      ...(tabNodes.length === 0 ? undefined : tabNodeStyle),\n      visibility: hasDropdown ? 'hidden' : null\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(`${prefixCls}-ink-bar`, tabsClassNames?.indicator, {\n      [`${prefixCls}-ink-bar-animated`]: animated.inkBar\n    }),\n    style: {\n      ...indicatorStyle,\n      ...styles?.indicator\n    }\n  }))))), /*#__PURE__*/React.createElement(OperationNode, _extends({}, props, {\n    removeAriaLabel: locale?.removeAriaLabel,\n    ref: operationsRef,\n    prefixCls: prefixCls,\n    tabs: hiddenTabs,\n    className: !hasDropdown && operationsHiddenClassName,\n    popupStyle: styles?.popup,\n    tabMoving: !!lockAnimation\n  })), /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraRightRef,\n    position: \"right\",\n    extra: extra,\n    prefixCls: prefixCls\n  })));\n  /* eslint-enable */\n});\nexport default TabNavList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}