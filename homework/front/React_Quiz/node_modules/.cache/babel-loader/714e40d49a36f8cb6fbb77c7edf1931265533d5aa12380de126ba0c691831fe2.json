{"ast":null,"code":"import raf from \"@rc-component/util/es/raf\";\nimport React, { useEffect, useRef, useState } from 'react';\nconst useIndicator = options => {\n  const {\n    activeTabOffset,\n    horizontal,\n    rtl,\n    indicator = {}\n  } = options;\n  const {\n    size,\n    align = 'center'\n  } = indicator;\n  const [inkStyle, setInkStyle] = useState();\n  const inkBarRafRef = useRef();\n  const getLength = React.useCallback(origin => {\n    if (typeof size === 'function') {\n      return size(origin);\n    }\n    if (typeof size === 'number') {\n      return size;\n    }\n    return origin;\n  }, [size]);\n\n  // Delay set ink style to avoid remove tab blink\n  function cleanInkBarRaf() {\n    raf.cancel(inkBarRafRef.current);\n  }\n  useEffect(() => {\n    const newInkStyle = {};\n    if (activeTabOffset) {\n      if (horizontal) {\n        newInkStyle.width = getLength(activeTabOffset.width);\n        const key = rtl ? 'right' : 'left';\n        if (align === 'start') {\n          newInkStyle[key] = activeTabOffset[key];\n        }\n        if (align === 'center') {\n          newInkStyle[key] = activeTabOffset[key] + activeTabOffset.width / 2;\n          newInkStyle.transform = rtl ? 'translateX(50%)' : 'translateX(-50%)';\n        }\n        if (align === 'end') {\n          newInkStyle[key] = activeTabOffset[key] + activeTabOffset.width;\n          newInkStyle.transform = 'translateX(-100%)';\n        }\n      } else {\n        newInkStyle.height = getLength(activeTabOffset.height);\n        if (align === 'start') {\n          newInkStyle.top = activeTabOffset.top;\n        }\n        if (align === 'center') {\n          newInkStyle.top = activeTabOffset.top + activeTabOffset.height / 2;\n          newInkStyle.transform = 'translateY(-50%)';\n        }\n        if (align === 'end') {\n          newInkStyle.top = activeTabOffset.top + activeTabOffset.height;\n          newInkStyle.transform = 'translateY(-100%)';\n        }\n      }\n    }\n    cleanInkBarRaf();\n    inkBarRafRef.current = raf(() => {\n      // Avoid jitter caused by tiny numerical differences\n      // fix https://github.com/ant-design/ant-design/issues/53378\n      const isEqual = inkStyle && newInkStyle && Object.keys(newInkStyle).every(key => {\n        const newValue = newInkStyle[key];\n        const oldValue = inkStyle[key];\n        return typeof newValue === 'number' && typeof oldValue === 'number' ? Math.round(newValue) === Math.round(oldValue) : newValue === oldValue;\n      });\n      if (!isEqual) {\n        setInkStyle(newInkStyle);\n      }\n    });\n    return cleanInkBarRaf;\n  }, [JSON.stringify(activeTabOffset), horizontal, rtl, align, getLength]);\n  return {\n    style: inkStyle\n  };\n};\nexport default useIndicator;","map":{"version":3,"names":["raf","React","useEffect","useRef","useState","useIndicator","options","activeTabOffset","horizontal","rtl","indicator","size","align","inkStyle","setInkStyle","inkBarRafRef","getLength","useCallback","origin","cleanInkBarRaf","cancel","current","newInkStyle","width","key","transform","height","top","isEqual","Object","keys","every","newValue","oldValue","Math","round","JSON","stringify","style"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/tabs/es/hooks/useIndicator.js"],"sourcesContent":["import raf from \"@rc-component/util/es/raf\";\nimport React, { useEffect, useRef, useState } from 'react';\nconst useIndicator = options => {\n  const {\n    activeTabOffset,\n    horizontal,\n    rtl,\n    indicator = {}\n  } = options;\n  const {\n    size,\n    align = 'center'\n  } = indicator;\n  const [inkStyle, setInkStyle] = useState();\n  const inkBarRafRef = useRef();\n  const getLength = React.useCallback(origin => {\n    if (typeof size === 'function') {\n      return size(origin);\n    }\n    if (typeof size === 'number') {\n      return size;\n    }\n    return origin;\n  }, [size]);\n\n  // Delay set ink style to avoid remove tab blink\n  function cleanInkBarRaf() {\n    raf.cancel(inkBarRafRef.current);\n  }\n  useEffect(() => {\n    const newInkStyle = {};\n    if (activeTabOffset) {\n      if (horizontal) {\n        newInkStyle.width = getLength(activeTabOffset.width);\n        const key = rtl ? 'right' : 'left';\n        if (align === 'start') {\n          newInkStyle[key] = activeTabOffset[key];\n        }\n        if (align === 'center') {\n          newInkStyle[key] = activeTabOffset[key] + activeTabOffset.width / 2;\n          newInkStyle.transform = rtl ? 'translateX(50%)' : 'translateX(-50%)';\n        }\n        if (align === 'end') {\n          newInkStyle[key] = activeTabOffset[key] + activeTabOffset.width;\n          newInkStyle.transform = 'translateX(-100%)';\n        }\n      } else {\n        newInkStyle.height = getLength(activeTabOffset.height);\n        if (align === 'start') {\n          newInkStyle.top = activeTabOffset.top;\n        }\n        if (align === 'center') {\n          newInkStyle.top = activeTabOffset.top + activeTabOffset.height / 2;\n          newInkStyle.transform = 'translateY(-50%)';\n        }\n        if (align === 'end') {\n          newInkStyle.top = activeTabOffset.top + activeTabOffset.height;\n          newInkStyle.transform = 'translateY(-100%)';\n        }\n      }\n    }\n    cleanInkBarRaf();\n    inkBarRafRef.current = raf(() => {\n      // Avoid jitter caused by tiny numerical differences\n      // fix https://github.com/ant-design/ant-design/issues/53378\n      const isEqual = inkStyle && newInkStyle && Object.keys(newInkStyle).every(key => {\n        const newValue = newInkStyle[key];\n        const oldValue = inkStyle[key];\n        return typeof newValue === 'number' && typeof oldValue === 'number' ? Math.round(newValue) === Math.round(oldValue) : newValue === oldValue;\n      });\n      if (!isEqual) {\n        setInkStyle(newInkStyle);\n      }\n    });\n    return cleanInkBarRaf;\n  }, [JSON.stringify(activeTabOffset), horizontal, rtl, align, getLength]);\n  return {\n    style: inkStyle\n  };\n};\nexport default useIndicator;"],"mappings":"AAAA,OAAOA,GAAG,MAAM,2BAA2B;AAC3C,OAAOC,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,MAAMC,YAAY,GAAGC,OAAO,IAAI;EAC9B,MAAM;IACJC,eAAe;IACfC,UAAU;IACVC,GAAG;IACHC,SAAS,GAAG,CAAC;EACf,CAAC,GAAGJ,OAAO;EACX,MAAM;IACJK,IAAI;IACJC,KAAK,GAAG;EACV,CAAC,GAAGF,SAAS;EACb,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,CAAC;EAC1C,MAAMW,YAAY,GAAGZ,MAAM,CAAC,CAAC;EAC7B,MAAMa,SAAS,GAAGf,KAAK,CAACgB,WAAW,CAACC,MAAM,IAAI;IAC5C,IAAI,OAAOP,IAAI,KAAK,UAAU,EAAE;MAC9B,OAAOA,IAAI,CAACO,MAAM,CAAC;IACrB;IACA,IAAI,OAAOP,IAAI,KAAK,QAAQ,EAAE;MAC5B,OAAOA,IAAI;IACb;IACA,OAAOO,MAAM;EACf,CAAC,EAAE,CAACP,IAAI,CAAC,CAAC;;EAEV;EACA,SAASQ,cAAcA,CAAA,EAAG;IACxBnB,GAAG,CAACoB,MAAM,CAACL,YAAY,CAACM,OAAO,CAAC;EAClC;EACAnB,SAAS,CAAC,MAAM;IACd,MAAMoB,WAAW,GAAG,CAAC,CAAC;IACtB,IAAIf,eAAe,EAAE;MACnB,IAAIC,UAAU,EAAE;QACdc,WAAW,CAACC,KAAK,GAAGP,SAAS,CAACT,eAAe,CAACgB,KAAK,CAAC;QACpD,MAAMC,GAAG,GAAGf,GAAG,GAAG,OAAO,GAAG,MAAM;QAClC,IAAIG,KAAK,KAAK,OAAO,EAAE;UACrBU,WAAW,CAACE,GAAG,CAAC,GAAGjB,eAAe,CAACiB,GAAG,CAAC;QACzC;QACA,IAAIZ,KAAK,KAAK,QAAQ,EAAE;UACtBU,WAAW,CAACE,GAAG,CAAC,GAAGjB,eAAe,CAACiB,GAAG,CAAC,GAAGjB,eAAe,CAACgB,KAAK,GAAG,CAAC;UACnED,WAAW,CAACG,SAAS,GAAGhB,GAAG,GAAG,iBAAiB,GAAG,kBAAkB;QACtE;QACA,IAAIG,KAAK,KAAK,KAAK,EAAE;UACnBU,WAAW,CAACE,GAAG,CAAC,GAAGjB,eAAe,CAACiB,GAAG,CAAC,GAAGjB,eAAe,CAACgB,KAAK;UAC/DD,WAAW,CAACG,SAAS,GAAG,mBAAmB;QAC7C;MACF,CAAC,MAAM;QACLH,WAAW,CAACI,MAAM,GAAGV,SAAS,CAACT,eAAe,CAACmB,MAAM,CAAC;QACtD,IAAId,KAAK,KAAK,OAAO,EAAE;UACrBU,WAAW,CAACK,GAAG,GAAGpB,eAAe,CAACoB,GAAG;QACvC;QACA,IAAIf,KAAK,KAAK,QAAQ,EAAE;UACtBU,WAAW,CAACK,GAAG,GAAGpB,eAAe,CAACoB,GAAG,GAAGpB,eAAe,CAACmB,MAAM,GAAG,CAAC;UAClEJ,WAAW,CAACG,SAAS,GAAG,kBAAkB;QAC5C;QACA,IAAIb,KAAK,KAAK,KAAK,EAAE;UACnBU,WAAW,CAACK,GAAG,GAAGpB,eAAe,CAACoB,GAAG,GAAGpB,eAAe,CAACmB,MAAM;UAC9DJ,WAAW,CAACG,SAAS,GAAG,mBAAmB;QAC7C;MACF;IACF;IACAN,cAAc,CAAC,CAAC;IAChBJ,YAAY,CAACM,OAAO,GAAGrB,GAAG,CAAC,MAAM;MAC/B;MACA;MACA,MAAM4B,OAAO,GAAGf,QAAQ,IAAIS,WAAW,IAAIO,MAAM,CAACC,IAAI,CAACR,WAAW,CAAC,CAACS,KAAK,CAACP,GAAG,IAAI;QAC/E,MAAMQ,QAAQ,GAAGV,WAAW,CAACE,GAAG,CAAC;QACjC,MAAMS,QAAQ,GAAGpB,QAAQ,CAACW,GAAG,CAAC;QAC9B,OAAO,OAAOQ,QAAQ,KAAK,QAAQ,IAAI,OAAOC,QAAQ,KAAK,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,KAAKE,IAAI,CAACC,KAAK,CAACF,QAAQ,CAAC,GAAGD,QAAQ,KAAKC,QAAQ;MAC7I,CAAC,CAAC;MACF,IAAI,CAACL,OAAO,EAAE;QACZd,WAAW,CAACQ,WAAW,CAAC;MAC1B;IACF,CAAC,CAAC;IACF,OAAOH,cAAc;EACvB,CAAC,EAAE,CAACiB,IAAI,CAACC,SAAS,CAAC9B,eAAe,CAAC,EAAEC,UAAU,EAAEC,GAAG,EAAEG,KAAK,EAAEI,SAAS,CAAC,CAAC;EACxE,OAAO;IACLsB,KAAK,EAAEzB;EACT,CAAC;AACH,CAAC;AACD,eAAeR,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}