{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nconst _excluded = [\"label\", \"value\", \"className\", \"style\", \"key\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport * as React from 'react';\nimport { clsx } from 'clsx';\nimport Input from \"../Input\";\nimport { useSelectInputContext } from \"../context\";\nimport useBaseProps from \"../../hooks/useBaseProps\";\nimport Placeholder from \"./Placeholder\";\nimport SelectContext from \"../../SelectContext\";\nimport { getTitle } from \"../../utils/commonUtil\";\nconst SingleContent = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    inputProps\n  } = _ref;\n  const {\n    prefixCls,\n    searchValue,\n    activeValue,\n    displayValues,\n    maxLength,\n    mode\n  } = useSelectInputContext();\n  const {\n    triggerOpen,\n    title: rootTitle,\n    showSearch,\n    classNames,\n    styles\n  } = useBaseProps();\n  const selectContext = React.useContext(SelectContext);\n  const [inputChanged, setInputChanged] = React.useState(false);\n  const combobox = mode === 'combobox';\n  const displayValue = displayValues[0];\n\n  // Implement the same logic as the old SingleSelector\n  const mergedSearchValue = React.useMemo(() => {\n    if (combobox && activeValue && !inputChanged && triggerOpen) {\n      return activeValue;\n    }\n    return showSearch ? searchValue : '';\n  }, [combobox, activeValue, inputChanged, triggerOpen, searchValue, showSearch]);\n\n  // Extract option props, excluding label and value, and handle className/style merging\n  const optionProps = React.useMemo(() => {\n    let restProps = {\n      className: \"\".concat(prefixCls, \"-content-value\"),\n      style: {\n        visibility: mergedSearchValue ? 'hidden' : 'visible'\n      }\n    };\n    if (displayValue && selectContext !== null && selectContext !== void 0 && selectContext.flattenOptions) {\n      const option = selectContext.flattenOptions.find(opt => opt.value === displayValue.value);\n      if (option !== null && option !== void 0 && option.data) {\n        const _option$data = option.data,\n          {\n            label,\n            value,\n            className,\n            style,\n            key\n          } = _option$data,\n          rest = _objectWithoutProperties(_option$data, _excluded);\n        restProps = _objectSpread(_objectSpread(_objectSpread({}, restProps), rest), {}, {\n          title: getTitle(option.data),\n          className: clsx(restProps.className, className),\n          style: _objectSpread(_objectSpread({}, restProps.style), style)\n        });\n      }\n    }\n    if (displayValue && !restProps.title) {\n      restProps.title = getTitle(displayValue);\n    }\n    if (rootTitle !== undefined) {\n      restProps.title = rootTitle;\n    }\n    return restProps;\n  }, [displayValue, selectContext === null || selectContext === void 0 ? void 0 : selectContext.flattenOptions, prefixCls, mergedSearchValue, rootTitle]);\n  React.useEffect(() => {\n    if (combobox) {\n      setInputChanged(false);\n    }\n  }, [combobox, activeValue]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(\"\".concat(prefixCls, \"-content\"), classNames === null || classNames === void 0 ? void 0 : classNames.content),\n    style: styles === null || styles === void 0 ? void 0 : styles.content\n  }, displayValue ? /*#__PURE__*/React.createElement(\"div\", optionProps, displayValue.label) : /*#__PURE__*/React.createElement(Placeholder, {\n    show: !mergedSearchValue\n  }), /*#__PURE__*/React.createElement(Input, _extends({\n    ref: ref\n  }, inputProps, {\n    value: mergedSearchValue,\n    maxLength: mode === 'combobox' ? maxLength : undefined,\n    onChange: e => {\n      var _inputProps$onChange;\n      setInputChanged(true);\n      (_inputProps$onChange = inputProps.onChange) === null || _inputProps$onChange === void 0 || _inputProps$onChange.call(inputProps, e);\n    }\n  })));\n});\nexport default SingleContent;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","clsx","Input","useSelectInputContext","useBaseProps","Placeholder","SelectContext","getTitle","SingleContent","forwardRef","_ref","ref","inputProps","prefixCls","searchValue","activeValue","displayValues","maxLength","mode","triggerOpen","title","rootTitle","showSearch","classNames","styles","selectContext","useContext","inputChanged","setInputChanged","useState","combobox","displayValue","mergedSearchValue","useMemo","optionProps","restProps","className","concat","style","visibility","flattenOptions","option","find","opt","value","data","_option$data","label","rest","_objectWithoutProperties","_excluded","_objectSpread","undefined","useEffect","createElement","content","show","onChange","e","_inputProps$onChange"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/select/es/SelectInput/Content/SingleContent.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from 'react';\nimport { clsx } from 'clsx';\nimport Input from \"../Input\";\nimport { useSelectInputContext } from \"../context\";\nimport useBaseProps from \"../../hooks/useBaseProps\";\nimport Placeholder from \"./Placeholder\";\nimport SelectContext from \"../../SelectContext\";\nimport { getTitle } from \"../../utils/commonUtil\";\nconst SingleContent = /*#__PURE__*/React.forwardRef(({\n  inputProps\n}, ref) => {\n  const {\n    prefixCls,\n    searchValue,\n    activeValue,\n    displayValues,\n    maxLength,\n    mode\n  } = useSelectInputContext();\n  const {\n    triggerOpen,\n    title: rootTitle,\n    showSearch,\n    classNames,\n    styles\n  } = useBaseProps();\n  const selectContext = React.useContext(SelectContext);\n  const [inputChanged, setInputChanged] = React.useState(false);\n  const combobox = mode === 'combobox';\n  const displayValue = displayValues[0];\n\n  // Implement the same logic as the old SingleSelector\n  const mergedSearchValue = React.useMemo(() => {\n    if (combobox && activeValue && !inputChanged && triggerOpen) {\n      return activeValue;\n    }\n    return showSearch ? searchValue : '';\n  }, [combobox, activeValue, inputChanged, triggerOpen, searchValue, showSearch]);\n\n  // Extract option props, excluding label and value, and handle className/style merging\n  const optionProps = React.useMemo(() => {\n    let restProps = {\n      className: `${prefixCls}-content-value`,\n      style: {\n        visibility: mergedSearchValue ? 'hidden' : 'visible'\n      }\n    };\n    if (displayValue && selectContext?.flattenOptions) {\n      const option = selectContext.flattenOptions.find(opt => opt.value === displayValue.value);\n      if (option?.data) {\n        const {\n          label,\n          value,\n          className,\n          style,\n          key,\n          ...rest\n        } = option.data;\n        restProps = {\n          ...restProps,\n          ...rest,\n          title: getTitle(option.data),\n          className: clsx(restProps.className, className),\n          style: {\n            ...restProps.style,\n            ...style\n          }\n        };\n      }\n    }\n    if (displayValue && !restProps.title) {\n      restProps.title = getTitle(displayValue);\n    }\n    if (rootTitle !== undefined) {\n      restProps.title = rootTitle;\n    }\n    return restProps;\n  }, [displayValue, selectContext?.flattenOptions, prefixCls, mergedSearchValue, rootTitle]);\n  React.useEffect(() => {\n    if (combobox) {\n      setInputChanged(false);\n    }\n  }, [combobox, activeValue]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(`${prefixCls}-content`, classNames?.content),\n    style: styles?.content\n  }, displayValue ? /*#__PURE__*/React.createElement(\"div\", optionProps, displayValue.label) : /*#__PURE__*/React.createElement(Placeholder, {\n    show: !mergedSearchValue\n  }), /*#__PURE__*/React.createElement(Input, _extends({\n    ref: ref\n  }, inputProps, {\n    value: mergedSearchValue,\n    maxLength: mode === 'combobox' ? maxLength : undefined,\n    onChange: e => {\n      setInputChanged(true);\n      inputProps.onChange?.(e);\n    }\n  })));\n});\nexport default SingleContent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}