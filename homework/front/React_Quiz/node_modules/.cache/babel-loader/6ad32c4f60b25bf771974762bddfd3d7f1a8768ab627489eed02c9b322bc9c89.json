{"ast":null,"code":"import * as React from 'react';\nimport ResizeObserver from '@rc-component/resize-observer';\nimport MeasureCell from \"./MeasureCell\";\nimport isVisible from \"@rc-component/util/es/Dom/isVisible\";\nimport { useContext } from '@rc-component/context';\nimport TableContext from \"../context/TableContext\";\nconst MeasureRow = _ref => {\n  let {\n    prefixCls,\n    columnsKey,\n    onColumnResize,\n    columns\n  } = _ref;\n  const ref = React.useRef(null);\n  const {\n    measureRowRender\n  } = useContext(TableContext, ['measureRowRender']);\n  const measureRow = /*#__PURE__*/React.createElement(\"tr\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefixCls, \"-measure-row\"),\n    style: {\n      height: 0\n    },\n    ref: ref\n  }, /*#__PURE__*/React.createElement(ResizeObserver.Collection, {\n    onBatchResize: infoList => {\n      if (isVisible(ref.current)) {\n        infoList.forEach(_ref2 => {\n          let {\n            data: columnKey,\n            size\n          } = _ref2;\n          onColumnResize(columnKey, size.offsetWidth);\n        });\n      }\n    }\n  }, columnsKey.map(columnKey => {\n    const column = columns.find(col => col.key === columnKey);\n    const rawTitle = column === null || column === void 0 ? void 0 : column.title;\n    const titleForMeasure = /*#__PURE__*/React.isValidElement(rawTitle) ? /*#__PURE__*/React.cloneElement(rawTitle, {\n      ref: null\n    }) : rawTitle;\n    return /*#__PURE__*/React.createElement(MeasureCell, {\n      key: columnKey,\n      columnKey: columnKey,\n      onColumnResize: onColumnResize,\n      title: titleForMeasure\n    });\n  })));\n  return typeof measureRowRender === 'function' ? measureRowRender(measureRow) : measureRow;\n};\nexport default MeasureRow;","map":{"version":3,"names":["React","ResizeObserver","MeasureCell","isVisible","useContext","TableContext","MeasureRow","_ref","prefixCls","columnsKey","onColumnResize","columns","ref","useRef","measureRowRender","measureRow","createElement","className","concat","style","height","Collection","onBatchResize","infoList","current","forEach","_ref2","data","columnKey","size","offsetWidth","map","column","find","col","key","rawTitle","title","titleForMeasure","isValidElement","cloneElement"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/table/es/Body/MeasureRow.js"],"sourcesContent":["import * as React from 'react';\nimport ResizeObserver from '@rc-component/resize-observer';\nimport MeasureCell from \"./MeasureCell\";\nimport isVisible from \"@rc-component/util/es/Dom/isVisible\";\nimport { useContext } from '@rc-component/context';\nimport TableContext from \"../context/TableContext\";\nconst MeasureRow = ({\n  prefixCls,\n  columnsKey,\n  onColumnResize,\n  columns\n}) => {\n  const ref = React.useRef(null);\n  const {\n    measureRowRender\n  } = useContext(TableContext, ['measureRowRender']);\n  const measureRow = /*#__PURE__*/React.createElement(\"tr\", {\n    \"aria-hidden\": \"true\",\n    className: `${prefixCls}-measure-row`,\n    style: {\n      height: 0\n    },\n    ref: ref\n  }, /*#__PURE__*/React.createElement(ResizeObserver.Collection, {\n    onBatchResize: infoList => {\n      if (isVisible(ref.current)) {\n        infoList.forEach(({\n          data: columnKey,\n          size\n        }) => {\n          onColumnResize(columnKey, size.offsetWidth);\n        });\n      }\n    }\n  }, columnsKey.map(columnKey => {\n    const column = columns.find(col => col.key === columnKey);\n    const rawTitle = column?.title;\n    const titleForMeasure = /*#__PURE__*/React.isValidElement(rawTitle) ? /*#__PURE__*/React.cloneElement(rawTitle, {\n      ref: null\n    }) : rawTitle;\n    return /*#__PURE__*/React.createElement(MeasureCell, {\n      key: columnKey,\n      columnKey: columnKey,\n      onColumnResize: onColumnResize,\n      title: titleForMeasure\n    });\n  })));\n  return typeof measureRowRender === 'function' ? measureRowRender(measureRow) : measureRow;\n};\nexport default MeasureRow;"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,cAAc,MAAM,+BAA+B;AAC1D,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,SAAS,MAAM,qCAAqC;AAC3D,SAASC,UAAU,QAAQ,uBAAuB;AAClD,OAAOC,YAAY,MAAM,yBAAyB;AAClD,MAAMC,UAAU,GAAGC,IAAA,IAKb;EAAA,IALc;IAClBC,SAAS;IACTC,UAAU;IACVC,cAAc;IACdC;EACF,CAAC,GAAAJ,IAAA;EACC,MAAMK,GAAG,GAAGZ,KAAK,CAACa,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM;IACJC;EACF,CAAC,GAAGV,UAAU,CAACC,YAAY,EAAE,CAAC,kBAAkB,CAAC,CAAC;EAClD,MAAMU,UAAU,GAAG,aAAaf,KAAK,CAACgB,aAAa,CAAC,IAAI,EAAE;IACxD,aAAa,EAAE,MAAM;IACrBC,SAAS,KAAAC,MAAA,CAAKV,SAAS,iBAAc;IACrCW,KAAK,EAAE;MACLC,MAAM,EAAE;IACV,CAAC;IACDR,GAAG,EAAEA;EACP,CAAC,EAAE,aAAaZ,KAAK,CAACgB,aAAa,CAACf,cAAc,CAACoB,UAAU,EAAE;IAC7DC,aAAa,EAAEC,QAAQ,IAAI;MACzB,IAAIpB,SAAS,CAACS,GAAG,CAACY,OAAO,CAAC,EAAE;QAC1BD,QAAQ,CAACE,OAAO,CAACC,KAAA,IAGX;UAAA,IAHY;YAChBC,IAAI,EAAEC,SAAS;YACfC;UACF,CAAC,GAAAH,KAAA;UACChB,cAAc,CAACkB,SAAS,EAAEC,IAAI,CAACC,WAAW,CAAC;QAC7C,CAAC,CAAC;MACJ;IACF;EACF,CAAC,EAAErB,UAAU,CAACsB,GAAG,CAACH,SAAS,IAAI;IAC7B,MAAMI,MAAM,GAAGrB,OAAO,CAACsB,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,GAAG,KAAKP,SAAS,CAAC;IACzD,MAAMQ,QAAQ,GAAGJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEK,KAAK;IAC9B,MAAMC,eAAe,GAAG,aAAatC,KAAK,CAACuC,cAAc,CAACH,QAAQ,CAAC,GAAG,aAAapC,KAAK,CAACwC,YAAY,CAACJ,QAAQ,EAAE;MAC9GxB,GAAG,EAAE;IACP,CAAC,CAAC,GAAGwB,QAAQ;IACb,OAAO,aAAapC,KAAK,CAACgB,aAAa,CAACd,WAAW,EAAE;MACnDiC,GAAG,EAAEP,SAAS;MACdA,SAAS,EAAEA,SAAS;MACpBlB,cAAc,EAAEA,cAAc;MAC9B2B,KAAK,EAAEC;IACT,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAAC;EACJ,OAAO,OAAOxB,gBAAgB,KAAK,UAAU,GAAGA,gBAAgB,CAACC,UAAU,CAAC,GAAGA,UAAU;AAC3F,CAAC;AACD,eAAeT,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}