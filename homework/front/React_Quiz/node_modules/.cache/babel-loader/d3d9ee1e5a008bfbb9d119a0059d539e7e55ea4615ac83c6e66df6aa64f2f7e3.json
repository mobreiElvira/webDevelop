{"ast":null,"code":"import React from 'react';\nimport KeyCode from \"@rc-component/util/es/KeyCode\";\nimport { clsx } from 'clsx';\nfunction Star(props, ref) {\n  const {\n    disabled,\n    prefixCls,\n    character,\n    characterRender,\n    index,\n    count,\n    value,\n    allowHalf,\n    focused,\n    onHover,\n    onClick\n  } = props;\n\n  // =========================== Events ===========================\n  const onInternalHover = e => {\n    onHover(e, index);\n  };\n  const onInternalClick = e => {\n    onClick(e, index);\n  };\n  const onInternalKeyDown = e => {\n    if (e.keyCode === KeyCode.ENTER) {\n      onClick(e, index);\n    }\n  };\n\n  // =========================== Render ===========================\n  // >>>>> ClassName\n  const starValue = index + 1;\n  const classNameList = new Set([prefixCls]);\n\n  // TODO: Current we just refactor from CC to FC. This logic seems can be optimized.\n  if (value === 0 && index === 0 && focused) {\n    classNameList.add(\"\".concat(prefixCls, \"-focused\"));\n  } else if (allowHalf && value + 0.5 >= starValue && value < starValue) {\n    classNameList.add(\"\".concat(prefixCls, \"-half\"));\n    classNameList.add(\"\".concat(prefixCls, \"-active\"));\n    if (focused) {\n      classNameList.add(\"\".concat(prefixCls, \"-focused\"));\n    }\n  } else {\n    if (starValue <= value) {\n      classNameList.add(\"\".concat(prefixCls, \"-full\"));\n    } else {\n      classNameList.add(\"\".concat(prefixCls, \"-zero\"));\n    }\n    if (starValue === value && focused) {\n      classNameList.add(\"\".concat(prefixCls, \"-focused\"));\n    }\n  }\n\n  // >>>>> Node\n  const characterNode = typeof character === 'function' ? character(props) : character;\n  let start = /*#__PURE__*/React.createElement(\"li\", {\n    className: clsx(Array.from(classNameList)),\n    ref: ref\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: disabled ? null : onInternalClick,\n    onKeyDown: disabled ? null : onInternalKeyDown,\n    onMouseMove: disabled ? null : onInternalHover,\n    role: \"radio\",\n    \"aria-checked\": value > index ? 'true' : 'false',\n    \"aria-posinset\": index + 1,\n    \"aria-setsize\": count,\n    tabIndex: disabled ? -1 : 0\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-first\")\n  }, characterNode), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-second\")\n  }, characterNode)));\n  if (characterRender) {\n    start = characterRender(start, props);\n  }\n  return start;\n}\nexport default /*#__PURE__*/React.forwardRef(Star);","map":{"version":3,"names":["React","KeyCode","clsx","Star","props","ref","disabled","prefixCls","character","characterRender","index","count","value","allowHalf","focused","onHover","onClick","onInternalHover","e","onInternalClick","onInternalKeyDown","keyCode","ENTER","starValue","classNameList","Set","add","concat","characterNode","start","createElement","className","Array","from","onKeyDown","onMouseMove","role","tabIndex","forwardRef"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/rate/es/Star.js"],"sourcesContent":["import React from 'react';\nimport KeyCode from \"@rc-component/util/es/KeyCode\";\nimport { clsx } from 'clsx';\nfunction Star(props, ref) {\n  const {\n    disabled,\n    prefixCls,\n    character,\n    characterRender,\n    index,\n    count,\n    value,\n    allowHalf,\n    focused,\n    onHover,\n    onClick\n  } = props;\n\n  // =========================== Events ===========================\n  const onInternalHover = e => {\n    onHover(e, index);\n  };\n  const onInternalClick = e => {\n    onClick(e, index);\n  };\n  const onInternalKeyDown = e => {\n    if (e.keyCode === KeyCode.ENTER) {\n      onClick(e, index);\n    }\n  };\n\n  // =========================== Render ===========================\n  // >>>>> ClassName\n  const starValue = index + 1;\n  const classNameList = new Set([prefixCls]);\n\n  // TODO: Current we just refactor from CC to FC. This logic seems can be optimized.\n  if (value === 0 && index === 0 && focused) {\n    classNameList.add(`${prefixCls}-focused`);\n  } else if (allowHalf && value + 0.5 >= starValue && value < starValue) {\n    classNameList.add(`${prefixCls}-half`);\n    classNameList.add(`${prefixCls}-active`);\n    if (focused) {\n      classNameList.add(`${prefixCls}-focused`);\n    }\n  } else {\n    if (starValue <= value) {\n      classNameList.add(`${prefixCls}-full`);\n    } else {\n      classNameList.add(`${prefixCls}-zero`);\n    }\n    if (starValue === value && focused) {\n      classNameList.add(`${prefixCls}-focused`);\n    }\n  }\n\n  // >>>>> Node\n  const characterNode = typeof character === 'function' ? character(props) : character;\n  let start = /*#__PURE__*/React.createElement(\"li\", {\n    className: clsx(Array.from(classNameList)),\n    ref: ref\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: disabled ? null : onInternalClick,\n    onKeyDown: disabled ? null : onInternalKeyDown,\n    onMouseMove: disabled ? null : onInternalHover,\n    role: \"radio\",\n    \"aria-checked\": value > index ? 'true' : 'false',\n    \"aria-posinset\": index + 1,\n    \"aria-setsize\": count,\n    tabIndex: disabled ? -1 : 0\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-first`\n  }, characterNode), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-second`\n  }, characterNode)));\n  if (characterRender) {\n    start = characterRender(start, props);\n  }\n  return start;\n}\nexport default /*#__PURE__*/React.forwardRef(Star);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}