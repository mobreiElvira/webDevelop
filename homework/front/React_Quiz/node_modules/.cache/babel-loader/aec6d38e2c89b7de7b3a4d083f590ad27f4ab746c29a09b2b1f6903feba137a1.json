{"ast":null,"code":"import toNodeArray from \"@rc-component/util/es/Children/toArray\";\nimport warning, { noteOnce } from \"@rc-component/util/es/warning\";\nimport * as React from 'react';\nimport { isMultiple } from \"../BaseSelect\";\nimport { toArray } from \"./commonUtil\";\nimport { convertChildrenToData } from \"./legacyUtil\";\nfunction warningProps(props) {\n  const {\n    mode,\n    options,\n    children,\n    backfill,\n    allowClear,\n    placeholder,\n    getInputElement,\n    showSearch,\n    onSearch,\n    defaultOpen,\n    autoFocus,\n    labelInValue,\n    value,\n    optionLabelProp\n  } = props;\n  const multiple = isMultiple(mode);\n  const mergedShowSearch = showSearch !== undefined ? showSearch : multiple || mode === 'combobox';\n  const mergedOptions = options || convertChildrenToData(children);\n\n  // `tags` should not set option as disabled\n  warning(mode !== 'tags' || mergedOptions.every(opt => !opt.disabled), 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n\n  // `combobox` & `tags` should option be `string` type\n  if (mode === 'tags' || mode === 'combobox') {\n    const hasNumberValue = mergedOptions.some(item => {\n      if (item.options) {\n        return item.options.some(opt => typeof ('value' in opt ? opt.value : opt.key) === 'number');\n      }\n      return typeof ('value' in item ? item.value : item.key) === 'number';\n    });\n    warning(!hasNumberValue, '`value` of Option should not use number type when `mode` is `tags` or `combobox`.');\n  }\n\n  // `combobox` should not use `optionLabelProp`\n  warning(mode !== 'combobox' || !optionLabelProp, '`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly.');\n\n  // Only `combobox` support `backfill`\n  warning(mode === 'combobox' || !backfill, '`backfill` only works with `combobox` mode.');\n\n  // Only `combobox` support `getInputElement`\n  warning(mode === 'combobox' || !getInputElement, '`getInputElement` only work with `combobox` mode.');\n\n  // Customize `getInputElement` should not use `allowClear` & `placeholder`\n  noteOnce(mode !== 'combobox' || !getInputElement || !allowClear || !placeholder, 'Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`.');\n\n  // `onSearch` should use in `combobox` or `showSearch`\n  if (onSearch && !mergedShowSearch && mode !== 'combobox' && mode !== 'tags') {\n    warning(false, '`onSearch` should work with `showSearch` instead of use alone.');\n  }\n  noteOnce(!defaultOpen || autoFocus, '`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed.');\n  if (value !== undefined && value !== null) {\n    const values = toArray(value);\n    warning(!labelInValue || values.every(val => typeof val === 'object' && ('key' in val || 'value' in val)), '`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`');\n    warning(!multiple || Array.isArray(value), '`value` should be array when `mode` is `multiple` or `tags`');\n  }\n\n  // Syntactic sugar should use correct children type\n  if (children) {\n    let invalidateChildType = null;\n    toNodeArray(children).some(node => {\n      if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n        return false;\n      }\n      const {\n        type\n      } = node;\n      if (type.isSelectOption) {\n        return false;\n      }\n      if (type.isSelectOptGroup) {\n        const allChildrenValid = toNodeArray(node.props.children).every(subNode => {\n          if (! /*#__PURE__*/React.isValidElement(subNode) || !node.type || subNode.type.isSelectOption) {\n            return true;\n          }\n          invalidateChildType = subNode.type;\n          return false;\n        });\n        if (allChildrenValid) {\n          return false;\n        }\n        return true;\n      }\n      invalidateChildType = type;\n      return true;\n    });\n    if (invalidateChildType) {\n      warning(false, \"`children` should be `Select.Option` or `Select.OptGroup` instead of `\".concat(invalidateChildType.displayName || invalidateChildType.name || invalidateChildType, \"`.\"));\n    }\n  }\n}\n\n// value in Select option should not be null\n// note: OptGroup has options too\nexport function warningNullOptions(options, fieldNames) {\n  if (options) {\n    const recursiveOptions = function (optionsList) {\n      let inGroup = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      for (let i = 0; i < optionsList.length; i++) {\n        const option = optionsList[i];\n        if (option[fieldNames === null || fieldNames === void 0 ? void 0 : fieldNames.value] === null) {\n          warning(false, '`value` in Select options should not be `null`.');\n          return true;\n        }\n        if (!inGroup && Array.isArray(option[fieldNames === null || fieldNames === void 0 ? void 0 : fieldNames.options]) && recursiveOptions(option[fieldNames === null || fieldNames === void 0 ? void 0 : fieldNames.options], true)) {\n          break;\n        }\n      }\n    };\n    recursiveOptions(options);\n  }\n}\nexport default warningProps;","map":{"version":3,"names":["toNodeArray","warning","noteOnce","React","isMultiple","toArray","convertChildrenToData","warningProps","props","mode","options","children","backfill","allowClear","placeholder","getInputElement","showSearch","onSearch","defaultOpen","autoFocus","labelInValue","value","optionLabelProp","multiple","mergedShowSearch","undefined","mergedOptions","every","opt","disabled","hasNumberValue","some","item","key","values","val","Array","isArray","invalidateChildType","node","isValidElement","type","isSelectOption","isSelectOptGroup","allChildrenValid","subNode","concat","displayName","name","warningNullOptions","fieldNames","recursiveOptions","optionsList","inGroup","arguments","length","i","option"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/select/es/utils/warningPropsUtil.js"],"sourcesContent":["import toNodeArray from \"@rc-component/util/es/Children/toArray\";\nimport warning, { noteOnce } from \"@rc-component/util/es/warning\";\nimport * as React from 'react';\nimport { isMultiple } from \"../BaseSelect\";\nimport { toArray } from \"./commonUtil\";\nimport { convertChildrenToData } from \"./legacyUtil\";\nfunction warningProps(props) {\n  const {\n    mode,\n    options,\n    children,\n    backfill,\n    allowClear,\n    placeholder,\n    getInputElement,\n    showSearch,\n    onSearch,\n    defaultOpen,\n    autoFocus,\n    labelInValue,\n    value,\n    optionLabelProp\n  } = props;\n  const multiple = isMultiple(mode);\n  const mergedShowSearch = showSearch !== undefined ? showSearch : multiple || mode === 'combobox';\n  const mergedOptions = options || convertChildrenToData(children);\n\n  // `tags` should not set option as disabled\n  warning(mode !== 'tags' || mergedOptions.every(opt => !opt.disabled), 'Please avoid setting option to disabled in tags mode since user can always type text as tag.');\n\n  // `combobox` & `tags` should option be `string` type\n  if (mode === 'tags' || mode === 'combobox') {\n    const hasNumberValue = mergedOptions.some(item => {\n      if (item.options) {\n        return item.options.some(opt => typeof ('value' in opt ? opt.value : opt.key) === 'number');\n      }\n      return typeof ('value' in item ? item.value : item.key) === 'number';\n    });\n    warning(!hasNumberValue, '`value` of Option should not use number type when `mode` is `tags` or `combobox`.');\n  }\n\n  // `combobox` should not use `optionLabelProp`\n  warning(mode !== 'combobox' || !optionLabelProp, '`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly.');\n\n  // Only `combobox` support `backfill`\n  warning(mode === 'combobox' || !backfill, '`backfill` only works with `combobox` mode.');\n\n  // Only `combobox` support `getInputElement`\n  warning(mode === 'combobox' || !getInputElement, '`getInputElement` only work with `combobox` mode.');\n\n  // Customize `getInputElement` should not use `allowClear` & `placeholder`\n  noteOnce(mode !== 'combobox' || !getInputElement || !allowClear || !placeholder, 'Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`.');\n\n  // `onSearch` should use in `combobox` or `showSearch`\n  if (onSearch && !mergedShowSearch && mode !== 'combobox' && mode !== 'tags') {\n    warning(false, '`onSearch` should work with `showSearch` instead of use alone.');\n  }\n  noteOnce(!defaultOpen || autoFocus, '`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed.');\n  if (value !== undefined && value !== null) {\n    const values = toArray(value);\n    warning(!labelInValue || values.every(val => typeof val === 'object' && ('key' in val || 'value' in val)), '`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`');\n    warning(!multiple || Array.isArray(value), '`value` should be array when `mode` is `multiple` or `tags`');\n  }\n\n  // Syntactic sugar should use correct children type\n  if (children) {\n    let invalidateChildType = null;\n    toNodeArray(children).some(node => {\n      if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n        return false;\n      }\n      const {\n        type\n      } = node;\n      if (type.isSelectOption) {\n        return false;\n      }\n      if (type.isSelectOptGroup) {\n        const allChildrenValid = toNodeArray(node.props.children).every(subNode => {\n          if (! /*#__PURE__*/React.isValidElement(subNode) || !node.type || subNode.type.isSelectOption) {\n            return true;\n          }\n          invalidateChildType = subNode.type;\n          return false;\n        });\n        if (allChildrenValid) {\n          return false;\n        }\n        return true;\n      }\n      invalidateChildType = type;\n      return true;\n    });\n    if (invalidateChildType) {\n      warning(false, `\\`children\\` should be \\`Select.Option\\` or \\`Select.OptGroup\\` instead of \\`${invalidateChildType.displayName || invalidateChildType.name || invalidateChildType}\\`.`);\n    }\n  }\n}\n\n// value in Select option should not be null\n// note: OptGroup has options too\nexport function warningNullOptions(options, fieldNames) {\n  if (options) {\n    const recursiveOptions = (optionsList, inGroup = false) => {\n      for (let i = 0; i < optionsList.length; i++) {\n        const option = optionsList[i];\n        if (option[fieldNames?.value] === null) {\n          warning(false, '`value` in Select options should not be `null`.');\n          return true;\n        }\n        if (!inGroup && Array.isArray(option[fieldNames?.options]) && recursiveOptions(option[fieldNames?.options], true)) {\n          break;\n        }\n      }\n    };\n    recursiveOptions(options);\n  }\n}\nexport default warningProps;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}