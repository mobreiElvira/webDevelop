{"ast":null,"code":"import _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport * as React from 'react';\n/**\n * Cache `value` related LabeledValue & options.\n */\nexport default (labeledValues, valueOptions) => {\n  const cacheRef = React.useRef({\n    values: new Map(),\n    options: new Map()\n  });\n  const filledLabeledValues = React.useMemo(() => {\n    const {\n      values: prevValueCache,\n      options: prevOptionCache\n    } = cacheRef.current;\n\n    // Fill label by cache\n    const patchedValues = labeledValues.map(item => {\n      if (item.label === undefined) {\n        var _prevValueCache$get;\n        return _objectSpread(_objectSpread({}, item), {}, {\n          label: (_prevValueCache$get = prevValueCache.get(item.value)) === null || _prevValueCache$get === void 0 ? void 0 : _prevValueCache$get.label\n        });\n      }\n      return item;\n    });\n\n    // Refresh cache\n    const valueCache = new Map();\n    const optionCache = new Map();\n    patchedValues.forEach(item => {\n      valueCache.set(item.value, item);\n      optionCache.set(item.value, valueOptions.get(item.value) || prevOptionCache.get(item.value));\n    });\n    cacheRef.current.values = valueCache;\n    cacheRef.current.options = optionCache;\n    return patchedValues;\n  }, [labeledValues, valueOptions]);\n  const getOption = React.useCallback(val => valueOptions.get(val) || cacheRef.current.options.get(val), [valueOptions]);\n  return [filledLabeledValues, getOption];\n};","map":{"version":3,"names":["React","labeledValues","valueOptions","cacheRef","useRef","values","Map","options","filledLabeledValues","useMemo","prevValueCache","prevOptionCache","current","patchedValues","map","item","label","undefined","_prevValueCache$get","_objectSpread","get","value","valueCache","optionCache","forEach","set","getOption","useCallback","val"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/select/es/hooks/useCache.js"],"sourcesContent":["import * as React from 'react';\n/**\n * Cache `value` related LabeledValue & options.\n */\nexport default ((labeledValues, valueOptions) => {\n  const cacheRef = React.useRef({\n    values: new Map(),\n    options: new Map()\n  });\n  const filledLabeledValues = React.useMemo(() => {\n    const {\n      values: prevValueCache,\n      options: prevOptionCache\n    } = cacheRef.current;\n\n    // Fill label by cache\n    const patchedValues = labeledValues.map(item => {\n      if (item.label === undefined) {\n        return {\n          ...item,\n          label: prevValueCache.get(item.value)?.label\n        };\n      }\n      return item;\n    });\n\n    // Refresh cache\n    const valueCache = new Map();\n    const optionCache = new Map();\n    patchedValues.forEach(item => {\n      valueCache.set(item.value, item);\n      optionCache.set(item.value, valueOptions.get(item.value) || prevOptionCache.get(item.value));\n    });\n    cacheRef.current.values = valueCache;\n    cacheRef.current.options = optionCache;\n    return patchedValues;\n  }, [labeledValues, valueOptions]);\n  const getOption = React.useCallback(val => valueOptions.get(val) || cacheRef.current.options.get(val), [valueOptions]);\n  return [filledLabeledValues, getOption];\n});"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B;AACA;AACA;AACA,eAAgB,CAACC,aAAa,EAAEC,YAAY,KAAK;EAC/C,MAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAM,CAAC;IAC5BC,MAAM,EAAE,IAAIC,GAAG,CAAC,CAAC;IACjBC,OAAO,EAAE,IAAID,GAAG,CAAC;EACnB,CAAC,CAAC;EACF,MAAME,mBAAmB,GAAGR,KAAK,CAACS,OAAO,CAAC,MAAM;IAC9C,MAAM;MACJJ,MAAM,EAAEK,cAAc;MACtBH,OAAO,EAAEI;IACX,CAAC,GAAGR,QAAQ,CAACS,OAAO;;IAEpB;IACA,MAAMC,aAAa,GAAGZ,aAAa,CAACa,GAAG,CAACC,IAAI,IAAI;MAC9C,IAAIA,IAAI,CAACC,KAAK,KAAKC,SAAS,EAAE;QAAA,IAAAC,mBAAA;QAC5B,OAAAC,aAAA,CAAAA,aAAA,KACKJ,IAAI;UACPC,KAAK,GAAAE,mBAAA,GAAER,cAAc,CAACU,GAAG,CAACL,IAAI,CAACM,KAAK,CAAC,cAAAH,mBAAA,uBAA9BA,mBAAA,CAAgCF;QAAK;MAEhD;MACA,OAAOD,IAAI;IACb,CAAC,CAAC;;IAEF;IACA,MAAMO,UAAU,GAAG,IAAIhB,GAAG,CAAC,CAAC;IAC5B,MAAMiB,WAAW,GAAG,IAAIjB,GAAG,CAAC,CAAC;IAC7BO,aAAa,CAACW,OAAO,CAACT,IAAI,IAAI;MAC5BO,UAAU,CAACG,GAAG,CAACV,IAAI,CAACM,KAAK,EAAEN,IAAI,CAAC;MAChCQ,WAAW,CAACE,GAAG,CAACV,IAAI,CAACM,KAAK,EAAEnB,YAAY,CAACkB,GAAG,CAACL,IAAI,CAACM,KAAK,CAAC,IAAIV,eAAe,CAACS,GAAG,CAACL,IAAI,CAACM,KAAK,CAAC,CAAC;IAC9F,CAAC,CAAC;IACFlB,QAAQ,CAACS,OAAO,CAACP,MAAM,GAAGiB,UAAU;IACpCnB,QAAQ,CAACS,OAAO,CAACL,OAAO,GAAGgB,WAAW;IACtC,OAAOV,aAAa;EACtB,CAAC,EAAE,CAACZ,aAAa,EAAEC,YAAY,CAAC,CAAC;EACjC,MAAMwB,SAAS,GAAG1B,KAAK,CAAC2B,WAAW,CAACC,GAAG,IAAI1B,YAAY,CAACkB,GAAG,CAACQ,GAAG,CAAC,IAAIzB,QAAQ,CAACS,OAAO,CAACL,OAAO,CAACa,GAAG,CAACQ,GAAG,CAAC,EAAE,CAAC1B,YAAY,CAAC,CAAC;EACtH,OAAO,CAACM,mBAAmB,EAAEkB,SAAS,CAAC;AACzC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}