{"ast":null,"code":"import * as React from 'react';\n/**\n * Same as React.useState but `setState` accept `ignoreDestroy` param to not to setState after destroyed.\n * We do not make this auto is to avoid real memory leak.\n * Developer should confirm it's safe to ignore themselves.\n */\nexport default function useSafeState(defaultValue) {\n  const destroyRef = React.useRef(false);\n  const [value, setValue] = React.useState(defaultValue);\n  React.useEffect(() => {\n    destroyRef.current = false;\n    return () => {\n      destroyRef.current = true;\n    };\n  }, []);\n  function safeSetState(updater, ignoreDestroy) {\n    if (ignoreDestroy && destroyRef.current) {\n      return;\n    }\n    setValue(updater);\n  }\n  return [value, safeSetState];\n}","map":{"version":3,"names":["React","useSafeState","defaultValue","destroyRef","useRef","value","setValue","useState","useEffect","current","safeSetState","updater","ignoreDestroy"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/util/es/hooks/useState.js"],"sourcesContent":["import * as React from 'react';\n/**\n * Same as React.useState but `setState` accept `ignoreDestroy` param to not to setState after destroyed.\n * We do not make this auto is to avoid real memory leak.\n * Developer should confirm it's safe to ignore themselves.\n */\nexport default function useSafeState(defaultValue) {\n  const destroyRef = React.useRef(false);\n  const [value, setValue] = React.useState(defaultValue);\n  React.useEffect(() => {\n    destroyRef.current = false;\n    return () => {\n      destroyRef.current = true;\n    };\n  }, []);\n  function safeSetState(updater, ignoreDestroy) {\n    if (ignoreDestroy && destroyRef.current) {\n      return;\n    }\n    setValue(updater);\n  }\n  return [value, safeSetState];\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,YAAYA,CAACC,YAAY,EAAE;EACjD,MAAMC,UAAU,GAAGH,KAAK,CAACI,MAAM,CAAC,KAAK,CAAC;EACtC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,KAAK,CAACO,QAAQ,CAACL,YAAY,CAAC;EACtDF,KAAK,CAACQ,SAAS,CAAC,MAAM;IACpBL,UAAU,CAACM,OAAO,GAAG,KAAK;IAC1B,OAAO,MAAM;MACXN,UAAU,CAACM,OAAO,GAAG,IAAI;IAC3B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,SAASC,YAAYA,CAACC,OAAO,EAAEC,aAAa,EAAE;IAC5C,IAAIA,aAAa,IAAIT,UAAU,CAACM,OAAO,EAAE;MACvC;IACF;IACAH,QAAQ,CAACK,OAAO,CAAC;EACnB;EACA,OAAO,CAACN,KAAK,EAAEK,YAAY,CAAC;AAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}