{"ast":null,"code":"import * as React from 'react';\nimport { useRef } from 'react';\nimport { animationEndName, transitionEndName } from \"../util/motion\";\nexport default onInternalMotionEnd => {\n  const cacheElementRef = useRef();\n\n  // Remove events\n  function removeMotionEvents(element) {\n    if (element) {\n      element.removeEventListener(transitionEndName, onInternalMotionEnd);\n      element.removeEventListener(animationEndName, onInternalMotionEnd);\n    }\n  }\n\n  // Patch events\n  function patchMotionEvents(element) {\n    if (cacheElementRef.current && cacheElementRef.current !== element) {\n      removeMotionEvents(cacheElementRef.current);\n    }\n    if (element && element !== cacheElementRef.current) {\n      element.addEventListener(transitionEndName, onInternalMotionEnd);\n      element.addEventListener(animationEndName, onInternalMotionEnd);\n\n      // Save as cache in case dom removed trigger by `motionDeadline`\n      cacheElementRef.current = element;\n    }\n  }\n\n  // Clean up when removed\n  React.useEffect(() => () => {\n    removeMotionEvents(cacheElementRef.current);\n    cacheElementRef.current = null;\n  }, []);\n  return [patchMotionEvents, removeMotionEvents];\n};","map":{"version":3,"names":["React","useRef","animationEndName","transitionEndName","onInternalMotionEnd","cacheElementRef","removeMotionEvents","element","removeEventListener","patchMotionEvents","current","addEventListener","useEffect"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/motion/es/hooks/useDomMotionEvents.js"],"sourcesContent":["import * as React from 'react';\nimport { useRef } from 'react';\nimport { animationEndName, transitionEndName } from \"../util/motion\";\nexport default (onInternalMotionEnd => {\n  const cacheElementRef = useRef();\n\n  // Remove events\n  function removeMotionEvents(element) {\n    if (element) {\n      element.removeEventListener(transitionEndName, onInternalMotionEnd);\n      element.removeEventListener(animationEndName, onInternalMotionEnd);\n    }\n  }\n\n  // Patch events\n  function patchMotionEvents(element) {\n    if (cacheElementRef.current && cacheElementRef.current !== element) {\n      removeMotionEvents(cacheElementRef.current);\n    }\n    if (element && element !== cacheElementRef.current) {\n      element.addEventListener(transitionEndName, onInternalMotionEnd);\n      element.addEventListener(animationEndName, onInternalMotionEnd);\n\n      // Save as cache in case dom removed trigger by `motionDeadline`\n      cacheElementRef.current = element;\n    }\n  }\n\n  // Clean up when removed\n  React.useEffect(() => () => {\n    removeMotionEvents(cacheElementRef.current);\n    cacheElementRef.current = null;\n  }, []);\n  return [patchMotionEvents, removeMotionEvents];\n});"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,QAAQ,OAAO;AAC9B,SAASC,gBAAgB,EAAEC,iBAAiB,QAAQ,gBAAgB;AACpE,eAAgBC,mBAAmB,IAAI;EACrC,MAAMC,eAAe,GAAGJ,MAAM,CAAC,CAAC;;EAEhC;EACA,SAASK,kBAAkBA,CAACC,OAAO,EAAE;IACnC,IAAIA,OAAO,EAAE;MACXA,OAAO,CAACC,mBAAmB,CAACL,iBAAiB,EAAEC,mBAAmB,CAAC;MACnEG,OAAO,CAACC,mBAAmB,CAACN,gBAAgB,EAAEE,mBAAmB,CAAC;IACpE;EACF;;EAEA;EACA,SAASK,iBAAiBA,CAACF,OAAO,EAAE;IAClC,IAAIF,eAAe,CAACK,OAAO,IAAIL,eAAe,CAACK,OAAO,KAAKH,OAAO,EAAE;MAClED,kBAAkB,CAACD,eAAe,CAACK,OAAO,CAAC;IAC7C;IACA,IAAIH,OAAO,IAAIA,OAAO,KAAKF,eAAe,CAACK,OAAO,EAAE;MAClDH,OAAO,CAACI,gBAAgB,CAACR,iBAAiB,EAAEC,mBAAmB,CAAC;MAChEG,OAAO,CAACI,gBAAgB,CAACT,gBAAgB,EAAEE,mBAAmB,CAAC;;MAE/D;MACAC,eAAe,CAACK,OAAO,GAAGH,OAAO;IACnC;EACF;;EAEA;EACAP,KAAK,CAACY,SAAS,CAAC,MAAM,MAAM;IAC1BN,kBAAkB,CAACD,eAAe,CAACK,OAAO,CAAC;IAC3CL,eAAe,CAACK,OAAO,GAAG,IAAI;EAChC,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,CAACD,iBAAiB,EAAEH,kBAAkB,CAAC;AAChD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}