{"ast":null,"code":"import * as React from 'react';\nimport { clsx } from 'clsx';\nimport { useContext } from '@rc-component/context';\nimport TableContext, { responseImmutable } from \"../context/TableContext\";\nimport devRenderTimes from \"../hooks/useRenderTimes\";\nimport HeaderRow from \"./HeaderRow\";\nfunction parseHeaderRows(rootColumns, classNames, styles) {\n  const rows = [];\n  function fillRowCells(columns, colIndex) {\n    let rowIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    // Init rows\n    rows[rowIndex] = rows[rowIndex] || [];\n    let currentColIndex = colIndex;\n    const colSpans = columns.filter(Boolean).map(column => {\n      const cell = {\n        key: column.key,\n        className: clsx(column.className, classNames.cell) || '',\n        style: styles.cell,\n        children: column.title,\n        column,\n        colStart: currentColIndex\n      };\n      let colSpan = 1;\n      const subColumns = column.children;\n      if (subColumns && subColumns.length > 0) {\n        colSpan = fillRowCells(subColumns, currentColIndex, rowIndex + 1).reduce((total, count) => total + count, 0);\n        cell.hasSubColumns = true;\n      }\n      if ('colSpan' in column) {\n        ({\n          colSpan\n        } = column);\n      }\n      if ('rowSpan' in column) {\n        cell.rowSpan = column.rowSpan;\n      }\n      cell.colSpan = colSpan;\n      cell.colEnd = cell.colStart + colSpan - 1;\n      rows[rowIndex].push(cell);\n      currentColIndex += colSpan;\n      return colSpan;\n    });\n    return colSpans;\n  }\n\n  // Generate `rows` cell data\n  fillRowCells(rootColumns, 0);\n\n  // Handle `rowSpan`\n  const rowCount = rows.length;\n  for (let rowIndex = 0; rowIndex < rowCount; rowIndex += 1) {\n    rows[rowIndex].forEach(cell => {\n      if (!('rowSpan' in cell) && !cell.hasSubColumns) {\n        // eslint-disable-next-line no-param-reassign\n        cell.rowSpan = rowCount - rowIndex;\n      }\n    });\n  }\n  return rows;\n}\nconst Header = props => {\n  if (process.env.NODE_ENV !== 'production') {\n    devRenderTimes(props);\n  }\n  const {\n    stickyOffsets,\n    columns,\n    flattenColumns,\n    onHeaderRow\n  } = props;\n  const {\n    prefixCls,\n    getComponent,\n    classNames,\n    styles\n  } = useContext(TableContext, ['prefixCls', 'getComponent', 'classNames', 'styles']);\n  const {\n    header: headerCls = {}\n  } = classNames || {};\n  const {\n    header: headerStyles = {}\n  } = styles || {};\n  const rows = React.useMemo(() => parseHeaderRows(columns, headerCls, headerStyles), [columns, headerCls, headerStyles]);\n  const WrapperComponent = getComponent(['header', 'wrapper'], 'thead');\n  const trComponent = getComponent(['header', 'row'], 'tr');\n  const thComponent = getComponent(['header', 'cell'], 'th');\n  return /*#__PURE__*/React.createElement(WrapperComponent, {\n    className: clsx(\"\".concat(prefixCls, \"-thead\"), headerCls.wrapper),\n    style: headerStyles.wrapper\n  }, rows.map((row, rowIndex) => {\n    const rowNode = /*#__PURE__*/React.createElement(HeaderRow, {\n      classNames: headerCls,\n      styles: headerStyles,\n      key: rowIndex,\n      flattenColumns: flattenColumns,\n      cells: row,\n      stickyOffsets: stickyOffsets,\n      rowComponent: trComponent,\n      cellComponent: thComponent,\n      onHeaderRow: onHeaderRow,\n      index: rowIndex\n    });\n    return rowNode;\n  }));\n};\nexport default responseImmutable(Header);","map":{"version":3,"names":["React","clsx","useContext","TableContext","responseImmutable","devRenderTimes","HeaderRow","parseHeaderRows","rootColumns","classNames","styles","rows","fillRowCells","columns","colIndex","rowIndex","arguments","length","undefined","currentColIndex","colSpans","filter","Boolean","map","column","cell","key","className","style","children","title","colStart","colSpan","subColumns","reduce","total","count","hasSubColumns","rowSpan","colEnd","push","rowCount","forEach","Header","props","process","env","NODE_ENV","stickyOffsets","flattenColumns","onHeaderRow","prefixCls","getComponent","header","headerCls","headerStyles","useMemo","WrapperComponent","trComponent","thComponent","createElement","concat","wrapper","row","rowNode","cells","rowComponent","cellComponent","index"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/table/es/Header/Header.js"],"sourcesContent":["import * as React from 'react';\nimport { clsx } from 'clsx';\nimport { useContext } from '@rc-component/context';\nimport TableContext, { responseImmutable } from \"../context/TableContext\";\nimport devRenderTimes from \"../hooks/useRenderTimes\";\nimport HeaderRow from \"./HeaderRow\";\nfunction parseHeaderRows(rootColumns, classNames, styles) {\n  const rows = [];\n  function fillRowCells(columns, colIndex, rowIndex = 0) {\n    // Init rows\n    rows[rowIndex] = rows[rowIndex] || [];\n    let currentColIndex = colIndex;\n    const colSpans = columns.filter(Boolean).map(column => {\n      const cell = {\n        key: column.key,\n        className: clsx(column.className, classNames.cell) || '',\n        style: styles.cell,\n        children: column.title,\n        column,\n        colStart: currentColIndex\n      };\n      let colSpan = 1;\n      const subColumns = column.children;\n      if (subColumns && subColumns.length > 0) {\n        colSpan = fillRowCells(subColumns, currentColIndex, rowIndex + 1).reduce((total, count) => total + count, 0);\n        cell.hasSubColumns = true;\n      }\n      if ('colSpan' in column) {\n        ({\n          colSpan\n        } = column);\n      }\n      if ('rowSpan' in column) {\n        cell.rowSpan = column.rowSpan;\n      }\n      cell.colSpan = colSpan;\n      cell.colEnd = cell.colStart + colSpan - 1;\n      rows[rowIndex].push(cell);\n      currentColIndex += colSpan;\n      return colSpan;\n    });\n    return colSpans;\n  }\n\n  // Generate `rows` cell data\n  fillRowCells(rootColumns, 0);\n\n  // Handle `rowSpan`\n  const rowCount = rows.length;\n  for (let rowIndex = 0; rowIndex < rowCount; rowIndex += 1) {\n    rows[rowIndex].forEach(cell => {\n      if (!('rowSpan' in cell) && !cell.hasSubColumns) {\n        // eslint-disable-next-line no-param-reassign\n        cell.rowSpan = rowCount - rowIndex;\n      }\n    });\n  }\n  return rows;\n}\nconst Header = props => {\n  if (process.env.NODE_ENV !== 'production') {\n    devRenderTimes(props);\n  }\n  const {\n    stickyOffsets,\n    columns,\n    flattenColumns,\n    onHeaderRow\n  } = props;\n  const {\n    prefixCls,\n    getComponent,\n    classNames,\n    styles\n  } = useContext(TableContext, ['prefixCls', 'getComponent', 'classNames', 'styles']);\n  const {\n    header: headerCls = {}\n  } = classNames || {};\n  const {\n    header: headerStyles = {}\n  } = styles || {};\n  const rows = React.useMemo(() => parseHeaderRows(columns, headerCls, headerStyles), [columns, headerCls, headerStyles]);\n  const WrapperComponent = getComponent(['header', 'wrapper'], 'thead');\n  const trComponent = getComponent(['header', 'row'], 'tr');\n  const thComponent = getComponent(['header', 'cell'], 'th');\n  return /*#__PURE__*/React.createElement(WrapperComponent, {\n    className: clsx(`${prefixCls}-thead`, headerCls.wrapper),\n    style: headerStyles.wrapper\n  }, rows.map((row, rowIndex) => {\n    const rowNode = /*#__PURE__*/React.createElement(HeaderRow, {\n      classNames: headerCls,\n      styles: headerStyles,\n      key: rowIndex,\n      flattenColumns: flattenColumns,\n      cells: row,\n      stickyOffsets: stickyOffsets,\n      rowComponent: trComponent,\n      cellComponent: thComponent,\n      onHeaderRow: onHeaderRow,\n      index: rowIndex\n    });\n    return rowNode;\n  }));\n};\nexport default responseImmutable(Header);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}