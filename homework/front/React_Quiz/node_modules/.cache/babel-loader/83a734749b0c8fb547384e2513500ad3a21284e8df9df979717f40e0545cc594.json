{"ast":null,"code":"import _defineProperty from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nconst SPLIT = '__@field_split__';\n\n/**\n * Convert name path into string to fast the fetch speed of Map.\n */\nfunction normalize(namePath) {\n  return namePath.map(cell => \"\".concat(typeof cell, \":\").concat(cell))\n  // Magic split\n  .join(SPLIT);\n}\n\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\nclass NameMap {\n  constructor() {\n    _defineProperty(this, \"kvs\", new Map());\n  }\n  set(key, value) {\n    this.kvs.set(normalize(key), value);\n  }\n  get(key) {\n    return this.kvs.get(normalize(key));\n  }\n  update(key, updater) {\n    const origin = this.get(key);\n    const next = updater(origin);\n    if (!next) {\n      this.delete(key);\n    } else {\n      this.set(key, next);\n    }\n  }\n  delete(key) {\n    this.kvs.delete(normalize(key));\n  }\n\n  // Since we only use this in test, let simply realize this\n  map(callback) {\n    return [...this.kvs.entries()].map(_ref => {\n      let [key, value] = _ref;\n      const cells = key.split(SPLIT);\n      return callback({\n        key: cells.map(cell => {\n          const [, type, unit] = cell.match(/^([^:]*):(.*)$/);\n          return type === 'number' ? Number(unit) : unit;\n        }),\n        value\n      });\n    });\n  }\n  toJSON() {\n    const json = {};\n    this.map(_ref2 => {\n      let {\n        key,\n        value\n      } = _ref2;\n      json[key.join('.')] = value;\n      return null;\n    });\n    return json;\n  }\n}\nexport default NameMap;","map":{"version":3,"names":["SPLIT","normalize","namePath","map","cell","concat","join","NameMap","constructor","_defineProperty","Map","set","key","value","kvs","get","update","updater","origin","next","delete","callback","entries","_ref","cells","split","type","unit","match","Number","toJSON","json","_ref2"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/form/es/utils/NameMap.js"],"sourcesContent":["const SPLIT = '__@field_split__';\n\n/**\n * Convert name path into string to fast the fetch speed of Map.\n */\nfunction normalize(namePath) {\n  return namePath.map(cell => `${typeof cell}:${cell}`)\n  // Magic split\n  .join(SPLIT);\n}\n\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\nclass NameMap {\n  kvs = new Map();\n  set(key, value) {\n    this.kvs.set(normalize(key), value);\n  }\n  get(key) {\n    return this.kvs.get(normalize(key));\n  }\n  update(key, updater) {\n    const origin = this.get(key);\n    const next = updater(origin);\n    if (!next) {\n      this.delete(key);\n    } else {\n      this.set(key, next);\n    }\n  }\n  delete(key) {\n    this.kvs.delete(normalize(key));\n  }\n\n  // Since we only use this in test, let simply realize this\n  map(callback) {\n    return [...this.kvs.entries()].map(([key, value]) => {\n      const cells = key.split(SPLIT);\n      return callback({\n        key: cells.map(cell => {\n          const [, type, unit] = cell.match(/^([^:]*):(.*)$/);\n          return type === 'number' ? Number(unit) : unit;\n        }),\n        value\n      });\n    });\n  }\n  toJSON() {\n    const json = {};\n    this.map(({\n      key,\n      value\n    }) => {\n      json[key.join('.')] = value;\n      return null;\n    });\n    return json;\n  }\n}\nexport default NameMap;"],"mappings":";AAAA,MAAMA,KAAK,GAAG,kBAAkB;;AAEhC;AACA;AACA;AACA,SAASC,SAASA,CAACC,QAAQ,EAAE;EAC3B,OAAOA,QAAQ,CAACC,GAAG,CAACC,IAAI,OAAAC,MAAA,CAAO,OAAOD,IAAI,OAAAC,MAAA,CAAID,IAAI,CAAE;EACpD;EAAA,CACCE,IAAI,CAACN,KAAK,CAAC;AACd;;AAEA;AACA;AACA;AACA,MAAMO,OAAO,CAAC;EAAAC,YAAA;IAAAC,eAAA,cACN,IAAIC,GAAG,CAAC,CAAC;EAAA;EACfC,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAE;IACd,IAAI,CAACC,GAAG,CAACH,GAAG,CAACV,SAAS,CAACW,GAAG,CAAC,EAAEC,KAAK,CAAC;EACrC;EACAE,GAAGA,CAACH,GAAG,EAAE;IACP,OAAO,IAAI,CAACE,GAAG,CAACC,GAAG,CAACd,SAAS,CAACW,GAAG,CAAC,CAAC;EACrC;EACAI,MAAMA,CAACJ,GAAG,EAAEK,OAAO,EAAE;IACnB,MAAMC,MAAM,GAAG,IAAI,CAACH,GAAG,CAACH,GAAG,CAAC;IAC5B,MAAMO,IAAI,GAAGF,OAAO,CAACC,MAAM,CAAC;IAC5B,IAAI,CAACC,IAAI,EAAE;MACT,IAAI,CAACC,MAAM,CAACR,GAAG,CAAC;IAClB,CAAC,MAAM;MACL,IAAI,CAACD,GAAG,CAACC,GAAG,EAAEO,IAAI,CAAC;IACrB;EACF;EACAC,MAAMA,CAACR,GAAG,EAAE;IACV,IAAI,CAACE,GAAG,CAACM,MAAM,CAACnB,SAAS,CAACW,GAAG,CAAC,CAAC;EACjC;;EAEA;EACAT,GAAGA,CAACkB,QAAQ,EAAE;IACZ,OAAO,CAAC,GAAG,IAAI,CAACP,GAAG,CAACQ,OAAO,CAAC,CAAC,CAAC,CAACnB,GAAG,CAACoB,IAAA,IAAkB;MAAA,IAAjB,CAACX,GAAG,EAAEC,KAAK,CAAC,GAAAU,IAAA;MAC9C,MAAMC,KAAK,GAAGZ,GAAG,CAACa,KAAK,CAACzB,KAAK,CAAC;MAC9B,OAAOqB,QAAQ,CAAC;QACdT,GAAG,EAAEY,KAAK,CAACrB,GAAG,CAACC,IAAI,IAAI;UACrB,MAAM,GAAGsB,IAAI,EAAEC,IAAI,CAAC,GAAGvB,IAAI,CAACwB,KAAK,CAAC,gBAAgB,CAAC;UACnD,OAAOF,IAAI,KAAK,QAAQ,GAAGG,MAAM,CAACF,IAAI,CAAC,GAAGA,IAAI;QAChD,CAAC,CAAC;QACFd;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAiB,MAAMA,CAAA,EAAG;IACP,MAAMC,IAAI,GAAG,CAAC,CAAC;IACf,IAAI,CAAC5B,GAAG,CAAC6B,KAAA,IAGH;MAAA,IAHI;QACRpB,GAAG;QACHC;MACF,CAAC,GAAAmB,KAAA;MACCD,IAAI,CAACnB,GAAG,CAACN,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGO,KAAK;MAC3B,OAAO,IAAI;IACb,CAAC,CAAC;IACF,OAAOkB,IAAI;EACb;AACF;AACA,eAAexB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}