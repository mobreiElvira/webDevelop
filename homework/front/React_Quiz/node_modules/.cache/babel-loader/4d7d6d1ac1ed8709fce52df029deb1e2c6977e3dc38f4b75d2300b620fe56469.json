{"ast":null,"code":"import _objectWithoutProperties from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"F:/\\u7EFC\\u5408/\\u4E2A\\u4EBA/\\u4F5C\\u4E1A/\\u4E3B\\u8BFE/\\u5927\\u4E09/web\\u5F00\\u53D1/homework/front/React_Quiz/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nconst _excluded = [\"component\", \"children\", \"onVisibleChanged\", \"onAllRemoved\"],\n  _excluded2 = [\"status\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n/* eslint react/prop-types: 0 */\nimport * as React from 'react';\nimport OriginCSSMotion from \"./CSSMotion\";\nimport { diffKeys, parseKeys, STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED } from \"./util/diff\";\nimport { supportTransition } from \"./util/motion\";\nconst MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearPrepare', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\n/**\n * Generate a CSSMotionList component with config\n * @param transitionSupport No need since CSSMotionList no longer depends on transition support\n * @param CSSMotion CSSMotion component\n */\nexport function genCSSMotionList(transitionSupport) {\n  let CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n  class CSSMotionList extends React.Component {\n    constructor() {\n      super(...arguments);\n      _defineProperty(this, \"state\", {\n        keyEntities: []\n      });\n      // ZombieJ: Return the count of rest keys. It's safe to refactor if need more info.\n      _defineProperty(this, \"removeKey\", removeKey => {\n        this.setState(prevState => {\n          const nextKeyEntities = prevState.keyEntities.map(entity => {\n            if (entity.key !== removeKey) return entity;\n            return _objectSpread(_objectSpread({}, entity), {}, {\n              status: STATUS_REMOVED\n            });\n          });\n          return {\n            keyEntities: nextKeyEntities\n          };\n        }, () => {\n          const {\n            keyEntities\n          } = this.state;\n          const restKeysCount = keyEntities.filter(_ref => {\n            let {\n              status\n            } = _ref;\n            return status !== STATUS_REMOVED;\n          }).length;\n          if (restKeysCount === 0 && this.props.onAllRemoved) {\n            this.props.onAllRemoved();\n          }\n        });\n      });\n    }\n    static getDerivedStateFromProps(_ref2, _ref3) {\n      let {\n        keys\n      } = _ref2;\n      let {\n        keyEntities\n      } = _ref3;\n      const parsedKeyObjects = parseKeys(keys);\n      const mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n      return {\n        keyEntities: mixedKeyEntities.filter(entity => {\n          const prevEntity = keyEntities.find(_ref4 => {\n            let {\n              key\n            } = _ref4;\n            return entity.key === key;\n          });\n\n          // Remove if already mark as removed\n          if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n            return false;\n          }\n          return true;\n        })\n      };\n    }\n    render() {\n      const {\n        keyEntities\n      } = this.state;\n      const _this$props = this.props,\n        {\n          component,\n          children,\n          onVisibleChanged,\n          onAllRemoved\n        } = _this$props,\n        restProps = _objectWithoutProperties(_this$props, _excluded);\n      const Component = component || React.Fragment;\n      const motionProps = {};\n      MOTION_PROP_NAMES.forEach(prop => {\n        motionProps[prop] = restProps[prop];\n        delete restProps[prop];\n      });\n      delete restProps.keys;\n      return /*#__PURE__*/React.createElement(Component, restProps, keyEntities.map((_ref5, index) => {\n        let {\n            status\n          } = _ref5,\n          eventProps = _objectWithoutProperties(_ref5, _excluded2);\n        const visible = status === STATUS_ADD || status === STATUS_KEEP;\n        return /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motionProps, {\n          key: eventProps.key,\n          visible: visible,\n          eventProps: eventProps,\n          onVisibleChanged: changedVisible => {\n            onVisibleChanged === null || onVisibleChanged === void 0 || onVisibleChanged(changedVisible, {\n              key: eventProps.key\n            });\n            if (!changedVisible) {\n              this.removeKey(eventProps.key);\n            }\n          }\n        }), (props, ref) => children(_objectSpread(_objectSpread({}, props), {}, {\n          index\n        }), ref));\n      }));\n    }\n  }\n  _defineProperty(CSSMotionList, \"defaultProps\", {\n    component: 'div'\n  });\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","OriginCSSMotion","diffKeys","parseKeys","STATUS_ADD","STATUS_KEEP","STATUS_REMOVE","STATUS_REMOVED","supportTransition","MOTION_PROP_NAMES","genCSSMotionList","transitionSupport","CSSMotion","undefined","CSSMotionList","Component","constructor","_defineProperty","keyEntities","removeKey","setState","prevState","nextKeyEntities","map","entity","_objectSpread","status","state","restKeysCount","filter","_ref","props","onAllRemoved","getDerivedStateFromProps","_ref2","_ref3","keys","parsedKeyObjects","mixedKeyEntities","prevEntity","find","_ref4","render","_this$props","component","children","onVisibleChanged","restProps","_objectWithoutProperties","_excluded","Fragment","motionProps","forEach","prop","createElement","_ref5","index","eventProps","_excluded2","visible","changedVisible","ref"],"sources":["F:/综合/个人/作业/主课/大三/web开发/homework/front/React_Quiz/node_modules/@rc-component/motion/es/CSSMotionList.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n/* eslint react/prop-types: 0 */\nimport * as React from 'react';\nimport OriginCSSMotion from \"./CSSMotion\";\nimport { diffKeys, parseKeys, STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED } from \"./util/diff\";\nimport { supportTransition } from \"./util/motion\";\nconst MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearPrepare', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\n/**\n * Generate a CSSMotionList component with config\n * @param transitionSupport No need since CSSMotionList no longer depends on transition support\n * @param CSSMotion CSSMotion component\n */\nexport function genCSSMotionList(transitionSupport, CSSMotion = OriginCSSMotion) {\n  class CSSMotionList extends React.Component {\n    static defaultProps = {\n      component: 'div'\n    };\n    state = {\n      keyEntities: []\n    };\n    static getDerivedStateFromProps({\n      keys\n    }, {\n      keyEntities\n    }) {\n      const parsedKeyObjects = parseKeys(keys);\n      const mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n      return {\n        keyEntities: mixedKeyEntities.filter(entity => {\n          const prevEntity = keyEntities.find(({\n            key\n          }) => entity.key === key);\n\n          // Remove if already mark as removed\n          if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n            return false;\n          }\n          return true;\n        })\n      };\n    }\n\n    // ZombieJ: Return the count of rest keys. It's safe to refactor if need more info.\n    removeKey = removeKey => {\n      this.setState(prevState => {\n        const nextKeyEntities = prevState.keyEntities.map(entity => {\n          if (entity.key !== removeKey) return entity;\n          return {\n            ...entity,\n            status: STATUS_REMOVED\n          };\n        });\n        return {\n          keyEntities: nextKeyEntities\n        };\n      }, () => {\n        const {\n          keyEntities\n        } = this.state;\n        const restKeysCount = keyEntities.filter(({\n          status\n        }) => status !== STATUS_REMOVED).length;\n        if (restKeysCount === 0 && this.props.onAllRemoved) {\n          this.props.onAllRemoved();\n        }\n      });\n    };\n    render() {\n      const {\n        keyEntities\n      } = this.state;\n      const {\n        component,\n        children,\n        onVisibleChanged,\n        onAllRemoved,\n        ...restProps\n      } = this.props;\n      const Component = component || React.Fragment;\n      const motionProps = {};\n      MOTION_PROP_NAMES.forEach(prop => {\n        motionProps[prop] = restProps[prop];\n        delete restProps[prop];\n      });\n      delete restProps.keys;\n      return /*#__PURE__*/React.createElement(Component, restProps, keyEntities.map(({\n        status,\n        ...eventProps\n      }, index) => {\n        const visible = status === STATUS_ADD || status === STATUS_KEEP;\n        return /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motionProps, {\n          key: eventProps.key,\n          visible: visible,\n          eventProps: eventProps,\n          onVisibleChanged: changedVisible => {\n            onVisibleChanged?.(changedVisible, {\n              key: eventProps.key\n            });\n            if (!changedVisible) {\n              this.removeKey(eventProps.key);\n            }\n          }\n        }), (props, ref) => children({\n          ...props,\n          index\n        }, ref));\n      }));\n    }\n  }\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}