# AI 脑筋急转弯项目结构

## 项目概述
这是一个 AI 脑筋急转弯游戏网站，用户可以与 AI 主持人进行对话互动，玩脑筋急转弯游戏。

## 技术栈
- Vue 3 (Composition API)
- TypeScript
- Ant Design Vue
- Vue Router
- Axios
- Vite

## 项目结构

```
src/
├── api/
│   └── chat.ts                 # API 服务，处理与后端的通信
├── router/
│   └── index.ts                # 路由配置
├── views/
│   ├── HomePage.vue            # 首页（页面1：开始游戏）
│   ├── ChatRoom.vue            # 聊天室页面（页面2：对话界面）
│   └── RoomHistory.vue         # 历史对话记录页面
├── App.vue                     # 根组件
├── main.ts                     # 应用入口
└── style.css                   # 全局样式
```

## 页面说明

### 1. HomePage.vue (首页)
- 显示"AI 脑筋急转弯"标题
- 提供"开始游戏"按钮
- 提供"查看历史对话"按钮
- 点击开始游戏会生成随机房间号并跳转到聊天室

### 2. ChatRoom.vue (聊天室)
- 顶部显示房间号
- 中间为对话区域
  - 左侧：AI 回复（带机器人头像）
  - 右侧：用户输入（带用户头像）
- 底部操作区
  - "开始"按钮：开始游戏，AI 会给出初始招呼语
  - "结束游戏"按钮：主动结束游戏
  - 输入框：输入消息内容
  - "发送"按钮：发送消息

**交互逻辑：**
- 进入页面自动生成房间号
- 点击"开始"按钮或输入"开始"后，调用后端 API
- 开始游戏后，"开始"按钮禁用
- 每次发送消息都会调用后端 API 并显示回复
- 当 AI 回复包含"游戏已结束"时，"结束游戏"按钮禁用

### 3. RoomHistory.vue (历史记录)
- 显示所有历史对话房间
- 每个房间显示为卡片，包含房间号和创建时间
- 点击房间卡片可以查看/继续该房间的对话

## API 接口

### 1. 发送消息
- **URL**: `http://localhost:8080/{roomId}/chat`
- **方法**: POST
- **参数**:
  - `roomId` (URL 参数): 房间号
  - `userPrompt` (Query 参数): 用户输入的消息
- **返回**: AI 的回复文本

### 2. 获取房间列表
- **URL**: `http://localhost:8080/rooms`
- **方法**: GET
- **参数**: 无
- **返回**: 房间列表数组

## 运行项目

```bash
# 安装依赖
npm install

# 开发模式
npm run dev

# 构建生产版本
npm run build

# 预览生产构建
npm run preview
```

## 注意事项

1. 确保后端服务运行在 `http://localhost:8080`
2. 项目已配置好所有依赖，可以直接运行
3. 界面采用响应式设计，支持 PC 和移动端
4. 使用了渐变背景和现代化 UI 设计
